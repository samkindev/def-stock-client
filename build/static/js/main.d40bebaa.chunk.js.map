{"version":3,"sources":["app/reducers/assujetti.js","utilities/helpers.js","Components/Topbar.js/index.js","Components/Inputs/DateMaskInput.js","Components/Inputs/ComboBox.js","Components/Loading/Chargement.js","Components/Inputs/NumberFormat.js","Components/Inputs/Radio.js","Components/Inputs/Search.js","Components/Dialogs/LargeDialog.js","Components/Facture/index.js","Components/Dialogs/MenuPoppover.js","Components/Dialogs/Feedback.js","app/reducers/config.js","Components/Card/TauxDevise.js","Components/Inputs/Checkbox.js","Components/Inputs/MonthYear.js","modules/Facturation/utilities/helpers.js","modules/Facturation/components/DefaultValues.js","app/reducers/produit.js","app/reducers/vente.js","modules/Facturation/components/ResulutTable.js","modules/Facturation/components/ProduitListStyledComponents.js","modules/Facturation/components/SelectedProduitStyledComponents.js","modules/Facturation/utilities/validators.js","modules/Facturation/components/FactureModal.js","app/reducers/facture.js","modules/Facturation/utilities/hooks.js","modules/Facturation/components/FactureRecente.js","modules/Facturation/pages/index.js","sockets/index.js","modules/Facturation/navigation.js","modules/Stock/components/ProduitTableau.js","modules/Stock/utilities/validators/produit.js","modules/Stock/components/CategorieForm.js","modules/Stock/components/FormProduitModal.js","modules/Stock/pages/Produit.js","modules/Stock/components/SideBar.js","modules/Stock/components/MultipleFormApprov.js","app/reducers/factureAchat.js","modules/Stock/components/ApprovProduitList.js","app/reducers/entree.js","modules/Stock/components/SelectedApprovFacture.js","modules/Stock/components/ListeFacturesAchat.js","modules/Stock/components/FormApprovisionnement.js","modules/Stock/components/TableApprovisionnement.js","app/reducers/stock.js","modules/Stock/pages/Approvisionnement.js","modules/Stock/components/TableFicheStock.js","modules/Stock/components/FicheStockChart.js","app/reducers/ficheStock.js","modules/Stock/pages/FicheStock.js","modules/Stock/pages/NouveauProduit.js","modules/Stock/components/ApprovHistoryTable.js","modules/Stock/pages/Historique.js","modules/Stock/navigation.js","App.js","app/store.js","app/theme.js","index.js","assets/nodata.svg","assets/void.svg"],"names":["getUserData","createAsyncThunk","Object","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","_createSlice","createSlice","name","initialState","assujetti","user","auth","status","extraReducers","_extraReducers","defineProperty","pending","state","fulfilled","action","payload","connected","rejected","error","reducer","actions","getAssujetti","getUser","getAuth","getreqState","dateCompare","b","x","y","Date","valueOf","isFinite","NaN","getLoginRedirectUrl","href","window","location","protocol","slice","indexOf","baseUrl","length","split","console","log","formatNumber","number","toLocaleString","getPrixUnitaire","prixTotal","quantite","type","pu","Topbar","useSelector","theme","useTheme","_useState","useState","_useState2","slicedToArray","openMenu","setOpenMenu","toggleMenu","event","key","react_default","createElement","className","style","backgroundColor","palette","grey","padding","spacing","borderBottom","primary","light","Box","display","alignItems","IconButton","sx","mr","onClick","Apps_default","fontSize","Topbar_js_MainAppMenu","open","Typography","color","variant","fontWeight","Topbar_js_User","User","_ref","Avatar","width","height","prenom","ArrowDropDown_default","StyledMainMenuHeader","styled","position","justifyContent","StyledContentContainer","StyledMenuList","flexDirection","StyledMenuCard","_ref2","cursor","borderRadius","transition","&:not(:last-child)","marginBottom","& > svg","marginRight","& > span","&.menu-card:hover","boxShadow","shadows","StyledFooter","bottom","left","right","& > .copy-right","MainAppMenu","_ref3","SwipeableDrawer","anchor","onClose","onOpen","BackdropProps","Button","endIcon","ArrowForward_default","mb","pl","LocalGroceryStore_default","react_router_dom","to","target","Inventory_default","Receipt_default","CreditCard_default","Groups_default","Settings_default","raison_sociale","Divider","TextMaskCustom","React","props","ref","onChange","other","objectWithoutProperties","_excluded","react","react_imask_esm","assign","mask","definitions","#","inputRef","onAccept","value","overwrite","label","id","_excluded2","TextField","InputProps","inputComponent","options","minWidth","setValue","placeholder","textFieldXs","helperText","disabled","Autocomplete","objectSpread2","newValue","isOptionEqualToValue","option","autoHighlight","getOptionLabel","renderInput","params","Chargement","message","size","textAlign","CircularProgress","NumberFormatCustom","prefix","suffix","NumberFormat_excluded","react_number_format_es","getInputRef","onValueChange","values","thousandSeparator","isNumericString","maxLength","NumberFormat_excluded2","inputProps","BpIcon","mode","backgroundImage",".Mui-focusVisible &","outline","outlineOffset","input:hover ~ &","input:disabled ~ &","background","BpCheckedIcon","&:before","content","BpRadio","Radio","&:hover","bgcolor","disableRipple","checkedIcon","icon","FormControlLabel","control","SearchAuctoComplete","popupIcon","Search","memo","StyledBox","border","common","white","StyledInput","flex","undefined","LargeDialog","title","onAgree","disagreeBtnText","agreeBtnText","onDisagree","Dialog","aria-labelledby","aria-describedby","& .MuiDialog-container","& h2","& .MuiDialogContent-root","& p","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","MyDocument","numFacture","useParams","facture","setFacture","_useState3","_useState4","loading","setLoading","useEffect","concat","then","catch","err","finally","Modal","styles","frameContainer","Fragment","react_pdf_browser_es","body","header","headerSide","headerText","alignH","text","num_facture","date","toLocaleDateString","toLocaleTimeString","table","Facture_TabHeader","tabBody","produits","map","produit","Facture_TabRow","designation","Facture_TabFooter","totalHT","total_ht","tva","total_tva","TabHeader","tabHeader","tabRow","tabCol","total","TabRow","prix_unitaire","q_sortie","TabFooter","tabFooter","footerContent","labelContainer","footerRow","borderTopColor","borderStyle","borderTopWidth","marginTop","valueContainer","StyleSheet","create","paddingTop","paddingBottom","paddingHorizontal","fontFamily","marginVertical","borderBottomColor","borderBottomWidth","fontStyle","paddingVertical","flexBasis","MenuPopover","handleClose","anchorEl","children","anchorOrigin","MenuPoppover_excluded","Popover","vertical","horizontal","Feedback","autoHideDuration","_useContext","useContext","FeedbackContext","getFeedback","_getFeedback","openState","messageState","idState","typeState","reason","Snackbar","TransitionProps","onExited","Alert","severity","elevation","config_createSlice","taux","devise","reducers","setTaux","setDevise","getTaux","configs","getDevise","StyledContainer","StyledInfo","&","& .value","marginLeft","TauxDevise","TauxDevise_StyledContainer","aria-label","BpCheckbox","Checkbox","Checkbox_BpCheckedIcon","Checkbox_BpIcon","CustomisedChekbox","Checkbox_excluded","ViewsDatePicker","_React$useState","_React$useState2","LocalizationProvider","locale","frLocale","dateAdapter","AdapterDateFns","DatePicker","inputFormat","views","minDate","maxDate","components","OpenPickerIcon","ArrowDropDownIcon","m","& fieldset","getClientData","numDef","cb","nD","compareNumDef","num_def","replaceAll","post","numero_def","d","_x","_x2","_x3","apply","this","arguments","def1","def2","fifo","entrees","qSortie","i","qSparEntree","qS","es","entreeSortie","pT","sorted","toConsumableArray","sort","createdAt","_loop","e","quantite_entree","filter","entreeId","reste","Math","abs","push","q_entree","entree","pv_unitaire","newEntrees","calculeFacture","remise","q","st","forEach","p","quantiteSortie","prixTot","isNaN","sousTotal","netAPayer","Default","handleChangeClient","autreTaxes","setAutreTaxes","setDefValue","clientError","def","setDef","client","setClient","_useState5","_useState6","loadingClient","setLoadingClient","_useState7","_useState8","foundState","setFoundState","_useState9","_useState10","assujettiError","setAssujettiError","setTimeout","Box_Box","CheckCircle_default","Cancel_default","mt","NumberFormat","parseFloat","produitEntity","createEntityAdapter","selectId","item","getInitialState","venteRequestStatus","errors","categories","getCategoriesProduit","_callee2","_context2","getProduits","_callee3","_context3","getVenteDataProduits","_callee4","_context4","creerProduit","_ref6","_callee5","_ref5","_context5","produit_createSlice","initError","appendProduit","upsertOne","appendCategorie","produit_extraReducers","upsertMany","_produitEntity$getSel","getSelectors","selectAll","getReqState","selectById","getErrors","getCategories","getCounts","entities","all","dispo","indispo","alert","quantite_min","getFilterdProduits","categorieId","prod","categorieProduitId","venteEntity","count","nouvelleVente","getVenteCount","vente_createSlice","addFactureCourante","factureRecente","vente_extraReducers","ventes","_venteEntity$getSelec","getCount","StyledTableCell","join","&.body","&.body > span","&.qt","&.header","&.total","&.total.body > span","StyledTableInputCell","StyledTableCol","&:last-child td, &:last-child th","StyledDisplay","maxWidth","ResultDesplay","qT","sT","nP","setRemise","StyledTableRow","ButtonBase","&:nth-of-type(odd)","focus","&>div","&>div:first-of-type","&>div:last-child","main","_ref4","&>*","&>div:first-of-type ","&.body > div:first-of-type > div > div","InputQuantite","singleValue","onSingleChange","SelectedProduitStyledComponents_excluded","SelectedProduitStyledComponents_StyledTableInputCell","inputMode","v","find","validerDefaultValues","clientDef","valid","validerVente","selectedProduits","some","sP","ProduitModal","closeHandler","submitHandler","selectProduits","notSelected","setNotSelected","setSelectedProduits","setQT","setST","setTva","_useState11","_useState12","setNP","_useState13","_useState14","produitVenteStock","setProduitVenteStock","_useState15","_useState16","canContinue","setCanContinue","_useState17","_useState18","_useState19","_useState20","validationError","setValidationError","saving","_useState21","_useState22","produitValue","setProduitValue","_useState23","_useState24","qValue","setQValue","_useState25","_useState26","pTotal","setPTotal","handleCloseAlert","handleRemoveProduit","index","newProduitsList","_","handleQuantiteChange","produitId","_fifo2","venteStock","_calculeFacture2","dispatch","useDispatch","_fifo3","_calculeFacture3","disableElevation","_validerVente","net_payer","Inputs_Search","ProduitListStyledComponents_StyledTableCell","newProds","_fifo","_calculeFacture","nS","handleSelectFromProduitList","unite","SelectedProduitStyledComponents_StyledTableRow","SelectedProduitStyledComponents_StyledTableCell","tabIndex","DeleteOutline_default","code_produit","SelectedProduitStyledComponents_InputQuantite","onSubmit","preventDefault","Inputs_ComboBox","q_min","margin","Check_default","currentFacture","printFacture","getCurrentFacture","facture_createSlice","setCurrentFacture","setPrintFacture","facture_extraReducers","getTodayFactureRecente","factures","useGetVenteData","selectAllProduits","getData","useCallback","useGetNumFacture","FactureRecente","& > h2","StyledCard","StyledCardHeader","StyledCardBody","& > ul","& > li","minHeight","& > ul:first-of-type","Fade","in","getHours","getMinutes","rel","Print_default","Mail_default","total_quantite","mode_payement","FacturationHome","addProduits","setAddProduits","modePay","etatFact","searchingClient","setSearchingClient","validationErrors","setValidationErrors","toggleProduits","_validerDefaultValues","venteData","factureRef","etat_facture","useConnectSocket","socket","module_name","emit","room","userFonction","code_fonction","module","on","disconnect","NavigationFacturation","_useGetVenteData","navigate","useNavigate","SocketContext","handleReturn","hasStock","react_router","path","element","StyledHorizontal","&.top > div:first-of-type","&.top > div","& > *:last-child","StyledFilters","flexWrap","StyledTab","&:not(:first-of-type)","& > span:not(:first-of-type)","&.active","transform","StyledTableContainer","TableContainer","TableCell","tableCellClasses","head","black","&.prodLink","textDecoration","TableRow","hover","ProduitTableau","selected","setSelected","categorie","setCategorie","setFilter","searchText","setSearchText","counts","handleFilterClick","ProduitTableau_StyledContainer","Search_SearchAuctoComplete","ml","cat","nom_categorie","Table","TableHead","ProduitTableau_StyledTableCell","indeterminate","checked","newSelecteds","n","align","TableBody","isItemSelected","ProduitTableau_StyledTableRow","selectedIndex","newSelected","handleClick","component","scope","categorie_produit","code_categorie","marge","ProduitTableau_ProduitOptions","ProduitOptions","setAnchorEl","Boolean","currentTarget","MoreVertOutlined","transformOrigin","Paper","MenuList","MenuItem","ListItemIcon","ReadMore_default","ListItemText","Download_default","Edit_default","HighlightOff_default","validerNouveauProduit","qMin","code","numCompte","validerEntree","dateExp","cout_unitaire","provenance","licence_url","factureId","defaultValueErrors","test","StyledHeader","& > h1","CategorieForm","nom","setNom","setCode","description","setDescription","setErrors","nomRef","useRef","initAll","handleInputChange","validateData","handleSubmit","t0","CategorieForm_StyledContainer","server","Close_default","fullWidth","multiline","rows","AutresTaxes","_ref$taxes","taxes","handleDelete","Stack","direction","taxe","Chip","pourcentage","onDelete","FormProduitModal","createFeedback","setDesignation","setUnite","setMarge","setQMin","emballage","setEmballage","setNumCompte","taxeNom","setTaxeNom","taxeValue","setTaxeValue","setTaxes","_useState27","_useState28","_useState29","_useState30","addCategory","setAddCategory","serverError","designRef","toggleAddCategory","current","handleClearServerErrors","StyledNouveauProduitContainer","_validerNouveauProdui","valid1","errors1","sendMessage","val","t","my","minLength","startIcon","esm_Add","errs","overflowY","float","borderLeft","& .form-actions","Produits","openNouveauProduit","setOpenNouveauProduit","toggleNouveauProduit","Add_default","StockSideBar","openProduit","setOpenProduit","openApprov","setOpenApprov","borderRight","ListItemButton","pr","&:hover, &:focus","Inventory2_default","primaryTypographyProps","lineHeight","secondaryTypographyProps","noWrap","KeyboardArrowDown_default","opacity","isActive","overflow","whiteSpace","textOverflow","FileDownload_default","py","ListAlt_default","NotificationImportant_default","MultipleFormApprov","esm_Close","Inputs_DateMaskInput","Array","fill","arr","MultipleFormApprov_Row","num","Row","setRowsHandler","setQuantite","cu","setCu","setDateExp","defaultValue","factureAchatEntity","sortComparer","date_emission","getFacturesAchat","_yield$axios$get","factureAchat_createSlice","updateteOne","_action$payload","attribute","found","factureAchat_extraReducers","_factureAchatEntity$g","facturesAchat","getReqStatus","ApprovProduitList","_ref$approvProduits","approvProduits","_ref$numApprov","numApprov","removeProduit","ApprovProduitList_StyledContainer","ApprovProduitList_StyledHeader","StyledList","pApprov","StyledRow","StyledCol","Tooltip","cout_u","borderTopLeftRadius","borderTopRightRadius","&>*:first-of-type","&.fill","&.right","&.action","borderTop","entreeEntity","numeros","creerEntree","creerEntreeMultiple","getEntreeCount","getEntreeNumeros","entree_createSlice","entree_extraReducers","addMany","_entreeEntity$getSele","SelectedFacture","handleAppendProduits","handleRemoveProduct","handleClearSelection","produistApprovisionnes","clearSelectedFacture","produitAchete","setProduitAchete","produitApprov","setProduitApprov","containerRef","getSavingState","submitError","setSubmitError","handleOpenDialog","StyledFacture","reference_facture","StyledFactureHeader","raison_sociale_fournisseur","bon_commande","produitAchetes","total_charge","SelectedApprovFacture_StyledRow","Circle","htmlColor","StyledFactureBody","pAchete","isSelected","pApp","id_achete","SelectedApprovFacture_Row","StyledMenu","pb","pt","filterSelectedOptions","prix_ht","pV_u","pA","StyledMessage","Info_default","StyledProduitApprov","pAchetes","submit","canSubmit","& > p","maxHeight","& > *","& > *:first-of-type","& > .fill","& .right","&.body:nth-of-type(2n)","ListeFacturesAchat","fA","approvisionnee","active","setActive","setProduitsApprovisionnes","handleSelectFacture","ListeFacturesAchat_StyledContainer","StyledNoContent","alignSelf","justifySelf","src","noData","alt","ListeFacturesAchat_StyledContentContainer","StyledAside","ListeFacturesAchat_StyledHorizontal","ListeFacturesAchat_StyledList","ListeFacturesAchat_FactureCard","onSelect","activeId","StyledDisplaySelected","prods","noSelectedImage","FactureCard","StyledFactureCard","sigle_fournisseur","quantite_total","zIndex","top","borderBottomRightRadius","&.active > .activeBar","FormApprovisionnement","setProvenance","setProduit","licence","openFactureList","setOpenFactureList","multiple","setMultiple","setDefaultValueErrors","pv","setPv","toggleFactureList","toggleMultiple","handleChangeProduit","date_exp","num_entree","_validerEntree","History_default","FormControl","RadioGroup","Inputs_Radio","htmlFor","visibility","floor","ApprovisionnementTableau","donnees","selectEntrees","TableApprovisionnement_StyledTableCell","TableApprovisionnement_StyledTableRow","stockEntity","currentStock","stockPrincipal","getStocks","eseId","getOneStock","stockId","creerStock","_x4","stock_createSlice","ajouterProduit","stock_extraReducers","stock","num_stock","_stockEntity$getSelec","stocks","getStockPrincipal","Approvisionnement","columns","link","format","toFixed","getNature","row","ColumnGroupingTable","page","_React$useState3","_React$useState4","rowsPerPage","libele","sortie","nature","reference_bon_entree","qte","pue","pte","qts","pus","pts","quantite_sortie","TableFicheStock_StyledContainer","stickyHeader","TableFicheStock_StyledTableCell","colSpan","column","role","overflowX","&.bl:not(:last-child)","& > a","uv","amt","FicheStockChart","ResponsiveContainer","LineChart","XAxis","dataKey","YAxis","component_Tooltip","Legend","Line","stroke","activeDot","r","PureComponent","demoUrl","ficheStockEntity","nombreEntrees","nombreSorties","getFicheStockInitData","getFicheStockData","ficheStock_createSlice","ajouterMovementSock","ficheStock_extraReducers","sorties","_ficheStockEntity$get","ficheStocks","getNombreEntrees","getNombreSorties","FicheStock","ficheData","nbreEntrees","nbreSorties","FicheStock_StyledContainer","FicheStock_StyledHeader","StyledDataDisplay","StyledCountCard","CallMade_default","FicheStockChart_FicheStockChart","FicheStock_Filters","Filters","selectAllProduit","setOpen","FicheStock_StyledFilters","StyledProduitFilter","FicheStock_Periode","periodes","Periode","activePeriode","setActivePeriode","StyledPeriod","ExpandMore_default","StyledPeriodeMenu","periode","RadioButtonChecked_default","& > div","& > .large","& > button","& > span:first-of-type","& > span, & li","& li","& li:not(:last-child)","& .chart","NouveauProduit","FormatListBulleted","NouveauProduit_AutresTaxes","createData","calories","fat","carbs","protein","price","history","customerId","amount","KeyboardArrowUp_default","Collapse","timeout","unmountOnExit","gutterBottom","historyRow","round","CollapsibleTable","ApprovHistoryTable_Row","Historique","NavigationStock","createContext","socketIOClient","App","isAuth","setOpenState","setMessageState","setTypeState","setIdState","feedbackContextValue","Provider","Topbar_js_Topbar","store","configureStore","productReducer","entreeReducer","stockReducer","venteReducer","assujettiReducer","factureReducer","factureAchatReducer","ConfigReducer","ficheStockReducer","typographyTheme","createTheme","typography","h1","h2","h3","h4","h5","h6","body1","body2","caption","dark","secondary","default","blackish","MuiButton","defaultProps","styleOverrides","root","textTransform","MuiTextField","MuiInputLabel","MuiOutlinedInput","input","MuiPaper","MuiTableContainer","MuiTable","MuiFormHelperText","MuiCheckbox","MuiRadio","MuiFormControlLabel","MuiBackdrop","ReactDOM","render","StrictMode","react_redux_es","ThemeProvider","src_App","document","getElementById","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.d40bebaa.chunk.js","sourcesContent":["import {createSlice, createAsyncThunk} from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst initialState = {\n    assujetti: null,\n    user: null,\n    auth: false,\n    status: 'idle',\n}\n\n// Thunc de recuperation des données de l'utilisateur\nexport const getUserData = createAsyncThunk(\n    \"assujetti/entreprise-data\",\n    async () => {\n        const res = await axios.get('/api/user');\n        return res.data;\n    }\n);\n\n// Redux Slice pour l'assujetti\nexport const {actions, reducer} = createSlice({\n    name: 'assujetti',\n    initialState,\n    extraReducers: {\n        [getUserData.pending]: (state) => {\n            state.status = 'loading'\n        },\n        [getUserData.fulfilled]: (state, action) => {\n            state.status = 'fulfilled'; // Reponse de succes\n            const data = action.payload; // Recuperation de la reponse du serveur\n            if (data && data.connected) {\n                state.user = data.user;\n                state.assujetti = data.assujetti;\n                state.auth = true;\n            }\n        },\n        [getUserData.rejected]: (state, action) => {\n            state.status = 'failed'\n            state.error = action.payload;\n            state.user = null;\n            state.assujetti = null;\n            state.auth = false;\n        },\n    }\n});\n\nexport const getAssujetti = state => state.assujetti.assujetti;\nexport const getUser = state => state.assujetti.user;\nexport const getAuth = state => state.assujetti.auth;\nexport const getreqState = state => state.assujetti.status;\nexport const getErrors = state => state.assujetti.errors ","/**\n * Compares two date\n * @param {date} a First date\n * @param {date} b Second date\n * @returns (a > b) - (a < b) or NAN if either a or be is not in a good Date format\n */\nexport function dateCompare(a, b) {\n\tlet x = a,\n\t\ty = b;\n\tx = new Date(x).valueOf();\n\ty = new Date(y).valueOf();\n\treturn isFinite(x) && isFinite(y) ? (x > y) - (x < y) : NaN;\n}\n\n/**\n * Get the redirect string url from the current url\n * @returns The Url string\t\n */\nexport const getLoginRedirectUrl = () => {\n\t// Retrieve the current url\n\tconst href = window.location.href;\n\tconst protocol = href.slice(0, href.indexOf(\"//\") + 2); // Get the protocal (http:// or https://)\n\t// Split the rest of the url into array to find the hostname (the first element of the array)\n\tlet baseUrl = href.slice(protocol.length).split(\":\"); \n\tconsole.log(baseUrl);\n\tif (baseUrl.length <= 1) {\n\t\tbaseUrl = href.slice(protocol.length).split(\"/\");\n\t}\n\tconsole.log(baseUrl[0]);\n\t// Return the url string\n\treturn protocol + baseUrl[0] + \"/php\";\n};\n\n/**\n * Reçoit un number et retourne le nombre formaté\n * @param {number} number The number to format\n * @returns formated number string\n */\nexport const formatNumber = (number) => {\n\tconst str = number.toLocaleString(\"fr\");\n\treturn str\n}\n\n/**\n * Calcule le prix unitaire et retourn le prix unitaire formaté\n * @param {number} prixTotal Total price\n * @param {number} quantite quantity\n * @param {string} type type retourné\n * @returns P.U\n */\nexport const getPrixUnitaire = (prixTotal, quantite, type) => {\n\tconst pu = prixTotal / quantite;\n\tif (type === \"number\") {\n\t\treturn pu;\n\t}\n\treturn formatNumber(pu);\n}\n","import React, { useState } from \"react\";\nimport \"./Topbar.css\";\nimport Box from \"@mui/material/Box\";\nimport { styled } from \"@mui/styles\";\nimport SwipeableDrawer from \"@mui/material/SwipeableDrawer\";\nimport { Link } from \"react-router-dom\";\nimport {\n\tAvatar,\n\tIconButton,\n\tTypography,\n\tuseTheme,\n\tButton,\n\tDivider,\n} from \"@mui/material\";\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\nimport StockIcon from \"@mui/icons-material/Inventory\";\nimport CommandIcon from \"@mui/icons-material/LocalGroceryStore\";\nimport VenteIcon from \"@mui/icons-material/Receipt\";\nimport CpteIcon from \"@mui/icons-material/CreditCard\";\nimport PartenairesIcon from \"@mui/icons-material/Groups\";\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport AppsIcon from \"@mui/icons-material/Apps\";\nimport { useSelector } from \"react-redux\";\nimport { getUser, getAssujetti } from \"../../app/reducers/assujetti\";\nimport { getLoginRedirectUrl } from \"../../utilities/helpers\";\n\nexport default function Topbar() {\n\tconst user = useSelector(getUser);\n\tconst assujetti = useSelector(getAssujetti);\n\tconst theme = useTheme();\n\tconst [openMenu, setOpenMenu] = useState(false);\n\n\tconst toggleMenu = (event) => {\n\t\tif (\n\t\t\tevent &&\n\t\t\tevent.type === \"keydown\" &&\n\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpenMenu(!openMenu);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"appbar\"\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t\t\tpadding: theme.spacing(1, 2),\n\t\t\t\tborderBottom: \"2px solid \" + theme.palette.primary.light,\n\t\t\t}}\n\t\t>\n\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t<IconButton sx={{ mr: 2 }} onClick={toggleMenu}>\n\t\t\t\t\t<AppsIcon fontSize=\"small\" />\n\t\t\t\t</IconButton>\n\t\t\t\t{openMenu && (\n\t\t\t\t\t<MainAppMenu open={openMenu} toggleMenu={toggleMenu} assujetti={assujetti} />\n\t\t\t\t)}\n\t\t\t\t<Typography\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tvariant=\"h1\"\n\t\t\t\t\tsx={{ fontWeight: 500 }}\n\t\t\t\t>\n\t\t\t\t\tDEF | RDC\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<User theme={theme} user={user} />\n\t\t</div>\n\t);\n}\n\n// Le composant utilisateur\nconst User = ({ user }) => {\n\treturn (\n\t\t<div className=\"user\">\n\t\t\t<Avatar style={{ width: 25, height: 25, color: \"#000\" }} />\n\t\t\t<div className=\"user-detailes\">\n\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t{user && <span>{user.prenom}</span>}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t<ArrowDropDownIcon fontSize=\"small\" color=\"inherit\" />\n\t\t</div>\n\t);\n};\n\nconst StyledMainMenuHeader = styled(\"div\")(() => ({\n\tposition: 'relative',\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\tjustifyContent: \"space-between\",\n}));\n\nconst StyledContentContainer = styled(\"div\")(() => ({\n\twidth: 300,\n\tpadding: \"20px 10px\",\n}));\n\nconst StyledMenuList = styled(\"div\")(() => ({\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n\tpadding: '20px 0'\n}));\n\nconst StyledMenuCard = styled(\"div\")(({theme}) => ({\n\tpadding: \"10px 7px\",\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tcursor: 'pointer',\n\twidth: 'fit-content',\n\tborderRadius: 5,\n\ttransition: 'all .2s',\n\t\"&:not(:last-child)\": {\n\t\tmarginBottom: 7,\n\t},\n\t\"& > svg\": {\n\t\tmarginRight: 10\n\t},\n\t\"& > span\": {\n\t\tfontSize: 14\n\t},\n\t\"&.menu-card:hover\": {\n\t\tboxShadow: theme.shadows[1],\n\t\tpadding: \"10px 20px\",\n\t}\n}));\n\nconst StyledFooter = styled('div')(() => ({\n\tposition: 'absolute',\n\tbottom: 0,\n\tleft: 0,\n\tright: 0,\n\t\"& > .copy-right\": {\n\t\tdisplay: 'block',\n\t\tfontSize: 14,\n\t\tpadding: '15px 10px',\n\t}\n}));\n\n// Drop down Menu principal\nconst MainAppMenu = ({ open, assujetti, toggleMenu }) => {\n\treturn (\n\t\t<SwipeableDrawer\n\t\t\tanchor={\"left\"}\n\t\t\topen={open}\n\t\t\tonClose={toggleMenu}\n\t\t\tonOpen={toggleMenu}\n\t\t\tBackdropProps={{\n\t\t\t\tstyle: {\n\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0)'\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<StyledContentContainer>\n\t\t\t\t<StyledMainMenuHeader>\n\t\t\t\t\t<IconButton sx={{ mr: 2 }} onClick={toggleMenu}>\n\t\t\t\t\t\t<AppsIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<a href={getLoginRedirectUrl()}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tendIcon={<ArrowForwardIcon />}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAccueil\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</a>\n\t\t\t\t</StyledMainMenuHeader>\n\t\t\t\t<Box>\n\t\t\t\t\t<StyledMenuList>\n\t\t\t\t\t\t<Typography variant=\"h1\" sx={{mb: 3, fontWeight: 600, pl: 1}}>Modules du DEF</Typography>\n\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\n\t\t\t\t\t\t\t<CommandIcon color=\"success\" />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\tGestion des commandes\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</StyledMenuCard>\n\t\t\t\t\t\t<Link to=\"/stock\" target=\"_blank\">\n\t\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\n\t\t\t\t\t\t\t\t<StockIcon color=\"secondary\" />\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tGestion des stocks\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</StyledMenuCard>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to=\"/facturation\" target=\"_blank\">\n\t\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\n\t\t\t\t\t\t\t\t<VenteIcon color=\"default\" />\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tVente et facturation\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</StyledMenuCard>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\n\t\t\t\t\t\t\t<CpteIcon color=\"primary\" />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\tComptabilité et caisse\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</StyledMenuCard>\n\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\n\t\t\t\t\t\t\t<PartenairesIcon color=\"info\" />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\tPartenaires de commerce\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</StyledMenuCard>\n\t\t\t\t\t</StyledMenuList>\n\t\t\t\t</Box>\n\t\t\t</StyledContentContainer>\n\t\t\t<StyledFooter>\n\t\t\t\t<StyledMenuCard>\n\t\t\t\t\t<SettingsIcon color=\"info\" />\n\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t{assujetti.raison_sociale}\n\t\t\t\t\t</Typography>\n\t\t\t\t</StyledMenuCard>\n\t\t\t\t<Divider />\n\t\t\t\t<Typography variant=\"caption\" className=\"copy-right\" color=\"GrayText\">&copy; DGI RDC tous droits reservés.</Typography>\n\t\t\t</StyledFooter>\n\t\t</SwipeableDrawer>\n\t);\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { IMaskInput } from 'react-imask';\nimport TextField from '@mui/material/TextField';\n\nconst TextMaskCustom = React.forwardRef(function TextMaskCustom(props, ref) {\n  const { onChange, ...other } = props;\n  return (\n    <IMaskInput\n      {...other}\n      mask=\"00/00/0000\"\n      definitions={{\n        '#': /[1-9]/,\n      }}\n      inputRef={ref}\n      onAccept={(value) => onChange({ target: { name: props.name, value } })}\n      overwrite\n    />\n  );\n});\n\nTextMaskCustom.propTypes = {\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nfunction DateMaskInput({label, value, onChange, name, id, variant, ...other}) {\n  return (\n      <TextField\n        {...other}\n        label={label}\n        value={value}\n        onChange={onChange}\n        name={name || \"numberformat\"}\n        id={id}\n        InputProps={{\n          inputComponent: TextMaskCustom,\n        }}\n        variant={variant || \"standard\"}\n      />\n  );\n}\n\nexport default React.memo(DateMaskInput);","import * as React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\n\nfunction ComboBox({\n\toptions,\n\tlabel,\n\tminWidth,\n\tvalue,\n\tsetValue,\n\tplaceholder,\n\ttextFieldXs,\n\terror,\n\thelperText,\n\tsx,\n\tdisabled\n}) {\n\treturn (\n\t\t<Autocomplete\n\t\t\tid=\"combo-box\"\n\t\t\tsx={{ minWidth: minWidth ? minWidth : 300, ...sx }}\n\t\t\tdisabled={disabled}\n\t\t\tvalue={value}\n\t\t\tonChange={(event, newValue) => {\n\t\t\t\tsetValue(newValue);\n\t\t\t}}\n\t\t\toptions={options || []}\n\t\t\tisOptionEqualToValue={(option, value) => option.id === value.id}\n\t\t\tautoHighlight\n\t\t\tgetOptionLabel={(option) => option.label}\n\t\t\trenderInput={(params) => (\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder={placeholder || \"\"}\n\t\t\t\t\t{...params}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tsx={textFieldXs}\n\t\t\t\t\terror={error}\n\t\t\t\t\thelperText={helperText}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t);\n}\n\nexport default React.memo(ComboBox);\n","import React from \"react\";\nimport { Typography, Box, CircularProgress } from \"@mui/material\";\n\nexport default function Chargement({ message, sx, size }) {\n\treturn (\n\t\t<Box\n\t\t\ttextAlign=\"center\"\n\t\t\tdisplay=\"flex\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t\tflexDirection=\"column\"\n            sx={sx}\n\t\t>\n\t\t\t<Typography variant=\"body1\" color=\"GrayText\" sx={{ mb: 2 }}>\n\t\t\t\t{message}\n\t\t\t</Typography>\n\t\t\t<CircularProgress size={size || 40} color=\"primary\" />\n\t\t</Box>\n\t);\n}\n","import * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport NumberFormat from \"react-number-format\";\nimport TextField from \"@mui/material/TextField\";\n\nexport const NumberFormatCustom = React.forwardRef(function NumberFormatCustom(\n\tprops,\n\tref\n) {\n\tconst { onChange, prefix, suffix, ...other } = props;\n\n\treturn (\n\t\t<NumberFormat\n\t\t\t{...other}\n\t\t\tgetInputRef={ref}\n\t\t\tonValueChange={(values) => {\n\t\t\t\tonChange({\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tname: props.name,\n\t\t\t\t\t\tvalue: values.value,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}}\n\t\t\tthousandSeparator\n\t\t\tisNumericString\n\t\t\tprefix={prefix || \"\"}\n\t\t\tsuffix={suffix || \"\"}\n\t\t/>\n\t);\n});\n\nNumberFormatCustom.propTypes = {\n\tname: PropTypes.string.isRequired,\n\tonChange: PropTypes.func.isRequired,\n};\n\nfunction FormatedInputs({ prefix, suffix, variant, value, onChange, placeholder, label, maxLength, ...other }) {\n\treturn (\n\t\t<TextField\n            {...other}\n\t\t\tlabel={label}\n            placeholder={placeholder}\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tname=\"numberformat\"\n\t\t\tid=\"formatted-numberformat-input\"\n            inputProps={{maxLength: maxLength}}\n\t\t\tInputProps={{\n\t\t\t\tinputComponent: NumberFormatCustom\n\t\t\t}}\n\t\t\tvariant={variant}\n\t\t/>\n\t);\n}\n\nexport default React.memo(FormatedInputs);","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\n\nconst BpIcon = styled('span')(({ theme }) => ({\n  borderRadius: '50%',\n  width: 16,\n  height: 16,\n  boxShadow:\n    theme.palette.mode === 'dark'\n      ? '0 0 0 1px rgb(16 22 26 / 40%)'\n      : 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\n  backgroundColor: theme.palette.mode === 'dark' ? '#394b59' : '#f5f8fa',\n  backgroundImage:\n    theme.palette.mode === 'dark'\n      ? 'linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))'\n      : 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\n  '.Mui-focusVisible &': {\n    outline: '2px auto rgba(19,124,189,.6)',\n    outlineOffset: 2,\n  },\n  'input:hover ~ &': {\n    backgroundColor: theme.palette.mode === 'dark' ? '#30404d' : '#ebf1f5',\n  },\n  'input:disabled ~ &': {\n    boxShadow: 'none',\n    background:\n      theme.palette.mode === 'dark' ? 'rgba(57,75,89,.5)' : 'rgba(206,217,224,.5)',\n  },\n}));\n\nconst BpCheckedIcon = styled(BpIcon)({\n  backgroundColor: '#137cbd',\n  backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\n  '&:before': {\n    display: 'block',\n    width: 16,\n    height: 16,\n    backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\n    content: '\"\"',\n  },\n  'input:hover ~ &': {\n    backgroundColor: '#106ba3',\n  },\n});\n\n// Inspired by blueprintjs\nfunction BpRadio(props) {\n  return (\n    <Radio\n      sx={{\n        '&:hover': {\n          bgcolor: 'transparent',\n        },\n      }}\n      disableRipple\n      color=\"default\"\n      checkedIcon={<BpCheckedIcon />}\n      icon={<BpIcon />}\n      {...props}\n    />\n  );\n}\n\nfunction CustomizedRadios({label, disabled, value}) {\n  return (\n        <FormControlLabel\n          value={value}\n          disabled={disabled}\n          control={<BpRadio />}\n          label={label}\n        />\n  );\n}\n\nexport default React.memo(CustomizedRadios);","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Box } from \"@mui/material\";\nimport { Search } from \"@mui/icons-material\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\n\nconst SearchInput = ({ mb, value, onChange }) => {\n\tconst StyledBox = styled(Box)(({ theme }) => ({\n\t\tborder: \"1px solid #eaeaea\",\n\t\tborderRadius: 5,\n\t\tpadding: \"6.5px 14px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: theme.palette.common.white,\n\t}));\n\n\tconst StyledInput = styled(\"input\")(() => ({\n\t\tborder: \"none\",\n\t\toutline: 0,\n\t\tfontSize: 15,\n\t\tflex: 1,\n\t\tbackgroundColor: \"inherit\",\n\t}));\n\treturn (\n\t\t<StyledBox mb={mb !== null || mb !== undefined ? mb : 2}>\n\t\t\t<StyledInput\n\t\t\t\tplaceholder=\"Rechercher...\"\n\t\t\t\tclassName=\"search-input\"\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={onChange}\n\t\t\t/>\n\t\t\t<Search fontSize=\"small\" color=\"disabled\" />\n\t\t</StyledBox>\n\t);\n};\n\nexport const SearchAuctoComplete = ({\n\tminWidth,\n\tsx,\n\tvalue,\n\tsetValue,\n\toptions,\n\tplaceholder,\n\tlabel,\n\ttextFieldXs,\n\terror,\n\thelperText,\n}) => {\n\treturn (\n\t\t<Autocomplete\n\t\t\tid=\"combo-box\"\n\t\t\tsx={{ minWidth: minWidth ? minWidth : 300, ...sx }}\n\t\t\tvalue={value}\n\t\t\tonChange={(event, newValue) => {\n\t\t\t\tsetValue(newValue);\n\t\t\t}}\n            popupIcon={<Search />}\n\t\t\toptions={options || []}\n\t\t\tisOptionEqualToValue={(option, value) => option.id === value.id}\n\t\t\tautoHighlight\n\t\t\tgetOptionLabel={(option) => option.label}\n\t\t\trenderInput={(params) => (\n\t\t\t\t<TextField\n                    placeholder={placeholder || \"\"}\n\t\t\t\t\t{...params}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tsx={textFieldXs}\n\t\t\t\t\terror={error}\n\t\t\t\t\thelperText={helperText}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t);\n};\n\nexport default React.memo(SearchInput);\n","import * as React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport { Box } from \"@mui/material\";\n\nexport default function LargeDialog({\n\ttitle,\n\tmessage,\n\tonAgree,\n\tdisagreeBtnText,\n\tagreeBtnText,\n\tonDisagree,\n\topen,\n\tonClose,\n\tcolor\n}) {\n\treturn (\n\t\t<div>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={onClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-dialog-message\"\n\t\t\t\tcolor={color}\n\t\t\t\tsx={{\n\t\t\t\t\t\"& .MuiDialog-container\": {\n\t\t\t\t\t\talignItems: 'baseline',\n\t\t\t\t\t},\n\t\t\t\t\t\"& h2\": {\n\t\t\t\t\t\tfontSize: 18,\n\t\t\t\t\t\tpadding: '7px 10px'\n\t\t\t\t\t},\n\t\t\t\t\t\"& .MuiDialogContent-root\": {\n\t\t\t\t\t\tpadding: '7px 10px',\n\t\t\t\t\t},\n\t\t\t\t\t\"& p\": {\n\t\t\t\t\t\tfontSize: 14\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-message\">\n                        {message}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n                    {disagreeBtnText &&\n                        <Button onClick={onDisagree}>{disagreeBtnText}</Button>\n                    }\n                    {agreeBtnText &&\n                        <Button onClick={onAgree} autoFocus>\n                            {agreeBtnText}\n                        </Button>\n                    }\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n\tPage,\n\tText,\n\tPDFViewer,\n\tDocument,\n\tView,\n\tStyleSheet,\n} from \"@react-pdf/renderer\";\nimport { Modal } from \"@mui/material\";\nimport axios from \"axios\";\n\n// Create Document Component\nexport default function MyDocument() {\n\tconst {numFacture} = useParams();\n\tconst [facture, setFacture] = useState(null);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tif (numFacture) {\n\t\t\taxios\n\t\t\t\t.get(`/api/ventes/factures/${numFacture}`)\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tsetFacture(data);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [numFacture]);\n\tconsole.log(facture);\n\treturn (\n\t\t<Modal open={true}>\n\t\t\t<div style={styles.frameContainer}>\n\t\t\t\t{(loading || !facture) ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<PDFViewer width=\"100%\" height=\"100%\">\n\t\t\t\t\t\t<Document>\n\t\t\t\t\t\t\t<Page style={styles.body}>\n\t\t\t\t\t\t\t\t<View style={styles.header}>\n\t\t\t\t\t\t\t\t\t<View style={styles.headerSide}>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tSte New Four Ways SARL-Mini\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tDEF-012334\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tAv: UBANGI NO.2 C/LEMBA\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\t0971178768 - 0890011442\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tsamkin1997@gmail.com\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tRCCM 14-B-01702 IDNAT\n\t\t\t\t\t\t\t\t\t\t\t01-F4300-N34731P\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tNIMPOT A0909296Q\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t<View style={styles.headerSide}>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tSte New Four Ways SARL-Mini\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tDEF-012334\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tAv: UBANGI NO.2 C/LEMBA\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\t0971178768 - 0890011442\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tsamkin1997@gmail.com\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tRCCM 14-B-01702 IDNAT\n\t\t\t\t\t\t\t\t\t\t\t01-F4300-N34731P\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\n\t\t\t\t\t\t\t\t\t\t\tNIMPOT A0909296Q\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t<View style={styles.alignH}>\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\t\tstyles.text,\n\t\t\t\t\t\t\t\t\t\t\t{ marginRight: 10 },\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t#{facture.num_facture}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\t\tstyles.text,\n\t\t\t\t\t\t\t\t\t\t\t{ marginRight: 10 },\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{(new Date(facture.date)).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t<Text style={styles.text}>\n\t\t\t\t\t\t\t\t\t\t{(new Date(facture.date)).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t<View style={styles.table}>\n\t\t\t\t\t\t\t\t\t<TabHeader />\n\t\t\t\t\t\t\t\t\t<View style={styles.tabBody}>\n\t\t\t\t\t\t\t\t\t\t{facture.produits.map(produit => (\n\t\t\t\t\t\t\t\t\t\t\t<TabRow produit={produit} key={produit.designation} />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t<TabFooter totalHT={facture.total_ht} tva={facture.total_tva} />\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</Page>\n\t\t\t\t\t\t</Document>\n\t\t\t\t\t</PDFViewer>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\nconst TabHeader = () => {\n\treturn (\n\t\t<View\n\t\t\tstyle={{\n\t\t\t\t...styles.tabHeader,\n\t\t\t\t...styles.tabRow,\n\t\t\t}}\n\t\t>\n\t\t\t<Text\n\t\t\t\tstyle={{\n\t\t\t\t\t...styles.tabCol,\n\t\t\t\t\t...styles.designation,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tArticle/Iteme\n\t\t\t</Text>\n\t\t\t<Text\n\t\t\t\tstyle={{\n\t\t\t\t\t...styles.tabCol,\n\t\t\t\t\t...styles.pu,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tPrix U\n\t\t\t</Text>\n\t\t\t<Text\n\t\t\t\tstyle={{\n\t\t\t\t\t...styles.tabCol,\n\t\t\t\t\t...styles.quantite,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tQté\n\t\t\t</Text>\n\t\t\t<Text\n\t\t\t\tstyle={{\n\t\t\t\t\t...styles.tabCol,\n\t\t\t\t\t...styles.total,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tTotal\n\t\t\t</Text>\n\t\t</View>\n\t);\n};\n\nconst TabRow = ({produit}) => {\n\treturn (\n\t\t<View\n\t\t\tstyle={{\n\t\t\t\t...styles.tabRow,\n\t\t\t}}\n\t\t>\n\t\t\t<Text style={[styles.tabCol, styles.designation]}>\n\t\t\t\t{produit.designation}\n\t\t\t</Text>\n\t\t\t<Text\n\t\t\t\tstyle={{\n\t\t\t\t\t...styles.tabCol,\n\t\t\t\t\t...styles.pu,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{produit.prix_unitaire}\n\t\t\t</Text>\n\t\t\t<Text style={[styles.tabCol, styles.quantite]}>\n\t\t\t\t{produit.q_sortie}\n\t\t\t</Text>\n\t\t\t<Text\n\t\t\t\tstyle={{\n\t\t\t\t\t...styles.tabCol,\n\t\t\t\t\t...styles.total,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{produit.total}\n\t\t\t</Text>\n\t\t</View>\n\t);\n};\nconst TabFooter = ({totalHT, tva}) => {\n\treturn (\n\t\t<View style={styles.tabFooter}>\n\t\t\t<View style={styles.footerContent}>\n\t\t\t\t<View style={styles.labelContainer}>\n\t\t\t\t\t<Text style={styles.footerRow}>Total HT</Text>\n\t\t\t\t\t<Text style={styles.footerRow}>TVA (16%)</Text>\n\t\t\t\t\t<Text style={styles.footerRow}>Autres taxes</Text>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tstyles.footerRow,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\n\t\t\t\t\t\t\t\tfontSize: 15,\n\t\t\t\t\t\t\t\tborderTopColor: \"#333\",\n\t\t\t\t\t\t\t\tborderStyle: \"dashed\",\n\t\t\t\t\t\t\t\tborderTopWidth: 1,\n\t\t\t\t\t\t\t\tmarginTop: 10,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\tTotal à payer\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t<View style={styles.valueContainer}>\n\t\t\t\t\t<Text style={styles.footerRow}>{totalHT}</Text>\n\t\t\t\t\t<Text style={styles.footerRow}>{tva}</Text>\n\t\t\t\t\t<Text style={styles.footerRow}>0</Text>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tstyles.footerRow,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\n\t\t\t\t\t\t\t\tfontSize: 15,\n\t\t\t\t\t\t\t\tborderTopColor: \"#333\",\n\t\t\t\t\t\t\t\tborderStyle: \"dashed\",\n\t\t\t\t\t\t\t\tborderTopWidth: 1,\n\t\t\t\t\t\t\t\tmarginTop: 10,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{totalHT + tva}\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t</View>\n\t);\n};\n\nconst styles = StyleSheet.create({\n\tframeContainer: {\n\t\theight: \"100vh\",\n\t\twidth: \"100vw\",\n\t},\n\tbody: {\n\t\tpaddingTop: 35,\n\t\tpaddingBottom: 65,\n\t\tpaddingHorizontal: 35,\n\t},\n\talignH: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-end\",\n\t\tmarginTop: 20,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\theaderSide: {\n\t\ttextAlign: \"center\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\theaderText: {\n\t\tfontSize: 12,\n\t\tfontFamily: \"Times-Roman\",\n\t},\n\ttext: {\n\t\tmarginVertical: 11,\n\t\tfontSize: 12,\n\t\tfontFamily: \"Times-Roman\",\n\t},\n\ttable: {\n\t\tmarginTop: 20,\n\t\twidth: \"100%\",\n\t},\n\ttabHeader: {\n\t\tborderBottomColor: \"#333\",\n\t\tborderStyle: \"dashed\",\n\t\tborderBottomWidth: 1,\n\t\tfontStyle: \"bold\",\n\t},\n\ttabRow: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t},\n\tdesignation: {\n\t\tpaddingVertical: 5,\n\t\tflexBasis: \"40%\",\n\t\tfontSize: 12,\n\t\tfontFamily: \"Times-Roman\",\n\t\ttextAlign: \"left\",\n\t},\n\tpu: {\n\t\tpaddingVertical: 5,\n\t\tflexBasis: \"20%\",\n\t\tfontSize: 12,\n\t\tfontFamily: \"Times-Roman\",\n\t\ttextAlign: \"right\",\n\t},\n\tquantite: {\n\t\tpaddingVertical: 5,\n\t\tflexBasis: \"20%\",\n\t\tfontSize: 12,\n\t\tfontFamily: \"Times-Roman\",\n\t\ttextAlign: \"right\",\n\t},\n\ttotal: {\n\t\tpaddingVertical: 5,\n\t\tflexBasis: \"20%\",\n\t\tfontSize: 12,\n\t\tfontFamily: \"Times-Roman\",\n\t\ttextAlign: \"right\",\n\t},\n\ttabFooter: {\n\t\tflexDirection: \"row\",\n\t\tborderTopColor: \"#333\",\n\t\tborderStyle: \"dashed\",\n\t\tborderTopWidth: 1,\n\t\tjustifyContent: \"flex-end\",\n\t\tpaddingTop: 10,\n\t},\n\tfooterContent: {\n\t\tflexDirection: \"row\",\n\t\talignItems: \"center\",\n\t\tfontFamily: \"Times-Roman\",\n\t},\n\tfooterRow: {\n\t\tfontSize: 12,\n\t\tpadding: 3,\n\t},\n\tlabelContainer: {\n\t\tflexBasis: \"20%\",\n\t\ttextAlign: \"right\",\n\t},\n\tvalueContainer: {\n\t\tflexBasis: \"20%\",\n\t\ttextAlign: \"right\",\n\t},\n});\n","import * as React from \"react\";\nimport Popover from \"@mui/material/Popover\";\n\nexport default function MenuPopover({ open, handleClose, anchorEl, children, anchorOrigin, ...other }) {\n\tconst id = open ? \"menu-popover\" : undefined;\n\treturn (\n\t\t<Popover\n\t\t\t{...other}\n\t\t\tid={id}\n\t\t\topen={open}\n\t\t\tanchorEl={anchorEl}\n\t\t\tonClose={handleClose}\n\t\t\tanchorOrigin={anchorOrigin || {\n\t\t\t\tvertical: \"bottom\",\n\t\t\t\thorizontal: \"left\",\n\t\t\t}}\n            BackdropProps={{sx: {backgroundColor: 'rgba(0,0,0,0)'}}}\n\t\t>\n\t\t\t{children}\n\t\t</Popover>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Alert from \"@mui/material/Alert\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { FeedbackContext } from \"../../App\";\n\nexport default function Feedback({ autoHideDuration }) {\n\tconst { getFeedback, onClose } = useContext(FeedbackContext);\n\tconst {\n\t\topenState: open,\n\t\tmessageState: message,\n\t\tidState: id,\n\t\ttypeState: type,\n\t} = getFeedback();\n\tconst handleClose = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn;\n\t\t}\n\t\tonClose();\n\t};\n\n\tconst handleExited = () => {\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Snackbar\n\t\t\t\tkey={id}\n\t\t\t\topen={open}\n\t\t\t\tautoHideDuration={autoHideDuration || 6000}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tTransitionProps={{ onExited: handleExited }}\n\t\t\t>\n\t\t\t\t<Alert\n\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\tseverity={type || \"info\"}\n\t\t\t\t\tsx={{ width: \"100%\" }}\n                    variant=\"filled\"\n                    elevation={6}\n\t\t\t\t>\n\t\t\t\t\t{message}\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\t\t</div>\n\t);\n}\n","import {createSlice} from '@reduxjs/toolkit';\n\nconst initialState = {\n    taux: 2000,\n    devise: 'CDF',\n    status: 'idle',\n}\n\n// Redux Slice pour l'assujetti\nexport const {actions, reducer} = createSlice({\n    name: 'configs',\n    initialState,\n    reducers: {\n        setTaux: (state, action) => {\n            state.taux = action.taux;\n        },\n        setDevise: (state, action) => {\n            state.devise = action.devise;\n        }\n    }\n});\n\nexport const getTaux = state => state.configs.taux;\nexport const getDevise = state => state.configs.devise;","import React from \"react\";\nimport { Box, Typography } from \"@mui/material\";\nimport { styled } from \"@mui/styles\";\nimport { useSelector } from \"react-redux\";\nimport { getTaux, getDevise } from \"../../app/reducers/config\";\nimport { formatNumber } from \"../../utilities/helpers\";\n\nconst StyledContainer = styled(Box)(() => ({\n\tdisplay: \"flex\",\n\tflexDirection: \"column\",\n\tflex: 1,\n}));\nconst StyledInfo = styled(Typography)(() => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\tcolor: \"#666\",\n\t\"&\": {\n\t\tfontSize: 14,\n\t},\n\t\"& .value\": {\n\t\tfontSize: 20,\n\t\tfontWeight: \"600\",\n        marginLeft: 10\n\t},\n}));\nexport default function TauxDevise() {\n\tconst taux = useSelector(getTaux);\n\tconst devise = useSelector(getDevise);\n\treturn (\n\t\t<div style={{ marginTop: 24 }}>\n\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\tDevise et taux\n\t\t\t</Typography>\n\t\t\t<StyledContainer\n\t\t\t\taria-label=\"provenance\"\n\t\t\t\tname=\"provenance des produits ou marchandises\"\n\t\t\t\tvalue={devise}\n\t\t\t\tclassName=\"devise\"\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\tflex: 1,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StyledInfo>\n\t\t\t\t\t<span>Devise :  </span><span className=\"value\">{devise}</span>\n\t\t\t\t</StyledInfo>\n\t\t\t\t<StyledInfo>\n\t\t\t\t\t<span>Taux : </span><span className=\"value\">{formatNumber(taux)}Fc</span>\n\t\t\t\t</StyledInfo>\n\t\t\t</StyledContainer>\n\t\t</div>\n\t);\n}\n","import * as React from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\n\nconst BpIcon = styled(\"span\")(({ theme }) => ({\n\tborderRadius: 3,\n\twidth: 16,\n\theight: 16,\n\tboxShadow:\n\t\ttheme.palette.mode === \"dark\"\n\t\t\t? \"0 0 0 1px rgb(16 22 26 / 40%)\"\n\t\t\t: \"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)\",\n\tbackgroundColor: theme.palette.mode === \"dark\" ? \"#394b59\" : \"#f5f8fa\",\n\tbackgroundImage:\n\t\ttheme.palette.mode === \"dark\"\n\t\t\t? \"linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))\"\n\t\t\t: \"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))\",\n\t\".Mui-focusVisible &\": {\n\t\toutline: \"2px auto rgba(19,124,189,.6)\",\n\t\toutlineOffset: 2,\n\t},\n\t\"input:hover ~ &\": {\n\t\tbackgroundColor: theme.palette.mode === \"dark\" ? \"#30404d\" : \"#ebf1f5\",\n\t},\n\t\"input:disabled ~ &\": {\n\t\tboxShadow: \"none\",\n\t\tbackground:\n\t\t\ttheme.palette.mode === \"dark\"\n\t\t\t\t? \"rgba(57,75,89,.5)\"\n\t\t\t\t: \"rgba(206,217,224,.5)\",\n\t},\n}));\n\nconst BpCheckedIcon = styled(BpIcon)({\n\tbackgroundColor: \"#137cbd\",\n\tbackgroundImage:\n\t\t\"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))\",\n\t\"&:before\": {\n\t\tdisplay: \"block\",\n\t\twidth: 16,\n\t\theight: 16,\n\t\tbackgroundImage:\n\t\t\t\"url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath\" +\n\t\t\t\" fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 \" +\n\t\t\t\"1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\\\")\",\n\t\tcontent: '\"\"',\n\t},\n\t\"input:hover ~ &\": {\n\t\tbackgroundColor: \"#106ba3\",\n\t},\n});\n\n// Inspired by blueprintjs\nfunction BpCheckbox(props) {\n\treturn (\n\t\t<Checkbox\n\t\t\tsx={{\n\t\t\t\t\"&:hover\": { bgcolor: \"transparent\" },\n\t\t\t}}\n\t\t\tdisableRipple\n\t\t\tcolor=\"default\"\n\t\t\tcheckedIcon={<BpCheckedIcon />}\n\t\t\ticon={<BpIcon />}\n\t\t\tinputProps={{ \"aria-label\": \"Checkbox demo\" }}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport default function CustomisedChekbox({ label, ...other }) {\n\treturn (\n\t\t<FormControlLabel control={<BpCheckbox {...other} />} label={label} />\n\t);\n}\n","import * as React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport frLocale from \"date-fns/locale/fr\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DatePicker from \"@mui/lab/DatePicker\";\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\n\nexport default function ViewsDatePicker() {\n\tconst [value, setValue] = React.useState(new Date());\n\n\treturn (\n\t\t<LocalizationProvider locale={frLocale} dateAdapter={AdapterDateFns}>\n\t\t\t<DatePicker\n\t\t\t\tinputFormat=\"MMMM-yyyy\"\n\t\t\t\tmask=\"__/__/____\"\n\t\t\t\tviews={[\"year\", \"month\"]}\n\t\t\t\tminDate={new Date(\"2012-03-01\")}\n\t\t\t\tmaxDate={new Date(\"2023-06-01\")}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={setValue}\n\t\t\t\tcomponents={{\n\t\t\t\t\tOpenPickerIcon: ArrowDropDownIcon,\n\t\t\t\t}}\n\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t{...params}\n\t\t\t\t\t\thelperText={null}\n\t\t\t\t\t\tsx={{ \n                            m: 0,\n                            border: \"none\",\n                            \"& fieldset\": {\n                                border: 'none'\n                            }\n                        }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</LocalizationProvider>\n\t);\n}\n","import axios from 'axios';\nimport { dateCompare } from '../../../utilities/helpers';\n\n/**\n * La function qui recupere les donnees du client\n * @param {string} numDef Le num def du client\n * @param {function} cb Callback function. Params: loading, client, error\n * @returns null if no numDef oththerwise void;\n */\nexport const getClientData = async (numDef, assujetti, cb) => {\n    let nD = numDef;\n    if (!nD || nD === '' || nD.length < 5) return;\n    if (compareNumDef(nD, assujetti.num_def)) return;\n\n    nD = nD.replaceAll('/', '').replaceAll('-', '');\n\n    cb(true);\n    axios\n    .post(`/api/assujetti/by_def/${nD}`, {numero_def: numDef})\n    .then(res => {\n        const d = res.data;\n        if (!d.numero_def) {\n            cb(false, null, d.message);\n        } else {\n            cb(false, d, null);\n        }\n    })\n    .catch((error) => {\n        cb(false, null, error);\n    }); \n}\n\n/**\n * Compare two num def\n * @param {string} def1 \n * @param {string} def2 \n * @returns true if equal false if not equal\n */\nexport const compareNumDef = (def1, def2) => {\n    if ((def1 === def2)) return true;\n    return false;\n}\n\n/**\n * Methode Fifo pour la gestion des stocks \n * @param {array} entrees \n * @param {number} qSortie \n * @returns object {\n\t\tprixTotal,\n\t\tentreeSortie,\n\t\tnewEntrees,\n\t}\n */\nexport function fifo(entrees = [], qSortie) {\n\tlet i = 0,\n\t\tqSparEntree = 0,\n\t\tqS = qSortie,\n\t\tes = [],\n\t\tentreeSortie = [],\n\t\tpT = 0;\n\n\tlet sorted = [...entrees].sort((a, b) =>\n\t\tdateCompare(a.createdAt, b.createdAt)\n\t);\n\n\twhile (qS > 0 && i < entrees.length) {\n\t\tconst e = sorted[i];\n\t\tqS = qS - e.quantite_entree;\n\t\tentreeSortie = entreeSortie.filter((es) => es.entreeId !== e.id);\n\t\tif (qS < 0) {\n\t\t\tconst reste = Math.abs(qS);\n\t\t\tqSparEntree = qSortie;\n\t\t\tentreeSortie.push({\n\t\t\t\tentreeId: e.id,\n\t\t\t\tq_sortie: qSparEntree,\n\t\t\t\tq_entree: reste,\n\t\t\t});\n\t\t} else {\n\t\t\tqSparEntree = e.quantite_entree;\n\t\t\tentreeSortie.push({\n\t\t\t\tentreeId: e.id,\n\t\t\t\tq_sortie: qSparEntree,\n\t\t\t\tq_entree: 0,\n\t\t\t});\n\t\t\tes = entrees.filter((entree) => entree.id !== e.id);\n\t\t}\n\n\t\tpT = pT + qSparEntree * e.pv_unitaire;\n\n\t\ti++;\n\t}\n\n\treturn {\n\t\tprixTotal: pT,\n\t\tentreeSortie,\n\t\tnewEntrees: es,\n\t};\n}\n\n/**\n * Calcule la facture\n * @param {array} produits Tableaux des produits\n * @param {number} remise La remise appliquée \n * @returns object of {q, sousTotal, tva, netAPayer}\n */\nexport function calculeFacture(produits = [], remise) {\n\tlet q = 0;\n\tlet st = 0;\n\tproduits.forEach((p) => {\n\t\tq = p.quantiteSortie + q;\n\t\tst = st + p.prixTot;\n\t});\n\n\tif (remise && !isNaN(+remise)) {\n\t\tst = st * (1 - +remise / 100);\n\t}\n\tconst tva = st * 0.16;\n\tconst netAPayer = st + tva;\n\n\treturn {\n\t\tq,\n\t\tsousTotal: st,\n\t\ttva,\n\t\tnetAPayer,\n\t};\n}","import React, { useState, useEffect } from \"react\";\nimport {\n\tTypography,\n\tTextField,\n\tRadioGroup,\n\tDivider,\n\tCircularProgress,\n} from \"@mui/material\";\nimport CancelIcon from \"@mui/icons-material/Cancel\";\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\nimport { NumberFormat, InputRadio, TauxDevise } from \"../../../Components\";\nimport { Box } from \"@mui/system\";\nimport { compareNumDef, getClientData } from \"../utilities/helpers\";\nimport { getAssujetti } from \"../../../app/reducers/assujetti\";\nimport { useSelector } from \"react-redux\";\n\nexport default function Default(props) {\n\tconst {\n\t\thandleChangeClient,\n\t\tautreTaxes,\n\t\tsetAutreTaxes,\n\t\tsetDefValue,\n\t\tclientError,\n\t} = props;\n\n\tconst assujetti = useSelector(getAssujetti);\n\tconst [def, setDef] = useState(\"\");\n\tconst [client, setClient] = useState({});\n\tconst [loadingClient, setLoadingClient] = useState(false);\n\tconst [foundState, setFoundState] = useState(\"idle\");\n\tconst [assujettiError, setAssujettiError] = useState(null);\n\n\tconst handleChangeInputText = (e) => {\n\t\tsetDef(e.target.value);\n\t\tsetDefValue(e.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tif (assujetti && compareNumDef(def, assujetti.numero_def)) {\n\t\t\tsetAssujettiError(\"Opération refusée.\");\n\t\t} else {\n\t\t\tsetAssujettiError(null);\n\t\t}\n\t\tsetFoundState(\"idle\");\n\t\tsetTimeout(() => {\n\t\t\tgetClientData(def, assujetti.numero_def, (loading, client, err) => {\n\t\t\t\tsetLoadingClient(loading);\n\n\t\t\t\tsetClient(client ? client : {});\n\t\t\t\thandleChangeClient(client, loading);\n\n\t\t\t\tif (err) {\n\t\t\t\t\tsetFoundState(\"unfound\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetFoundState(\"found\");\n\t\t\t});\n\t\t}, 200);\n\t}, [def, assujetti, handleChangeClient]);\n\n\tuseEffect(() => {\n\t\tif (def === \"\" && foundState !== \"idle\") {\n\t\t\tsetFoundState(\"idle\");\n\t\t}\n\t}, [def, foundState]);\n\n\treturn (\n\t\t<div className=\"default-values\">\n\t\t\t<form>\n\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\tClient\n\t\t\t\t</Typography>\n\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={1.5}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"Numéro DEF\"\n\t\t\t\t\t\tvalue={def}\n\t\t\t\t\t\tonChange={handleChangeInputText}\n\t\t\t\t\t\tplaceholder=\"Numéro DEF du client\"\n\t\t\t\t\t\tsx={{ mr: 2 }}\n\t\t\t\t\t\terror={clientError || assujettiError ? true : false}\n\t\t\t\t\t\thelperText={clientError || assujettiError}\n\t\t\t\t\t/>\n\t\t\t\t\t{loadingClient ? (\n\t\t\t\t\t\t<CircularProgress size={12} color=\"primary\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{foundState === \"found\" && (\n\t\t\t\t\t\t\t\t<CheckCircleIcon\n\t\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{foundState === \"unfound\" && (\n\t\t\t\t\t\t\t\t<CancelIcon fontSize=\"small\" color=\"error\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\tstyle={{ display: \"block\" }}\n\t\t\t\t>\n\t\t\t\t\tDénomination solciale du client\n\t\t\t\t</Typography>\n\t\t\t\t<div className=\"denomination\">\n\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t{client.raison_sociale}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<Divider sx={{ mt: 2, mb: 2 }} />\n\t\t\t<TauxDevise />\n\t\t\t<Divider sx={{ mt: 2, mb: 2 }} />\n\t\t\t<Box mt={2}>\n\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\tTaxes\n\t\t\t\t</Typography>\n\t\t\t\t<ul className=\"taxes\">\n\t\t\t\t\t<li className=\"taxe\">\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" className=\"small\">\n\t\t\t\t\t\t\tTVA : <span className=\"tva\">16%</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"taxe autre-taxe\">\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" className=\"small\">\n\t\t\t\t\t\t\tAutre taxe :\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\t\t\tvalue={autreTaxes}\n\t\t\t\t\t\t\tonChange={(e) => setAutreTaxes(e.target.value)}\n\t\t\t\t\t\t\tlabel=\"Taxe en %\"\n\t\t\t\t\t\t\tmaxLength={parseFloat(autreTaxes) > 100 ? 3 : 7}\n\t\t\t\t\t\t\terror={parseFloat(autreTaxes) > 100}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\tparseFloat(autreTaxes) > 100 &&\n\t\t\t\t\t\t\t\t\"Le pourcentage ne doit pas dépasser 100\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</Box>\n\t\t</div>\n\t);\n}\n","import {\n\tcreateSlice,\n\tcreateAsyncThunk,\n\tcreateEntityAdapter,\n} from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst produitEntity = createEntityAdapter({\n\tselectId: (item) => item.id,\n});\n\nconst initialState = produitEntity.getInitialState({\n\tstatus: \"idle\",\n\tventeRequestStatus: \"idle\",\n\terrors: null,\n\tcategories: [],\n});\n\nexport const creerCategoriesProduit = createAsyncThunk(\n\t\"produits/get-categories-produit\",\n\tasync (data) => {\n\t\tconst res = await axios.post(\"/api/produits/categories\", data);\n\t\treturn res.data;\n\t}\n);\n\nexport const getCategoriesProduit = createAsyncThunk(\n\t\"produits/get-categories-produit\",\n\tasync () => {\n\t\tconst res = await axios.get(\"/api/produits/categories\");\n\t\treturn res.data;\n\t}\n);\n\nexport const getProduits = createAsyncThunk(\n\t\"produits/get-for-entreprise\",\n\tasync () => {\n\t\tconst res = await axios.get(\"/api/produits\");\n\t\treturn res.data;\n\t}\n);\n\nexport const getVenteDataProduits = createAsyncThunk(\n\t\"produits/get-for-entreprise-vente\",\n\tasync () => {\n\t\tconst res = await axios.get(\"/api/ventes/data\");\n\t\treturn res.data;\n\t}\n);\n\nexport const creerProduit = createAsyncThunk(\n\t\"produits/creer\",\n\tasync ({ data }) => {\n\t\tconst res = await axios.post(\"/api/produits\", data);\n\t\treturn res.data;\n\t}\n);\n\nexport const { reducer, actions } = createSlice({\n\tname: \"produit\",\n\tinitialState,\n\treducers: {\n\t\tinitError: (state) => {\n\t\t\tstate.errors = null;\n\t\t},\n\t\tappendProduit: (state, action) => {\n\t\t\tif (action.payload) {\n\t\t\t\tproduitEntity.upsertOne(state, action.payload);\n\t\t\t}\n\t\t},\n\t\tappendCategorie: (state, action) => {\n\t\t\tif (action.payload) {\n\t\t\t\tstate.categories = [...state.categories, action.payload];\n\t\t\t}\n\t\t},\n\t},\n\textraReducers: {\n\t\t[getCategoriesProduit.pending]: (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[getCategoriesProduit.fulfilled]: (state, action) => {\n\t\t\tstate.status = \"fulfilled\";\n\t\t\tstate.categories = action.payload;\n\t\t},\n\t\t[getCategoriesProduit.rejected]: (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.errors = action.payload;\n\t\t},\n\t\t[getProduits.pending]: (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[getProduits.fulfilled]: (state, action) => {\n\t\t\tstate.status = \"fulfilled\";\n\t\t\tproduitEntity.upsertMany(state, action.payload);\n\t\t},\n\t\t[getProduits.rejected]: (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.errors = action.payload;\n\t\t},\n\t\t[getVenteDataProduits.pending]: (state) => {\n\t\t\tstate.venteRequestStatus = \"loading\";\n\t\t},\n\t\t[getVenteDataProduits.fulfilled]: (state, action) => {\n\t\t\tstate.venteRequestStatus = \"fulfilled\";\n\t\t\tproduitEntity.upsertMany(state, action.payload);\n\t\t},\n\t\t[getVenteDataProduits.rejected]: (state, action) => {\n\t\t\tstate.venteRequestStatus = \"failed\";\n\t\t\tstate.errors = action.payload;\n\t\t},\n\t\t[creerProduit.pending]: (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[creerProduit.fulfilled]: (state, action) => {\n\t\t\tif (action.payload.state === \"success\") {\n\t\t\t\tstate.status = \"fulfilled\";\n\t\t\t\tproduitEntity.upsertOne(state, action.payload.produit);\n\t\t\t} else {\n\t\t\t\tstate.status = \"failed\";\n\t\t\t\tconst err = action.payload;\n\t\t\t\tif (err && err.message) {\n\t\t\t\t\tstate.errors = err.message;\n\t\t\t\t} else {\n\t\t\t\t\tstate.errors =\n\t\t\t\t\t\t\"Une erreur est survenue lors de l'enregistrement du produit. Veuillez réesayer.\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[creerProduit.rejected]: (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.errors = action.payload;\n\t\t},\n\t},\n});\n\nexport const { selectAll, selectById } = produitEntity.getSelectors(\n\t(state) => state.produits\n);\n\nexport const getReqState = (state) => state.produits.status;\nexport const getErrors = (state) => state.produits.errors;\nexport const getVenteRequestStatus = (state) =>\n\tstate.produits.venteRequestStatus;\nexport const getCategories = (state) => state.produits.categories;\nexport const getCounts = (state) => {\n\tlet produits = Object.values(state.produits.entities);\n\n\tconst all = produits.length;\n\tconst dispo = produits.filter(p => p.quantite > 0).length;\n\tconst indispo = produits.filter(p => p.quantite <= 0).length;\n\tconst alert = produits.filter(p => p.quantite <= p.quantite_min).length;\n\n\treturn {\n\t\tall,\n\t\tdispo,\n\t\tindispo,\n\t\talert\n\t}\n};\nexport const getFilterdProduits = (state, categorieId, filter) => {\n\tlet produits = Object.values(state.produits.entities);\n\n    if (categorieId && categorieId !== \"\") {\n        produits = Object.values(produits).filter(\n            (prod) => prod.categorieProduitId === categorieId)\n    }\n\n\tif (filter === \"tous\") {\n\t\treturn produits;\n\t} else if (filter === \"dispo\") {\n        return produits.filter(prod => prod.quantite > 0);\n    } else if (filter === \"indispo\") {\n        return produits.filter(prod => prod.quantite <= 0);\n    } else if (filter === \"alert\") {\n        return produits.filter(prod => prod.quantite <= prod.quantite_min);\n    }\n};\n","import {\n\tcreateSlice,\n\tcreateAsyncThunk,\n\tcreateEntityAdapter,\n} from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst venteEntity = createEntityAdapter({\n\tselectId: (item) => item.id,\n});\n\nconst initialState = venteEntity.getInitialState({\n\tstatus: \"idle\",\n\terrors: null,\n\tcount: null,\n});\n\nexport const nouvelleVente = createAsyncThunk(\n\t\"ventes/nouvelle vente\",\n\tasync (data) => {\n\t\tconst res = await axios.post(`/api/ventes`, data);\n\t\treturn res.data;\n\t}\n);\n\nexport const getVenteCount = createAsyncThunk(\n\t\"ventes/nombre des ventes\",\n\tasync () => {\n\t\tconst res = await axios.get(`/api/ventes/count`);\n\t\treturn res.data;\n\t}\n);\n\nexport const { reducer, actions } = createSlice({\n\tname: \"vente\",\n\tinitialState,\n\treducers: {\n\t\taddFactureCourante: (state, action) => {\n\t\t\tstate.factureRecente = action.payload;\n\t\t},\n\t},\n\textraReducers: {\n\t\t[getVenteCount.pending]: (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[getVenteCount.fulfilled]: (state, action) => {\n\t\t\tstate.status = \"fulfilled\";\n\t\t\tstate.count = action.payload.count;\n\t\t},\n\t\t[getVenteCount.rejected]: (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.errors = action.payload;\n\t\t},\n\t\t[nouvelleVente.pending]: (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[nouvelleVente.fulfilled]: (state, action) => {\n\t\t\tif (action.payload.state === \"success\") {\n\t\t\t\tstate.status = \"fulfilled\";\n\t\t\t\tconst facture = {\n\t\t\t\t\t...action.payload.facture,\n\t\t\t\t\tventes: action.payload.ventes,\n\t\t\t\t};\n\n\t\t\t\tstate.factureRecente = facture;\n\t\t\t} else {\n\t\t\t\tstate.status = \"fulfilled\";\n\t\t\t\tstate.errors = action.payload;\n\t\t\t}\n\t\t},\n\t\t[nouvelleVente.rejected]: (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.errors = action.payload;\n\t\t},\n\t},\n});\n\nexport const { selectAll, selectById } = venteEntity.getSelectors(\n\t(state) => state.ventes\n);\n\nexport const getReqState = (state) => state.ventes.status;\nexport const getErrors = (state) => state.ventes.errors;\nexport const getCount = (state) => state.ventes.count;","import React from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport { formatNumber } from \"../../../utilities/helpers\";\n\nconst StyledTableCell = styled(\"div\")(({ theme }) => ({\n\tfontFamily: [\n\t\t\"-apple-system\",\n\t\t\"BlinkMacSystemFont\",\n\t\t'\"Segoe UI\"',\n\t\t\"Roboto\",\n\t\t'\"Helvetica Neue\"',\n\t\t\"Arial\",\n\t\t\"sans-serif\",\n\t\t'\"Apple Color Emoji\"',\n\t\t'\"Segoe UI Emoji\"',\n\t\t'\"Segoe UI Symbol\"',\n\t].join(\",\"),\n\tpadding: \"0px 0px 0px 10px\",\n\tfontWeight: 600,\n\t\"&.body\": {\n\t\tbackgroundColor: \"#fff\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborder: \"1px solid #eaeaea\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\t\"&.body > span\": {\n\t\tfontSize: 13,\n\t\tpadding: \"5px 10px\",\n\t\tbackgroundColor: \"#eaeaea\",\n\t\tminWidth: 43.94\n\t},\n\t\"&.qt\": {\n\t\tpadding: \"5px 10px\",\n\t},\n\t\"&.header\": {\n\t\ttextAlign: \"right\",\n\t\tpadding: \"5px 0px\",\n\t},\n\t\"&.total\": {\n\t\tfontSize: 25,\n\t},\n\t\"&.total.body > span\": {\n\t\tfontSize: 20,\n\t},\n}));\n\nconst StyledTableInputCell = styled(\"input\")(() => ({\n\tfontSize: 16,\n\tborder: \"none\",\n\toutline: \"none\",\n}));\n\nconst StyledTableCol = styled(\"div\")(() => ({\n\tdisplay: \"flex\",\n\tflexDirection: \"column\",\n\twidth: \"100%\",\n\ttextAlign: \"left\",\n\t\"&.body\": {\n\t\tborder: \"1px solid #eaeaea\",\n\t\tborderRadius: 5,\n\t\tmarginLeft: 15,\n\t},\n\t\"&:last-child td, &:last-child th\": {\n\t\tborder: 0,\n\t},\n}));\n\nconst StyledDisplay = styled(\"div\")(() => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\tmaxWidth: 400,\n\t\"&.total\": {\n\t\twidth: \"100%\",\n\t\tmarginTop: 20,\n\t},\n}));\n\nexport default function ResultDesplay({\n\tqT,\n\tsT,\n\ttva,\n\tnP,\n\tdevise,\n\tremise,\n\tsetRemise,\n}) {\n\treturn (\n\t\t<>\n\t\t\t<StyledDisplay>\n\t\t\t\t<StyledTableCol className=\"header\">\n\t\t\t\t\t<StyledTableCell className=\"header\">\n\t\t\t\t\t\tQuantité totale\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t<StyledTableCell className=\"header\">\n\t\t\t\t\t\tSous-total(H.T)\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t<StyledTableCell className=\"header\">Rémise</StyledTableCell>\n\t\t\t\t\t<StyledTableCell className=\"header center\">\n\t\t\t\t\t\tT.V.A (16%)\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t</StyledTableCol>\n\t\t\t\t<StyledTableCol className=\"body\">\n\t\t\t\t\t<StyledTableCell className=\"body qt\">{qT}</StyledTableCell>\n\t\t\t\t\t<StyledTableCell className=\"body\">\n\t\t\t\t\t\t{formatNumber(sT)}\n\t\t\t\t\t\t<span>{devise}</span>\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t<StyledTableCell className=\"body\">\n\t\t\t\t\t\t<StyledTableInputCell\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tvalue={remise}\n\t\t\t\t\t\t\tonChange={(e) => setRemise(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Remise globale (0)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>%</span>\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t<StyledTableCell className=\"body\">\n\t\t\t\t\t\t{formatNumber(tva)}\n\t\t\t\t\t\t<span>{devise}</span>\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t</StyledTableCol>\n\t\t\t</StyledDisplay>\n\t\t\t<StyledDisplay className=\"total\">\n\t\t\t\t<StyledTableCol className=\"header total\">\n\t\t\t\t\t<StyledTableCell className=\"header total\">\n\t\t\t\t\t\tNet à payer\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t</StyledTableCol>\n\t\t\t\t<StyledTableCol className=\"body total\">\n\t\t\t\t\t<StyledTableCell className=\"body total\">\n\t\t\t\t\t\t{formatNumber(nP)}\n\t\t\t\t\t\t<span>{devise}</span>\n\t\t\t\t\t</StyledTableCell>\n\t\t\t\t</StyledTableCol>\n\t\t\t</StyledDisplay>\n\t\t</>\n\t);\n}\n","import { styled } from \"@mui/material/styles\";\nimport {ButtonBase} from '@mui/material';\n\nexport const StyledTableCell = styled(\"div\")(({ theme }) => ({\n\tfontFamily: [\n\t\t\"-apple-system\",\n\t\t\"BlinkMacSystemFont\",\n\t\t'\"Segoe UI\"',\n\t\t\"Roboto\",\n\t\t'\"Helvetica Neue\"',\n\t\t\"Arial\",\n\t\t\"sans-serif\",\n\t\t'\"Apple Color Emoji\"',\n\t\t'\"Segoe UI Emoji\"',\n\t\t'\"Segoe UI Symbol\"',\n\t].join(\",\"),\n\tpadding: \"10px 10px\",\n\t[`&.header`]: {\n\t\tbackgroundColor: theme.palette.primary.light,\n\t\tcolor: theme.palette.common.white,\n        padding: \"5px 10px\",\n\t},\n\t[`&.body`]: {\n\t\tfontSize: 16,\n        padding: \"10px 10px\",\n\t},\n\t[`&.right`]: {\n        textAlign: 'right'\n\t},\n\t[`&.left`]: {\n        textAlign: 'left'\n\t},\n\t[`&.center`]: {\n        textAlign: 'center'\n\t},\n}));\n\nexport const StyledTableRow = styled(ButtonBase)(({ theme }) => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n    cursor: 'pointer',\n    width: '100%',\n    textAlign: 'left',\n    \"&.header\": {\n\t\tbackgroundColor: `${theme.palette.primary.light}!important`,\n    },\n\t\"&:nth-of-type(odd)\": {\n\t\tbackgroundColor: theme.palette.grey[100],\n        boxShadow: '0px 1px 0px 0px rgb(0 0 0 / 20%)'\n\t},\n\t// hide last border\n\t\"&:last-child td, &:last-child th\": {\n\t\tborder: 0,\n\t},\n\t\"&:hover\": {\n\t\tbackgroundColor: theme.palette.action.focus,\n\t},\n\t\"&>div\": {\n\t\twidth: \"25%\",\n\t},\n\t\"&>div:first-of-type\": {\n\t\twidth: \"40%\",\n\t},\n\t\"&>div:last-child\": {\n\t\twidth: \"10%\",\n\t},\n}));\n","import React, { useState } from \"react\";\nimport { styled } from \"@mui/material/styles\";\n\nexport const StyledTableCell = styled(\"div\")(({ theme }) => ({\n\tfontFamily: [\n\t\t\"-apple-system\",\n\t\t\"BlinkMacSystemFont\",\n\t\t'\"Segoe UI\"',\n\t\t\"Roboto\",\n\t\t'\"Helvetica Neue\"',\n\t\t\"Arial\",\n\t\t\"sans-serif\",\n\t\t'\"Apple Color Emoji\"',\n\t\t'\"Segoe UI Emoji\"',\n\t\t'\"Segoe UI Symbol\"',\n\t].join(\",\"),\n\t[`&.header`]: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.common.white,\n\t\tpadding: \"5px 2px\",\n\t},\n\t[`&.body:not(:last-child)`]: {\n\t\tfontSize: 16,\n\t\tborder: \"1px solid #eaeaea\",\n\t\tpadding: \"4px 10px\",\n\t},\n\t[`&.right`]: {\n\t\ttextAlign: \"right\",\n\t},\n\t[`&.left`]: {\n\t\ttextAlign: \"left\",\n\t},\n\t[`&.center`]: {\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nexport const StyledTableInputCell = styled(\"input\")(({ theme }) => ({\n\tfontSize: 16,\n\tpadding: \"6px 10px\",\n\tborder: \"1px solid #eaeaea\",\n\toutline: \"none\",\n}));\n\nexport const StyledTableRow = styled(\"div\")(({ theme }) => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\twidth: \"100%\",\n\ttextAlign: \"left\",\n\t\"&.header\": {\n\t\tbackgroundColor: `${theme.palette.primary.main}!important`,\n\t},\n\t\"&:last-child td, &:last-child th\": {\n\t\tborder: 0,\n\t},\n\t\"&>*\": {\n\t\twidth: \"25%\",\n\t},\n\t\"&>div:first-of-type \": {\n\t\twidth: \"40%\",\n\t},\n\t\"&>div:last-child\": {\n\t\twidth: \"fit-content\",\n\t},\n\t\"&.body > div:first-of-type > div > div\": {\n\t\tpadding: \"2px 6px\",\n\t},\n}));\n\nexport const InputQuantite = ({\n\tproduit,\n\tproduits,\n\tonChange,\n\tsingleValue,\n\tonSingleChange,\n\t...other\n}) => {\n\tconst [value, setValue] = useState(0);\n\tconst handleChange = (e) => {\n\t\tconst v = parseFloat(\n\t\t\te.target.value > 0\n\t\t\t\t? e.target.value\n\t\t\t\t: 0\n\t\t);\n\t\tif (produit && e.target.value >= 0) {\n\t\t\tconst p = produits.find((prod) => prod.id === produit.id);\n\t\t\tif (p && v > p.quantite) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetValue(e.target.value);\n\t\t\tif (typeof onChange === \"function\") {\n\t\t\t\tonChange(produit.id, v);\n\t\t\t}\n\t\t\tif (typeof onSingleChange === \"function\") {\n\t\t\t\tonSingleChange(v);\n\t\t\t}\n\t\t}\n\t};\n\tReact.useEffect(() => {\n\t\tif (produit) {\n\t\t\tsetValue(produit.quantiteSortie);\n\t\t}\n\t}, [produit]);\n\tReact.useEffect(() => {\n\t\tif ((singleValue !== null || singleValue !== undefined) && !produit) {\n\t\t\tsetValue(singleValue);\n\t\t}\n\t}, [produit, singleValue]);\n\treturn (\n\t\t<StyledTableInputCell\n\t\t\t{...other}\n\t\t\tinputMode=\"numeric\"\n\t\t\ttype=\"number\"\n\t\t\tvalue={value}\n\t\t\tmaxLength={10}\n\t\t\tonChange={handleChange}\n\t\t/>\n\t);\n};\n","/**\n * Valide Les information générales de la vente\n * @param {object} client\n * @param {string} clientDef Num def du client\n * @param {numeric} taux Le taux de change\n * @param {string} devise Monaie\n * @returns valid as boolean, errors as object\n */\nexport const validerDefaultValues = (client, clientDef, taux, devise) => {\n\tlet valid = true;\n\tlet errors = {};\n\n\tif (!client && (clientDef !== \"\" || clientDef !== null || clientDef !== undefined)) {\n\t\tvalid = false;\n\t\terrors[\"client\"] = \"Le numéro DEF du client est invalide\";\n\t}\n\n\tif (!taux || taux === \"\" || +taux <= 0) {\n\t\tvalid = false;\n\t\terrors[\"taux\"] = \"Le taux de vente est réquis en Fc\";\n\t}\n\n\tif (devise !== \"USD\" && devise !== \"CDF\") {\n\t\tvalid = false;\n\t\terrors[\"devise\"] = \"Spécifiez la devise\";\n\t}\n\n\treturn {\n\t\tvalid,\n\t\terrors,\n\t};\n};\n\n/**\n * Valide les produits et qauntités vendues\n * @param {array} selectedProduits\n * @returns valid as boolean and error as string\n */\nexport const validerVente = (selectedProduits) => {\n\tlet valid = true;\n\tlet error = null;\n\n\tif (!selectedProduits || selectedProduits.length === 0) {\n\t\terror = \"Séléctionnez au moins un produit.\";\n\t\tvalid = false;\n\t} else {\n\t\tvalid = !selectedProduits.some((sP) => sP.quantiteSortie <= 0);\n\t\tif (!valid) {\n\t\t\terror = \"Toutes les quantités doivent être superieur à zéro.\";\n\t\t}\n\t}\n\n\treturn {\n\t\tvalid,\n\t\terror,\n\t};\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n\tTypography,\n\tModal,\n\tDivider,\n\tButton,\n\tCircularProgress,\n} from \"@mui/material\";\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n\tselectAll as selectProduits,\n\tgetVenteDataProduits,\n} from \"../../../app/reducers/produit\";\nimport { getReqState } from \"../../../app/reducers/vente\";\nimport ResultDesplay from \"./ResulutTable\";\nimport { SearchInput, ComboBox, LargeDialog } from \"../../../Components\";\nimport { Box } from \"@mui/system\";\nimport {\n\tStyledTableCell as ProduitListStyledCell,\n\tStyledTableRow as ProduitListStyledRow,\n} from \"./ProduitListStyledComponents\";\nimport {\n\tStyledTableCell as SelectedProduitTableCell,\n\tStyledTableRow as SelectedProduitTableRow,\n\tInputQuantite,\n} from \"./SelectedProduitStyledComponents\";\nimport { validerVente } from \"../utilities/validators\";\nimport { calculeFacture, fifo } from \"../utilities/helpers\";\nimport { formatNumber } from \"../../../utilities/helpers\";\n\nexport default function ProduitModal({\n\topen,\n\tcloseHandler,\n\tsubmitHandler,\n\tnumFacture,\n\tdevise,\n\tassujetti,\n}) {\n\t// Global variables\n\tlet produits = useSelector(selectProduits);\n\tconst [notSelected, setNotSelected] = useState(produits);\n\tconst [selectedProduits, setSelectedProduits] = useState([]);\n\tconst [qT, setQT] = useState(0);\n\tconst [sT, setST] = useState(0);\n\tconst [tva, setTva] = useState(0);\n\tconst [nP, setNP] = useState(0);\n\tconst [produitVenteStock, setProduitVenteStock] = useState([]);\n\tconst [canContinue, setCanContinue] = useState({\n\t\talert: false,\n\t\tmessage: \"\"\n\t});\n\tconst [remise, setRemise] = useState(0);\n\tconst [validationError, setValidationError] = useState(null);\n\tconst saving = useSelector(getReqState) === \"loading\";\n\n\t// Selected produits states / variables\n\tconst [produitValue, setProduitValue] = useState(null);\n\tconst [qValue, setQValue] = useState(0);\n\tconst [pTotal, setPTotal] = useState(0);\n\n\tconst handleCloseClick = () => {\n\t\tsetSelectedProduits([]);\n\t\tcloseHandler();\n\t};\n\n\tconst handleCloseAlert = () => {\n\t\tsetCanContinue(true);\n\t};\n\n\tconst onSubmit = () => {\n\t\tif (saving) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { valid, error } = validerVente(selectedProduits);\n\n\t\tsetValidationError(error);\n\n\t\tif (!valid) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = {\n\t\t\tfacture: {\n\t\t\t\tnet_payer: nP,\n\t\t\t\ttva: tva,\n\t\t\t},\n\t\t\tventes: selectedProduits.map((sP) => ({\n\t\t\t\tq_sortie: sP.quantiteSortie,\n\t\t\t\tprix_unitaire: sP.prixTot / sP.quantiteSortie,\n\t\t\t\ttva: sP.prixTot * 0.16,\n\t\t\t\tproduitId: sP.id,\n\t\t\t\tventeStock: sP.venteStock,\n\t\t\t})),\n\t\t};\n\n\t\tsubmitHandler(data);\n\t};\n\n\t// Product list functions\n\tconst handleSelectFromProduitList = (produit) => {\n\t\tif (produit.quantite === 0) {\n\t\t\tsetCanContinue({\n\t\t\t\talert: true,\n\t\t\t\tmessage: \"Le stock est épuisé!\"\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst p = { ...produit, quantiteSortie: 0, prixTot: 0, venteStock: [] };\n\t\tlet newProds = [...selectedProduits, p];\n\t\tconst prod = selectedProduits.find((p) => p.id === produit.id);\n\t\tif (prod) {\n\t\t\tif (prod.quantiteSortie >= produit.quantite) {\n\t\t\t\tsetCanContinue({\n\t\t\t\t\talert: true,\n\t\t\t\t\tmessage: \"Le stock est épuisé!\"\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tprod.quantiteSortie = prod.quantiteSortie + 1;\n\t\t\tconst { prixTotal, entreeSortie } = fifo(\n\t\t\t\tprod.entrees,\n\t\t\t\tprod.quantiteSortie\n\t\t\t);\n\t\t\tprod.prixTot = prixTotal;\n\t\t\tprod.venteStock = entreeSortie;\n\t\t\tconst { q, sousTotal, tva, netAPayer } =\n\t\t\t\tcalculeFacture(selectedProduits);\n\t\t\tsetQT(q);\n\t\t\tsetST(sousTotal);\n\t\t\tsetTva(tva);\n\t\t\tsetNP(netAPayer);\n\t\t\tnewProds = [\n\t\t\t\t...selectedProduits.filter((p) => p.id !== prod.id),\n\t\t\t\t{ ...prod },\n\t\t\t];\n\t\t}\n\n\t\tsetSelectedProduits(newProds);\n\n\t\tconst nS = notSelected.filter((p) => p.id !== produit.id);\n\t\tsetNotSelected(nS);\n\t};\n\t\n\tconst handleRemoveProduit = (index) => {\n\t\tlet newProduitsList = [];\n\n\t\tif (index || index === 0) {\n\t\t\tconst p = selectedProduits.find((_, i) => i === index);\n\t\t\tif (p) {\n\t\t\t\tsetNotSelected([...notSelected, p]);\n\t\t\t}\n\t\t\tnewProduitsList = selectedProduits.filter((_, i) => i !== index);\n\t\t}\n\t\tsetSelectedProduits(newProduitsList);\n\t};\n\tconst handleProduitValueChange = (produit) => {\n\t\tif (produit.quantite === 0 || produit.quantite < produit.q_min) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (produit) {\n\t\t\tsetProduitValue({\n\t\t\t\t...produit,\n\t\t\t\tquantiteSortie: parseFloat(qValue),\n\t\t\t\tprixTot: 0,\n\t\t\t\tventeStock: [],\n\t\t\t});\n\t\t} else {\n\t\t\tsetProduitValue(null);\n\t\t}\n\t};\n\n\tconst handleQuantiteChange = (produitId, value) => {\n\t\tconst produit = produits.find(prod => prod.id === produitId);\n\t\tconst v = parseFloat(value);\n\t\tif (v > produit.quantite) {\n\t\t\tsetCanContinue({\n\t\t\t\talert: true,\n\t\t\t\tmessage: \"Le stock est épuisé!\"\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst p = selectedProduits.find((prod) => prod.id === produitId);\n\t\tif (p) {\n\t\t\tp.quantiteSortie = v;\n\t\t\tconst { prixTotal, entreeSortie } = fifo(\n\t\t\t\tp.entrees,\n\t\t\t\tp.quantiteSortie\n\t\t\t);\n\t\t\tp.prixTot = prixTotal;\n\t\t\tp.venteStock = entreeSortie;\n\t\t\tconst { q, sousTotal, tva, netAPayer } =\n\t\t\t\tcalculeFacture(selectedProduits);\n\t\t\tsetQT(q);\n\t\t\tsetST(sousTotal);\n\t\t\tsetTva(tva);\n\t\t\tsetNP(netAPayer);\n\t\t}\n\t};\n\n\tconst handleAppendProduit = (e) => {\n\t\te.preventDefault();\n\t\tif (produitValue) {\n\t\t\tif (qValue > 0) {\n\t\t\t\tsetSelectedProduits([\n\t\t\t\t\t...selectedProduits,\n\t\t\t\t\t{\n\t\t\t\t\t\t...produitValue,\n\t\t\t\t\t\tquantiteSortie: parseFloat(qValue),\n\t\t\t\t\t\tprixTot: pTotal,\n\t\t\t\t\t\tventeStock: produitVenteStock,\n\t\t\t\t\t},\n\t\t\t\t]);\n\n\t\t\t\tsetProduitValue(null);\n\t\t\t\tconst nS = notSelected.filter((p) => p.id !== produitValue.id);\n\t\t\t\tsetNotSelected(nS);\n\t\t\t\tsetQValue(0);\n\t\t\t\tsetPTotal(0);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tif (produits.length === 0 && assujetti) {\n\t\t\tdispatch(getVenteDataProduits(assujetti.id));\n\t\t\tsetNotSelected(produits);\n\t\t}\n\t}, [assujetti, dispatch]);\n\n\tuseEffect(() => {\n\t\tif (produitValue) {\n\t\t\tconst { prixTotal, entreeSortie } = fifo(\n\t\t\t\tproduitValue.entrees,\n\t\t\t\tparseFloat(qValue)\n\t\t\t);\n\t\t\tsetPTotal(prixTotal);\n\t\t\tsetProduitVenteStock(entreeSortie);\n\t\t}\n\t}, [produitValue, qValue]);\n\n\tuseEffect(() => {\n\t\tconst { q, sousTotal, tva, netAPayer } =\n\t\t\tcalculeFacture(selectedProduits);\n\t\tsetQT(q);\n\t\tsetST(sousTotal);\n\t\tsetTva(tva);\n\t\tsetNP(netAPayer);\n\t}, [selectedProduits]);\n\treturn (\n\t\t<Modal open={open} onClose={closeHandler}>\n\t\t\t<div className=\"content-container\">\n\t\t\t\t{canContinue.alert && (\n\t\t\t\t\t<LargeDialog\n\t\t\t\t\t\topen={canContinue.alert}\n\t\t\t\t\t\ttitle=\"Alerte stock\"\n\t\t\t\t\t\tmessage={canContinue.message || \"Stock de sécurité déjà atteint. Produit indisponible.\"}\n\t\t\t\t\t\tagreeBtnText=\"Ok\"\n\t\t\t\t\t\tonClose={handleCloseAlert}\n\t\t\t\t\t\tonAgree={handleCloseAlert}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{validationError && (\n\t\t\t\t\t<LargeDialog\n\t\t\t\t\t\topen={validationError ? true : false}\n\t\t\t\t\t\ttitle=\"Erreur\"\n\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\tmessage={validationError}\n\t\t\t\t\t\tagreeBtnText=\"Ok\"\n\t\t\t\t\t\tonClose={() => setValidationError(null)}\n\t\t\t\t\t\tonAgree={() => setValidationError(null)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<header>\n\t\t\t\t\t<Typography>Facture {numFacture}</Typography>\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tonClick={onSubmit}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 113.19,\n\t\t\t\t\t\t\t\theight: 36.5,\n\t\t\t\t\t\t\t\tmr: 2,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{saving ? (\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Enregistrer\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={saving}\n\t\t\t\t\t\t\tonClick={handleCloseClick}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</header>\n\t\t\t\t<div className=\"inner-facturation-content\">\n\t\t\t\t\t<div className=\"produits-side\">\n\t\t\t\t\t\t<SearchInput />\n\t\t\t\t\t\t<div className=\"product-list\">\n\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"small\">\n\t\t\t\t\t\t\t\tCes produits se trouvent dans le{\" \"}\n\t\t\t\t\t\t\t\t<strong>stock principal</strong>.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Divider sx={{ mt: 2 }} />\n\t\t\t\t\t\t\t<div className=\"produits-list\">\n\t\t\t\t\t\t\t\t<ProduitListStyledRow className=\"header\">\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header\">\n\t\t\t\t\t\t\t\t\t\tProduit\n\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header\">\n\t\t\t\t\t\t\t\t\t\tPrix unitaire\n\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header center\">\n\t\t\t\t\t\t\t\t\t\tDisponible\n\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header center\"></ProduitListStyledCell>\n\t\t\t\t\t\t\t\t</ProduitListStyledRow>\n\t\t\t\t\t\t\t\t{produits.map((produit) => (\n\t\t\t\t\t\t\t\t\t<ProduitListStyledRow\n\t\t\t\t\t\t\t\t\t\tkey={produit.id}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleSelectFromProduitList(produit)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t\t{produit.designation}\n\t\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body right\"></ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body center\">\n\t\t\t\t\t\t\t\t\t\t\t{produit.quantite}\n\t\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t\t{produit.unite}\n\t\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\n\t\t\t\t\t\t\t\t\t</ProduitListStyledRow>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"produits-side\">\n\t\t\t\t\t\t<div className=\"selected-products\">\n\t\t\t\t\t\t\t<SelectedProduitTableRow className=\"header\">\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header\">\n\t\t\t\t\t\t\t\t\tProduit\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header\">\n\t\t\t\t\t\t\t\t\tQuantité\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header\">\n\t\t\t\t\t\t\t\t\tPrix total\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header center\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttabIndex={1000}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\t\t\t\tminWidth: \"50px\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveProduit()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t</SelectedProduitTableRow>\n\t\t\t\t\t\t\t{selectedProduits.map((produit, index) => (\n\t\t\t\t\t\t\t\t<SelectedProduitTableRow\n\t\t\t\t\t\t\t\t\tclassName=\"body\"\n\t\t\t\t\t\t\t\t\tkey={`${produit.id}_${index}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t{produit.code_produit}\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t\t<InputQuantite\n\t\t\t\t\t\t\t\t\t\tproduit={produit}\n\t\t\t\t\t\t\t\t\t\tproduits={produits}\n\t\t\t\t\t\t\t\t\t\tsx={{ m: 0 }}\n\t\t\t\t\t\t\t\t\t\ttype=\"multiple\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleQuantiteChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t{formatNumber(produit.prixTot)}\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={index + produits.length}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth: \"50px\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveProduit(index)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t</SelectedProduitTableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<form onSubmit={handleAppendProduit}>\n\t\t\t\t\t\t\t\t<SelectedProduitTableRow className=\"body new\">\n\t\t\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\t\t\tminWidth=\"40%\"\n\t\t\t\t\t\t\t\t\t\tvalue={produitValue}\n\t\t\t\t\t\t\t\t\t\tsetValue={handleProduitValueChange}\n\t\t\t\t\t\t\t\t\t\toptions={notSelected.map((prod) => ({\n\t\t\t\t\t\t\t\t\t\t\tlabel: prod.designation,\n\t\t\t\t\t\t\t\t\t\t\t...prod,\n\t\t\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\t\t\ttextFieldXs={{\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<InputQuantite\n\t\t\t\t\t\t\t\t\t\tproduit={produitValue}\n\t\t\t\t\t\t\t\t\t\tsingleValue={qValue}\n\t\t\t\t\t\t\t\t\t\tproduits={produits}\n\t\t\t\t\t\t\t\t\t\tonSingleChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\tsetQValue(value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsx={{ m: 0 }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t{formatNumber(pTotal)}\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={1000}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth: \"50px\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<CheckIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\n\t\t\t\t\t\t\t\t</SelectedProduitTableRow>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tmt={3}\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\talignItems=\"flex-end\"\n\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ResultDesplay\n\t\t\t\t\t\t\t\tqT={qT}\n\t\t\t\t\t\t\t\tsT={sT}\n\t\t\t\t\t\t\t\ttva={tva}\n\t\t\t\t\t\t\t\tnP={nP}\n\t\t\t\t\t\t\t\tdevise={devise}\n\t\t\t\t\t\t\t\tremise={remise}\n\t\t\t\t\t\t\t\tsetRemise={setRemise}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst factureEntity = createEntityAdapter({\n    selectId: item => item.id\n});\n\nconst initialState = factureEntity.getInitialState({\n    error: null,\n    status: 'idle',\n    currentFacture: null,\n    printFacture: null\n});\n\nexport const getFactures = createAsyncThunk(\n    'facture/get all',\n    async () => {}\n);\n\nexport const getCurrentFacture = createAsyncThunk(\n    'facture/get current',\n    async () => {\n        const res = await axios.get(`/api/ventes/facture_recente`);\n        return res.data;\n    }\n);\n\nexport const {actions, reducer} = createSlice({\n    name: 'facture',\n    initialState,\n    reducers: {\n        setCurrentFacture: (state, action) => {\n            const facture = action.payload;\n            state.currentFacture = facture;\n        },\n        setPrintFacture: (state, action) => {\n            const facture = action.payload;\n            state.printFacture = facture;\n        }\n    },\n    extraReducers: {\n        [getCurrentFacture.pending]: (state, action) => {\n            state.status = 'idle';\n        },\n        [getCurrentFacture.fulfilled]: (state, action) => {\n            const res = action.payload;\n            if (res && res.facture) {\n                state.currentFacture = action.payload.facture;\n            }\n            state.status = 'fulfilled';\n        },\n        [getCurrentFacture.rejected]: (state, action) => {\n            state.status = 'failed';\n        },\n    }\n});\n\nexport const getTodayFactureRecente = state => state.factures.currentFacture;\nexport const getPrintFacture = state => state.factures.printFacture;\nexport const getError = state => state.factures.error;\nexport const getReqStatus = state => state.factures.status;","import {useEffect, useState, useCallback} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {getVenteDataProduits, selectAll as selectAllProduits} from '../../../app/reducers/produit';\nimport { getCount, getVenteCount } from '../../../app/reducers/vente';\n// import {getAssujetti} from '../../../app/reducers/assujetti';\n\nexport const useGetVenteData = () => {\n    const data = useSelector(selectAllProduits);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    const getData = useCallback(async () => {\n        setLoading(true);\n        await dispatch(getVenteDataProduits());\n        await dispatch(getVenteCount());\n        setLoading(false);\n    }, [dispatch]);\n\n    useEffect(() => {\n        getData();\n    }, [getData]);\n\n    return {data, loading}\n};\n\nexport const useGetNumFacture = () => {\n    const count = useSelector(getCount);\n\n    return count + 1;\n}","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getTodayFactureRecente } from \"../../../app/reducers/facture\";\nimport { Fade, Typography, IconButton } from \"@mui/material\";\nimport styled from \"@emotion/styled\";\nimport MailIcon from \"@mui/icons-material/Mail\";\nimport PrintIcon from \"@mui/icons-material/Print\";\n\nexport default function FactureRecente() {\n\tconst facture = useSelector(getTodayFactureRecente);\n\tconst StyledContainer = styled(\"div\")(() => ({\n\t\tmarginTop: 30,\n\t\t\"& > h2\": {\n\t\t\tmarginBottom: 10,\n\t\t},\n\t}));\n\n\tconst StyledCard = styled(\"div\")(({ theme }) => ({\n\t\tbackgroundColor: \"#fff\",\n\t\tborderRadius: 7,\n\t\tminWidth: \"200px\",\n\t\tmaxWidth: \"350px\",\n\t\t\"& > span\": {\n\t\t\tpadding: theme.spacing(1, 2),\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t}));\n\tconst StyledCardHeader = styled(\"div\")(({ theme }) => ({\n\t\tdisplay: \"flex\",\n\t\talignItems: \"cente\",\n\t\tjustifyContent: \"space-between\",\n\t\twidth: \"100%\",\n\t\t\"& > span\": {\n\t\t\tpadding: theme.spacing(1, 2),\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t}));\n\tconst StyledCardBody = styled(\"div\")(({ theme }) => ({\n\t\tfontFamily: [\n\t\t\t\"-apple-system\",\n\t\t\t\"BlinkMacSystemFont\",\n\t\t\t'\"Segoe UI\"',\n\t\t\t\"Roboto\",\n\t\t\t'\"Helvetica Neue\"',\n\t\t\t\"Arial\",\n\t\t\t\"sans-serif\",\n\t\t\t'\"Apple Color Emoji\"',\n\t\t\t'\"Segoe UI Emoji\"',\n\t\t\t'\"Segoe UI Symbol\"',\n\t\t].join(\",\"),\n\t\tpadding: theme.spacing(1, 2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\t\"& > ul\": {\n\t\t\t\"& > li\": {\n\t\t\t\tpadding: theme.spacing(0.7, 0),\n\t\t\t\tminHeight: 32.19,\n\t\t\t},\n\t\t},\n\t\t\"& > ul:first-of-type\": {\n\t\t\tmarginRight: 20,\n\t\t},\n\t}));\n\treturn (\n\t\t<Fade in>\n\t\t\t<StyledContainer>\n\t\t\t\t<Typography variant=\"h2\">Facture récente</Typography>\n\t\t\t\t{facture ? (\n\t\t\t\t\t<StyledCard>\n\t\t\t\t\t\t<StyledCardHeader>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t#{facture.num_facture}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{new Date(facture.date).getHours()}\n\t\t\t\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t{new Date(facture.date).getMinutes()}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={`/facture/${facture.num_facture}`}\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t\t\t<PrintIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t\t<MailIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</StyledCardHeader>\n\t\t\t\t\t\t<StyledCardBody>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>Client :</li>\n\t\t\t\t\t\t\t\t<li>Quantité :</li>\n\t\t\t\t\t\t\t\t<li>T.V.A :</li>\n\t\t\t\t\t\t\t\t<li>Net à payer :</li>\n\t\t\t\t\t\t\t\t<li>Règlement :</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t{facture.clientDef\n\t\t\t\t\t\t\t\t\t\t? facture.clientDef\n\t\t\t\t\t\t\t\t\t\t: \"Non défini\"}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>{facture.total_quantite}</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t{facture.total_tva}{\" \"}\n\t\t\t\t\t\t\t\t\t{facture.devise === \"USD\" ? \"$\" : \"Fc\"}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t{facture.total_ht + facture.total_tva}{\" \"}\n\t\t\t\t\t\t\t\t\t{facture.devise === \"USD\" ? \"$\" : \"Fc\"}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>{facture.mode_payement}</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</StyledCardBody>\n\t\t\t\t\t</StyledCard>\n\t\t\t\t) : (\n\t\t\t\t\t<StyledCard style={{ backgroundColor: \"#f9f9f9\" }}>\n\t\t\t\t\t\t<StyledCardBody>\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\tIci s'affichera la facture récemment établie\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</StyledCardBody>\n\t\t\t\t\t</StyledCard>\n\t\t\t\t)}\n\t\t\t</StyledContainer>\n\t\t</Fade>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Box, Button, Typography } from \"@mui/material\";\nimport Default from \"../components/DefaultValues\";\nimport FactureModal from \"../components/FactureModal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAssujetti } from \"../../../app/reducers/assujetti\";\nimport { getCurrentFacture, actions } from \"../../../app/reducers/facture\";\nimport { useGetNumFacture } from \"../utilities/hooks\";\nimport { validerDefaultValues } from \"../utilities/validators\";\nimport { nouvelleVente } from \"../../../app/reducers/vente\";\nimport FactureRecente from \"../components/FactureRecente\";\nimport { getVenteDataProduits } from \"../../../app/reducers/produit\";\nimport {getTaux, getDevise} from '../../../app/reducers/config';\n\n\nexport default function FacturationHome() {\n\tconst taux = useSelector(getTaux);\n\tconst devise = useSelector(getDevise);\n\tconst assujetti = useSelector(getAssujetti);\n\tconst numFacture = useGetNumFacture();\n\tconst [def, setDef] = useState(\"\");\n\tconst [client, setClient] = useState({});\n\tconst [autreTaxes, setAutreTaxes] = useState(\"\");\n\tconst [addProduits, setAddProduits] = useState(false);\n\tconst [modePay, setModePay] = useState(\"Cash\");\n\tconst [etatFact, setEtatFact] = useState(\"soldé\");\n\tconst [searchingClient, setSearchingClient] = useState(false);\n\tconst [validationErrors, setValidationErrors] = useState({});\n\n\tconst toggleProduits = React.useCallback(() => {\n\t\tconst { valid, errors } = validerDefaultValues(\n\t\t\tclient,\n\t\t\tdef,\n\t\t\ttaux,\n\t\t\tdevise\n\t\t);\n\n\t\tsetValidationErrors(errors);\n\n\t\tif (!valid || searchingClient) {\n\t\t\treturn;\n\t\t}\n\t\tsetAddProduits(!addProduits);\n\t}, [addProduits, client, def, devise, searchingClient, taux]);\n\n\tconst handleChangeClient = React.useCallback((value, loading) => {\n\t\tsetClient(value);\n\t\tsetSearchingClient(loading);\n\t}, []);\n\n\tconst dispatch = useDispatch();\n\tconst handleSubmitFacture = (data) => {\n\t\tconst venteData = { ...data };\n\t\tventeData.factureRef = numFacture;\n\t\tventeData.clientDef = client.numero_def;\n\t\tventeData.etat_facture = etatFact;\n\t\tventeData.mode_payement = modePay;\n\t\tventeData.taux = taux;\n\t\tventeData.devise = devise;\n\n\t\tdispatch(nouvelleVente(venteData)).then((res) => {\n\t\t\tconst d = res.payload;\n\t\t\tif (d && d.state === \"success\") {\n\t\t\t\tsetAddProduits(false);\n\t\t\t\tdispatch(getVenteDataProduits());\n\t\t\t\tdispatch(actions.setCurrentFacture(d.facture));\n\t\t\t}\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(getCurrentFacture());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"home-page\"\n\t\t\tstyle={{ paddingTop: 55, backgroundColor: \"#ededed\" }}\n\t\t>\n\t\t\t{addProduits && (\n\t\t\t\t<FactureModal\n\t\t\t\t\topen={addProduits}\n\t\t\t\t\tcloseHandler={toggleProduits}\n\t\t\t\t\tsubmitHandler={handleSubmitFacture}\n\t\t\t\t\tdevise={devise}\n\t\t\t\t\tnumFacture={numFacture}\n\t\t\t\t\tassujetti={assujetti}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<div className=\"facturation\">\n\t\t\t\t<Default\n\t\t\t\t\thandleChangeClient={handleChangeClient}\n\t\t\t\t\tsetDefValue={setDef}\n\t\t\t\t\tautreTaxes={autreTaxes}\n\t\t\t\t\tsetAutreTaxes={setAutreTaxes}\n\t\t\t\t\tclientError={validationErrors.client}\n\t\t\t\t/>\n\t\t\t\t<div style={{ width: \"100%\" }}>\n\t\t\t\t\t<div className=\"facture-details\">\n\t\t\t\t\t\t<div className=\"facturation-block\">\n\t\t\t\t\t\t\t<div className=\"form-header\">\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tFacturation\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tN° du document : {numFacture}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={toggleProduits}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCréer facture\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t\tDate:{\" \"}\n\t\t\t\t\t\t\t\t\t\t{new Date().toLocaleDateString(\"fr\")}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<FactureRecente />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import {useEffect} from 'react';\nimport {useSelector} from 'react-redux';\nimport {getAssujetti, getUser} from '../app/reducers/assujetti';\nimport {useDispatch} from 'react-redux';\nimport {actions} from '../app/reducers/produit';\n\n/**\n * Connect the user to the socket\n * @param {*} socket Client socket\n * @param {string} module_name The name of the module\n */\nfunction useConnectSocket (socket, module_name) {\n    // get the assujetti object from redux\n    const assujetti = useSelector(getAssujetti);\n    const user = useSelector(getUser);\n    const dispatch = useDispatch();\n    \n    useEffect(() => {\n        if (assujetti && socket) {\n            console.log(socket);\n            // connect the user\n            socket.emit('connected', {\n                room: assujetti.numero_def,\n                userFonction: user.code_fonction,\n                module: module_name\n            });\n\n            // New entrée get event\n            socket.on('new_added_product', (data) => {\n                console.log(data);\n                if (data && data.message === \"nouveau produit\") {\n                    dispatch(actions.appendProduit(data.data));\n                }\n            });\n\n            // New entrée get event\n            socket.on('new_entree', (data) => {\n                console.log(data);\n            });\n        }\n\n        return () => {\n            socket.disconnect();\n        }\n    }, [assujetti, module_name, socket, user.code_fonction]);\n} \n\n/**\n * Sends the message\n * @param {*} socket Client Socket\n * @param {string} event The event name\n * @param {string|objet} message The message to send\n */\nexport function sendMessage (socket, event, message) {\n    // Send he message\n    socket.emit(event, message);\n}\n\n\nexport default useConnectSocket;","import React, {useState, useEffect, useContext} from \"react\";\nimport \"./facturation.style.css\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport FacturationHome from \"./pages\";\nimport { useGetVenteData } from \"./utilities/hooks\";\nimport { Chargement, LargeDialog } from \"../../Components\";\nimport { Box } from \"@mui/system\";\nimport useConnectSocket from \"../../sockets\";\nimport {SocketContext} from '../../App';\n\nexport default function NavigationFacturation() {\n\tconst { loading, data } = useGetVenteData();\n\tconst [canContinue, setCanContinue] = useState(false);\n\tconst navigate = useNavigate();\n    const socket = useContext(SocketContext);\n\n\tconst handleContinuer = () => {\n\t\tsetCanContinue(true);\n\t};\n\tconst handleReturn = () => {\n\t\tnavigate('/');\n\t};\n\n    // use the sockets for vente module\n    useConnectSocket(socket, 'vente');\n\n\tuseEffect(() => {\n\t\tconst hasStock = data.some(d => d.quantite > 0);\n\t\tsetCanContinue(hasStock);\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<Box height=\"80vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n\t\t\t\t\t<Chargement message=\"Chargement des données ...\" />\n\t\t\t\t</Box>\n\t\t\t) : \n\t\t\t!canContinue ? (\n\t\t\t<LargeDialog \n\t\t\t\topen={!canContinue}\n\t\t\t\ttitle=\"Alerte stock\"\n\t\t\t\tmessage=\"Vous n'avez aucun produit dans votre stock. Voulez-vous continuer ?\"\n\t\t\t\tagreeBtnText=\"Continuer\"\n\t\t\t\tdisagreeBtnText=\"Non\"\n\t\t\t\tonClose={handleReturn}\n\t\t\t\tonAgree={handleContinuer}\n\t\t\t\tonDisagree={handleReturn}\n\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/\" element={<FacturationHome />} />\n\t\t\t\t</Routes>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { styled } from \"@mui/material/styles\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell, { tableCellClasses } from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport TableRow from \"@mui/material/TableRow\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getFilterdProduits, getCounts } from \"../../../app/reducers/produit\";\nimport { Button, IconButton, Typography, useTheme } from \"@mui/material\";\nimport { MoreVertOutlined } from \"@mui/icons-material\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport HighlightOffIcon from \"@mui/icons-material/HighlightOff\";\nimport DownloadIcon from \"@mui/icons-material/Download\";\nimport ReadMoreIcon from \"@mui/icons-material/ReadMore\";\nimport Divider from '@mui/material/Divider';\nimport Paper from '@mui/material/Paper';\nimport MenuList from '@mui/material/MenuList';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport { SearchAuctoComplete } from \"../../../Components/Inputs/Search\";\nimport { Box } from \"@mui/system\";\nimport ComboBox from \"../../../Components/Inputs/ComboBox\";\nimport {\n\tgetCategories,\n\tgetCategoriesProduit,\n} from \"../../../app/reducers/produit\";\nimport { MenuPoppover } from \"../../../Components\";\n\n// Quelques composants\nconst StyledContainer = styled(\"div\")(() => ({\n\tmarginTop: 10,\n}));\nconst StyledHorizontal = styled(Box)(() => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\t\"&.top > div:first-of-type\": {\n\t\tmarginRight: 10,\n\t},\n\t\"&.top > div\": {\n\t\tpadding: \"10px 0\",\n\t\t\"& > *:last-child\": {\n\t\t\tmarginLeft: 10,\n\t\t},\n\t},\n}));\nconst StyledFilters = styled(\"div\")(() => ({\n\tpaddingBottom: \"15px\",\n\twidth: \"100%\",\n\tdisplay: \"flex\",\n\tflexWrap: \"nowrap\",\n\talignItems: \"center\",\n}));\n\nconst StyledTab = styled(Button)(() => ({\n\tborderRadius: 5,\n\tflex: 1,\n\twidth: \"100%\",\n\tdisplay: \"flex\",\n\tflexDirection: \"column\",\n\talignItems: \"flex-start\",\n\tcolor: \"#fff!important\",\n\ttransition: \"transform .2s\",\n\tmaxWidth: 150,\n\t\"&:not(:first-of-type)\": {\n\t\tmarginLeft: 10,\n\t},\n\t\"& > span\": {\n\t\tfontSize: 15,\n\t},\n\t\"& > span:not(:first-of-type)\": {\n\t\tfontWeight: \"600\",\n\t},\n\t\"&.active\": {\n\t\ttransform: \"scaleY(1.1)\",\n\t\tboxShadow: \"0px 0px 15px #00000054\",\n\t},\n}));\nconst StyledTableContainer = styled(TableContainer)(() => ({\n\tmarginTop: 10,\n\tborderRadius: 5,\n\tborder: \"1px solid #eaeaea\",\n}));\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\n\t[`&.${tableCellClasses.head}`]: {\n\t\tbackgroundColor: theme.palette.common.white,\n\t\tcolor: theme.palette.common.black,\n\t\tfontSize: 15,\n\t\tpadding: \"7px 10px\",\n\t},\n\t[`&.${tableCellClasses.body}`]: {\n\t\tfontSize: 14,\n\t\tpadding: \"7px 10px\",\n\t\t\"&.prodLink\": {\n\t\t\ttextDecoration: \"none\",\n\t\t\t\"&:hover\": {\n\t\t\t\ttextDecoration: \"underline\",\n\t\t\t},\n\t\t},\n\t},\n}));\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\n\t\"&:nth-of-type(odd)\": {\n\t\tbackgroundColor: theme.palette.action.hover,\n\t},\n\t\"&:last-child td, &:last-child th\": {\n\t\tborder: 0,\n\t},\n}));\n\nexport default function ProduitTableau() {\n\t// declaration des variables d'étas\n\tconst categories = useSelector(getCategories) || [];\n\tconst theme = useTheme();\n\tconst [selected, setSelected] = React.useState([]);\n\tconst [categorie, setCategorie] = useState(null);\n\tconst [filter, setFilter] = useState(\"tous\");\n\tconst [searchText, setSearchText] = useState(null);\n\tconst produits = useSelector((state) =>\n\t\tgetFilterdProduits(state, categorie ? categorie.id : null, filter)\n\t);\n\tconst counts = useSelector(getCounts);\n\tconst dispatch = useDispatch();\n\n\t// Fonction de recuperation du filtre\n\tconst handleFilterClick = (filter) => {\n\t\tsetFilter(filter);\n\t};\n\n\t// Fonction de séléction multiple\n\tconst handleSelectAllClick = (event) => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = produits.map((n) => n.id);\n\t\t\tsetSelected(newSelecteds);\n\t\t\treturn;\n\t\t}\n\t\tsetSelected([]);\n\t};\n\n\t// Fonction de séléction d'une seule ligne du tableau\n\tconst handleClick = (event, id) => {\n\t\tconst selectedIndex = selected.indexOf(id);\n\t\tlet newSelected = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, id);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(\n\t\t\t\tselected.slice(0, selectedIndex),\n\t\t\t\tselected.slice(selectedIndex + 1)\n\t\t\t);\n\t\t}\n\t\tsetSelected(newSelected);\n\t};\n\n\t// Fonction de verification de la séléction d'une ligne du tableau\n\tconst isSelected = (name) => selected.indexOf(name) !== -1;\n\n\tuseEffect(() => {\n\t\t// Recharger les categories\n\t\tif (!categories || categories.length === 0) {\n\t\t\tdispatch(getCategoriesProduit());\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<StyledContainer>\n\t\t\t<div>\n\t\t\t\t<StyledFilters>\n\t\t\t\t\t<StyledTab\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\tdisableRipple\n\t\t\t\t\t\tclassName={filter === \"tous\" && \"active\"}\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"tous\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Tous</span>\n\t\t\t\t\t\t<span>{counts.all}</span>\n\t\t\t\t\t</StyledTab>\n\t\t\t\t\t<StyledTab\n\t\t\t\t\t\tcolor=\"info\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\tdisableRipple\n\t\t\t\t\t\tclassName={filter === \"dispo\" && \"active\"}\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"dispo\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Disponnibles</span>\n\t\t\t\t\t\t<span>{counts.dispo}</span>\n\t\t\t\t\t</StyledTab>\n\t\t\t\t\t<StyledTab\n\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\tdisableRipple\n\t\t\t\t\t\tclassName={filter === \"indispo\" && \"active\"}\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"indispo\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Indisponibles</span>\n\t\t\t\t\t\t<span>{counts.indispo}</span>\n\t\t\t\t\t</StyledTab>\n\t\t\t\t\t<StyledTab\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\tdisableRipple\n\t\t\t\t\t\tclassName={filter === \"alert\" && \"active\"}\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"alert\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>En Alerte</span>\n\t\t\t\t\t\t<span>{counts.alert}</span>\n\t\t\t\t\t</StyledTab>\n\t\t\t\t</StyledFilters>\n\t\t\t\t<StyledHorizontal\n\t\t\t\t\tclassName=\"top\"\n\t\t\t\t\t// justifyContent=\"space-between\"\n\t\t\t\t>\n\t\t\t\t\t<StyledHorizontal className=\"header\">\n\t\t\t\t\t\t<SearchAuctoComplete\n\t\t\t\t\t\t\toptions={produits.map((prod) => ({\n\t\t\t\t\t\t\t\tlabel: prod.designation,\n\t\t\t\t\t\t\t\tid: prod.id,\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\tmb={0}\n\t\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\t\tsetValue={(value) => setSearchText(value)}\n\t\t\t\t\t\t\tplaceholder=\"Recherche...\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 200,\n\t\t\t\t\t\t\t\tml: \"0!important\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttextFieldXs={{\n\t\t\t\t\t\t\t\tmt: 0,\n\t\t\t\t\t\t\t\tmb: 0,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StyledHorizontal>\n\t\t\t\t\t<StyledHorizontal>\n\t\t\t\t\t\t<Typography variant=\"caption\">Catégorie</Typography>\n\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\tplaceholder=\"Sélectionnez\"\n\t\t\t\t\t\t\toptions={categories.map((cat) => ({\n\t\t\t\t\t\t\t\tlabel: cat.nom_categorie,\n\t\t\t\t\t\t\t\t...cat,\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\tvalue={categorie}\n\t\t\t\t\t\t\tsetValue={(value) => setCategorie(value)}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttextFieldXs={{\n\t\t\t\t\t\t\t\tmt: 0,\n\t\t\t\t\t\t\t\tmb: 0,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StyledHorizontal>\n\t\t\t\t</StyledHorizontal>\n\t\t\t</div>\n\t\t\t<StyledTableContainer>\n\t\t\t\t<Table size=\"small\" aria-label=\"customized table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tindeterminate={\n\t\t\t\t\t\t\t\t\t\tselected.length > 0 &&\n\t\t\t\t\t\t\t\t\t\tselected.length < produits.length\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\tproduits.length > 0 &&\n\t\t\t\t\t\t\t\t\t\tselected.length === produits.length\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={handleSelectAllClick}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\"aria-label\": \"select all desserts\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell>Code</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell>Désignation</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell>Catégorie</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell>Unité</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\tQuantité\n\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\tQ. min\n\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\tMarge\n\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\tOptions\n\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{produits &&\n\t\t\t\t\t\t\tproduits.map((produit, i) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(produit.id);\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<StyledTableRow key={produit.id}>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleClick(e, produit.id)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"aria-label\":\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"select all desserts\",\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t{produit.code_produit}\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.primary\n\t\t\t\t\t\t\t\t\t\t\t\t\t.main,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"prodLink\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={produit.id}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration: \"inherit\",\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{produit.designation}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t{produit.categorie_produit\n\t\t\t\t\t\t\t\t\t\t\t\t? produit.categorie_produit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.code_categorie\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t{produit.unite}\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\t\t\t\talign=\"right\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\t\tparseFloat(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduit.quantite\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <=\n\t\t\t\t\t\t\t\t\t\t\t\t\tparseFloat(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduit.quantite_min\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"red\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{produit.quantite}\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{produit.quantite_min}\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{produit.marge}%\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<ProduitOptions />\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t<StyledTableRow style={{ height: 35 }}>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\t></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</StyledTableContainer>\n\t\t</StyledContainer>\n\t);\n}\n\nconst ProduitOptions = () => {\n\tconst [anchorEl, setAnchorEl] = useState();\n\tconst open = Boolean(anchorEl);\n\n\tconst openMenu = (e) => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst closeMenu = () => {\n\t\tsetAnchorEl(null);\n\t};\n\treturn (\n\t\t<>\n\t\t\t<IconButton onClick={openMenu} sx={{p: 0}}>\n\t\t\t\t<MoreVertOutlined fontSize=\"small\" color=\"default\" />\n\t\t\t</IconButton>\n\t\t\t{open && (\n\t\t\t\t<MenuPoppover\n\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\topen={open}\n\t\t\t\t\thandleClose={closeMenu}\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: \"center\",\n\t\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t\t}}\n\t\t\t\t\ttransformOrigin={{\n\t\t\t\t\t\tvertical: \"center\",\n\t\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<MenuList>\n\t\t\t\t\t\t\t<MenuItem>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ReadMoreIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText>Voir détails</ListItemText>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<MenuItem>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<DownloadIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText>Approvisionnemt</ListItemText>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<MenuItem>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<EditIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText>Modifier</ListItemText>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<MenuItem>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<HighlightOffIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText>Supprimer</ListItemText>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t</Paper>\n\t\t\t\t</MenuPoppover>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","/**\n * Valide les données pour la création d'un nouveau produit\n * @param {string} designation Désignation du produit\n * @param {string} unite Nature du produit\n * @param {number} marge Marge bénéficiaire\n * @param {number} stockSecurite Stock de sécurité\n * @returns Object of {boolean valid value and an objet of errrors}\n */\nexport const validerNouveauProduit = (\n\tdesignation,\n\tunite,\n\tmarge,\n\tqMin,\n\tcode,\n\tnumCompte\n) => {\n\tlet valid = true;\n\tconst errors = {};\n\n\tif (!numCompte || numCompte === \"\" || numCompte[0] !== \"3\") {\n\t\tvalid = false;\n\t\terrors[\"numCompte\"] =\n\t\t\t\"Le numéro de compte stock commence par 3\";\n\t}\n\n\tif (designation === \"\" || !designation) {\n\t\terrors[\"designation\"] = \"La désignation du produit est réquise.\";\n\t\tvalid = false;\n\t}\n\n\tif (unite === \"\" || !unite) {\n\t\terrors[\"unite\"] = \"La nature du produit est réquise.\";\n\t\tvalid = false;\n\t}\n\n\tif (marge === null || marge === undefined || marge <= 0) {\n\t\terrors[\"marge\"] = \"La marge bénéficiaire du produit est réquise.\";\n\t\tvalid = false;\n\t}\n\n\tif (!qMin || qMin < 0) {\n\t\terrors[\"qMin\"] = \"Le stock de sécurité du produit est réquis.\";\n\t\tvalid = false;\n\t}\n\n\tif (!code || code === \"\") {\n\t\terrors[\"code\"] = \"Le code du produit est réquis.\";\n\t\tvalid = false;\n\t}\n\n\treturn {\n\t\tvalid,\n\t\terrors,\n\t};\n};\n\n\n/**\n * Valide les données de la création du stock initial\n * @returns Object of {boolean valid value and an objet of errrors}\n */\nexport const validerEntree = ({\n\tdateExp,\n\tquantite,\n\tcout_unitaire,\n\ttaux,\n\tpv_unitaire,\n\tdevise,\n\tprovenance,\n\tlicence_url,\n\tfactureId,\n\tproduit,\n}) => {\n\tlet valid = true;\n\tconst errors = {};\n\tconst defaultValueErrors = [];\n\n\tif (!produit) {\n\t\terrors[\"produit\"] = \"Séléctionnez un produit.\";\n\t\tvalid = false;\n\t} else if (!produit.id) {\n\t\terrors[\"produit\"] = \"Séléctionnez un produit.\";\n\t\tvalid = false;\n\t}\n\n\tif (quantite < 0 || !quantite) {\n\t\terrors[\"quantite\"] = \"La quantité du produit est réquise.\";\n\t\tvalid = false;\n\t}\n\n\tif (cout_unitaire < 0 || !cout_unitaire) {\n\t\terrors[\"cu\"] = \"Le coût unitaire du produit est réquis.\";\n\t\tvalid = false;\n\t}\n\n\tif (pv_unitaire < 0 || !pv_unitaire) {\n\t\terrors[\"pv\"] = \"Le prix de vente unitaire du produit est réquis.\";\n\t\tvalid = false;\n\t}\n\n\tif (taux < 0 || !taux) {\n\t\tdefaultValueErrors.push(\"Le taux est réquis.\");\n\t\tvalid = false;\n\t}\n\n\tif (provenance < 0 || !provenance) {\n\t\tdefaultValueErrors.push(\n\t\t\t\"Veillez spécifier la source de l'entrée en stock\"\n\t\t);\n\t\tvalid = false;\n\t}\n\n\tif (provenance === \"licence\" && (!licence_url || licence_url === \"\")) {\n\t\tdefaultValueErrors.push(\"Ajouter l'image de la licence d'importation\");\n\t\tvalid = false;\n\t}\n\n\tif (provenance === \"facture\" && (!factureId || factureId === \"\")) {\n\t\tdefaultValueErrors.push(\n\t\t\t\"Veillez séléctionner la facture d'achat pour ce produit.\"\n\t\t);\n\t\tvalid = false;\n\t}\n\n\tif (devise === \"\" || !devise) {\n\t\tdefaultValueErrors.push(\"Veillez séléctionner la devise utilisée.\");\n\t\tvalid = false;\n\t}\n\n\tif (dateExp !== \"\" && dateExp) {\n\t\tif (\n\t\t\t!/^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]|(?:Jan|Mar|May|Jul|Aug|Oct|Dec)))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[1,3-9]|1[0-2]|(?:Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)(?:0?2|(?:Feb))\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9]|(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep))|(?:1[0-2]|(?:Oct|Nov|Dec)))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/.test(\n\t\t\t\tdateExp\n\t\t\t)\n\t\t) {\n\t\t\terrors[\"dateExp\"] = \"Mauvaise date\";\n\t\t\tvalid = false;\n\t\t}\n\t}\n\n\treturn {\n\t\tvalid,\n\t\terrors,\n\t\tdefaultValueErrors,\n\t};\n};\n","import React, { useState } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tTextField,\n\tTypography,\n\tCircularProgress,\n\tModal,\n\tIconButton,\n    Alert,\n} from \"@mui/material\";\nimport {useDispatch} from 'react-redux';\nimport { styled } from \"@mui/material/styles\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport axios from \"axios\";\nimport {actions} from '../../../app/reducers/produit';\n\n// Creation des quelques composants \nconst StyledContainer = styled(\"form\")(() => ({\n\tbackgroundColor: \"#fff\",\n\theight: \"100%\",\n\twidth: 300,\n\tpadding: 20,\n}));\nconst StyledHeader = styled(\"div\")(() => ({\n\tdisplay: \"flex\",\n\tjustifyContent: \"space-between\",\n\talignItems: \"center\",\n\tmarginBottom: 15,\n\t\"& > h1\": {\n\t\tfontSize: 17,\n\t},\n}));\n\n/**\n * Componsant Formulaire de création des catégories des produits\n */\nexport default function CategorieForm({ open, onClose }) {\n\t// Declaration des variable états du composant\n\tconst [nom, setNom] = useState(\"\");\n\tconst [code, setCode] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [errors, setErrors] = useState({});\n\tconst [loading, setLoading] = useState(false);\n\n\t// Référence au premier champs du formulaire\n\tconst nomRef = React.useRef();\n\n\t// Fonction d'initialisation\n\tconst initAll = () => {\n\t\tsetNom(\"\");\n\t\tsetCode(\"\");\n\t\tsetDescription(\"\");\n\t\tsetErrors({});\n        setLoading(false);\n\t};\n\n\t// Recuperation des valeurs des champs du formulaire\n\tconst handleInputChange = (value, label) => {\n\t\t// Reinitialisation des eureurs\n\t\tsetErrors({ ...errors, [label]: null });\n\n\t\tswitch (label) {\n\t\t\tcase \"nom\":\n\t\t\t\tsetNom(value);\n\t\t\t\tif (value !== \"\") {\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"code\":\n\t\t\t\tsetCode(value);\n\t\t\t\tbreak;\n\t\t\tcase \"description\":\n\t\t\t\tsetDescription(value);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t// Fermeture du formulaire\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tinitAll();\n\t};\n\n\t// Validation des valeurs\n\tconst validateData = (nom, code) => {\n\t\tlet valid = true;\n\t\tif (nom === \"\") {\n\t\t\tvalid = false;\n\t\t\tsetErrors({ ...errors, nom: \"La valeur est réquise\" });\n\t\t}\n\t\tif (code === \"\") {\n\t\t\tvalid = false;\n\t\t\tsetErrors({ ...errors, nom: \"La valeur est réquise\" });\n\t\t}\n\n\t\treturn valid;\n\t};\n\n\t// Fonction d'enregistrement\n    const dispatch = useDispatch();\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\t// Test de la validation des valeurs avant l'envoie de la requête\n\t\tconst valid = validateData(nom, code);\n\t\tif (!valid) return;\n\n\t\t// Envoie de la requête\n\t\ttry {\n            setLoading(true);\n\t\t\tconst res = await axios.post(\"/api/produits/categories\", {nom, code, description});\n\n\t\t\tconst data = res.data;\n\n            console.log(data);\n\n\t\t\tif (data.state === \"success\") {\n                dispatch(actions.appendCategorie(data.categorie));\n                initAll();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n            setLoading(false);\n\t\t\terrors[\"server\"] =\n\t\t\t\t\"Une erreur s'est produite lors de l'enregistrement\";\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal open={open} onClose={handleClose}>\n\t\t\t<StyledContainer onSubmit={handleSubmit}>\n            {errors.server > 0 &&\n\t\t\t\t\t<Alert severity=\"error\" color=\"error\" variant=\"standard\" sx={{fontSize: 13}}>\n\t\t\t\t\t\t{errors.server}\n\t\t\t\t\t</Alert>\n\t\t\t\t}\n\t\t\t\t<StyledHeader>\n\t\t\t\t\t<Typography variant=\"h1\">\n\t\t\t\t\t\tNouvelle catégorie de produit\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<IconButton onClick={handleClose}>\n\t\t\t\t\t\t<CloseIcon size=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</StyledHeader>\n\t\t\t\t<TextField\n\t\t\t\t\tinputRef={nomRef}\n\t\t\t\t\tlabel=\"Nom de la catégorie *\"\n\t\t\t\t\tid=\"categorie\"\n\t\t\t\t\tname=\"categorie\"\n\t\t\t\t\tplaceholder=\"Catégorie des produits\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={nom}\n\t\t\t\t\tonChange={(e) => handleInputChange(e.target.value, \"nom\")}\n\t\t\t\t\terror={errors.nom ? true : false}\n\t\t\t\t\thelperText={errors.nom}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tinputRef={nomRef}\n\t\t\t\t\tlabel=\"Code de la catégorie *\"\n\t\t\t\t\tid=\"categorie\"\n\t\t\t\t\tname=\"categorie\"\n\t\t\t\t\tplaceholder=\"Code des produits\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={code}\n\t\t\t\t\tonChange={(e) => handleInputChange(e.target.value, \"code\")}\n\t\t\t\t\terror={errors.code ? true : false}\n\t\t\t\t\thelperText={errors.code}\n\t\t\t\t/>\n\t\t\t\t<Box mt={2}>\n\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\tDéscripton\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tplaceholder=\"Une petite description du produit\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\thandleInputChange(e.target.value, \"description\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\trows={4}\n\t\t\t\t\t\terror={errors.description ? true : false}\n\t\t\t\t\t\thelperText={errors.description}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<div className=\"form-actions\">\n\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tsx={{ mr: 2 }}\n\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\ttype=\"sumbit\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 124.78,\n\t\t\t\t\t\t\t\theight: 36.5,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Enregistrer\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</StyledContainer>\n\t\t</Modal>\n\t);\n}\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tTextField,\n\tTypography,\n\tCircularProgress,\n\tModal,\n\tDivider,\n} from \"@mui/material\";\nimport { Add } from \"@mui/icons-material\";\nimport Chip from \"@mui/material/Chip\";\nimport Stack from \"@mui/material/Stack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tactions,\n\tcreerProduit,\n\tgetErrors,\n} from \"../../../app/reducers/produit\";\nimport { ComboBox } from \"../../../Components\";\nimport { validerNouveauProduit } from \"../utilities/validators/produit\";\nimport CategorieForm from \"./CategorieForm\";\nimport { LargeDialog } from \"../../../Components\";\nimport {\n\tgetCategories,\n\tgetCategoriesProduit,\n} from \"../../../app/reducers/produit\";\nimport { styled } from \"@mui/styles\";\nimport { FeedbackContext, SocketContext } from \"../../../App\";\nimport {sendMessage} from '../../../sockets';\n\nfunction AutresTaxes({ taxes = [], handleDelete }) {\n\treturn (\n\t\t<Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\n\t\t\t{taxes.map((taxe) => (\n\t\t\t\t<Chip\n\t\t\t\t\tkey={taxe.label}\n\t\t\t\t\tlabel={`${taxe.label} : ${taxe.pourcentage}%`}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonDelete={() => handleDelete(taxe.label)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</Stack>\n\t);\n}\n\nexport default function FormProduitModal({ open, onClose }) {\n\t// Création des états et variables\n\tconst { createFeedback } = useContext(FeedbackContext);\n\tconst socket = useContext(SocketContext);\n\tconst [designation, setDesignation] = useState(\"\");\n\tconst [unite, setUnite] = useState(\"\");\n\tconst [marge, setMarge] = useState(0);\n\tconst [qMin, setQMin] = useState(0);\n\tconst [code, setCode] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [emballage, setEmballage] = useState(\"\");\n\tconst [categorie, setCategorie] = useState(null);\n\tconst [numCompte, setNumCompte] = useState(\"31\");\n\tconst [taxeNom, setTaxeNom] = useState(\"\");\n\tconst [taxeValue, setTaxeValue] = useState(\"\");\n\tconst [taxes, setTaxes] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [errors, setErrors] = useState({});\n\tconst [addCategory, setAddCategory] = useState(false);\n\tconst serverError = useSelector(getErrors);\n\n\t// recuperation des categorie des produit (redux store)\n\tconst categories = useSelector(getCategories);\n\n\tconst designRef = useRef();\n\n\tconst toggleAddCategory = () => {\n\t\tsetAddCategory(!addCategory);\n\t};\n\n\tconst handleCancel = () => {\n\t\tinitAll();\n\t\tonClose();\n\t};\n\n\tconst handleInputChange = (value, label) => {\n\t\tswitch (label) {\n\t\t\tcase \"designation\":\n\t\t\t\tsetDesignation(value);\n\t\t\t\tsetErrors({ ...errors, designation: null });\n\t\t\t\tbreak;\n\t\t\tcase \"code\":\n\t\t\t\tsetCode(value);\n\t\t\t\tsetErrors({ ...errors, code: null });\n\t\t\t\tbreak;\n\t\t\tcase \"qMin\":\n\t\t\t\tsetQMin(value);\n\t\t\t\tif (qMin !== null || qMin !== \"\") {\n\t\t\t\t\tsetErrors({ ...errors, qMin: null });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"unite\":\n\t\t\t\tsetUnite(value);\n\t\t\t\tsetErrors({ ...errors, unite: null });\n\t\t\t\tbreak;\n\t\t\tcase \"marge\":\n\t\t\t\tsetMarge(value);\n\t\t\t\tsetErrors({ ...errors, marge: null });\n\t\t\t\tbreak;\n\t\t\tcase \"emballage\":\n\t\t\t\tsetMarge(value);\n\t\t\t\tsetErrors({ ...errors, marge: null });\n\t\t\t\tbreak;\n\t\t\tcase \"taxeNom\":\n\t\t\t\tsetTaxeNom(value);\n\t\t\t\tsetErrors({ ...errors, taxeNom: null });\n\t\t\t\tbreak;\n\t\t\tcase \"taxeValue\":\n\t\t\t\tsetTaxeValue(value);\n\t\t\t\tsetErrors({ ...errors, taxeValue: null });\n\t\t\t\tbreak;\n\t\t\tcase \"numCompte\":\n\t\t\t\tsetNumCompte(value);\n\t\t\t\tsetErrors({ ...errors, numCompte: null });\n\t\t\t\tbreak;\n\t\t\tcase \"categorie\":\n\t\t\t\tsetCategorie(value);\n\t\t\t\tsetErrors({ ...errors, categorie: null });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst appendTaxe = () => {\n\t\tlet valid = true;\n\t\tlet errs = { ...errors };\n\t\tif (taxeNom === \"\") {\n\t\t\tvalid = false;\n\t\t\terrs[\"taxeNom\"] = \"Valeure réquise.\";\n\t\t}\n\t\tif (taxeValue === \"\") {\n\t\t\tvalid = false;\n\t\t\terrs[\"taxeValue\"] = \"Valeure réquise.\";\n\t\t}\n\n\t\tif (taxes.some((t) => t.label === taxeNom)) {\n\t\t\tvalid = false;\n\t\t}\n\n\t\tif (!valid) {\n\t\t\tsetErrors(errs);\n\t\t\treturn;\n\t\t}\n\n\t\tsetTaxes([...taxes, { label: taxeNom, pourcentage: taxeValue }]);\n\n\t\tsetTaxeNom(\"\");\n\t\tsetTaxeValue(\"\");\n\t};\n\n\tconst handleRemoveTaxe = (label) => {\n\t\tconst t = taxes.filter((t) => t.label !== label);\n\n\t\tsetTaxes(t);\n\t};\n\n\t// Fonction d'initialisation des champs du formulaire\n\tconst initAll = () => {\n\t\tsetDesignation(\"\");\n\t\tsetUnite(\"\");\n\t\tsetQMin(\"\");\n\t\tsetMarge(0);\n\t\tsetCode(\"\");\n\t\tsetDescription(\"\");\n\t\tsetCategorie(null);\n\t\tsetTaxes([]);\n\t\tsetTaxeNom(\"\");\n\t\tsetTaxeValue(\"\");\n\t\tsetNumCompte(\"31\");\n\t\tsetEmballage(\"\");\n\n\t\tif (designRef.current) {\n\t\t\tdesignRef.current.focus();\n\t\t}\n\t};\n\n\tconst handleCompteChange = (e) => {\n\t\tconst val = e.target.value;\n\t\tif (val === \"\" || val[0] !== \"3\") {\n\t\t\tsetErrors({\n\t\t\t\t...errors,\n\t\t\t\tnumCompte: \"Mauvais numéro de compte\",\n\t\t\t});\n\t\t} else {\n\t\t\tsetErrors({\n\t\t\t\t...errors,\n\t\t\t\tnumCompte: null,\n\t\t\t});\n\t\t}\n\t\tsetNumCompte(val);\n\t};\n\n\tconst dispatch = useDispatch();\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { valid: valid1, errors: errors1 } = validerNouveauProduit(\n\t\t\tdesignation,\n\t\t\tunite,\n\t\t\tmarge,\n\t\t\tqMin,\n\t\t\tcode,\n\t\t\tnumCompte\n\t\t);\n\n\t\tif (!valid1) {\n\t\t\tsetErrors(errors1);\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\t\tconst prod = {\n\t\t\tdesignation,\n\t\t\tcode_produit: code,\n\t\t\tdescription,\n\t\t\temballage,\n\t\t\tunite,\n\t\t\tmarge,\n\t\t\ttaxes,\n\t\t\tquantite: 0,\n\t\t\tq_min: qMin,\n\t\t\tcategorieId: categorie ? categorie.id : null,\n\t\t};\n\n\t\tdispatch(\n\t\t\tcreerProduit({\n\t\t\t\tdata: prod,\n\t\t\t})\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tconst data = res.payload;\n\t\t\t\tif (data && data.state === \"success\") {\n\t\t\t\t\tinitAll();\n\t\t\t\t\tcreateFeedback(\n\t\t\t\t\t\t\"Un produit ajouté avec succès !\",\n\t\t\t\t\t\t\"création-produit\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\t// Send the new_produit event with produit id as message\n\t\t\t\t\tsendMessage(socket, 'new_produit', {produitId: data.produit.id});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.finally(() => setLoading(false));\n\t};\n\n\tconst handleClearServerErrors = () => {\n\t\tsetErrors({ ...errors, server: null });\n\t\tdispatch(actions.initError());\n\t};\n\n\tuseEffect(() => {\n\t\tsetErrors({ ...errors, server: serverError });\n\t}, [serverError]);\n\n\tuseEffect(() => {\n\t\tdispatch(getCategoriesProduit());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<Modal\n\t\t\topen={open}\n\t\t\tonClose={onClose}\n\t\t\tBackdropProps={{\n\t\t\t\tstyle: {\n\t\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\t\tbackgroundColor: \"#00000005\",\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<StyledNouveauProduitContainer>\n\t\t\t\t{addCategory && (\n\t\t\t\t\t<CategorieForm\n\t\t\t\t\t\tonClose={toggleAddCategory}\n\t\t\t\t\t\topen={addCategory}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<form className=\"produit-form\" onSubmit={handleSubmit}>\n\t\t\t\t\t{errors.server && (\n\t\t\t\t\t\t<LargeDialog\n\t\t\t\t\t\t\ttitle=\"Erreur\"\n\t\t\t\t\t\t\topen={serverError ? true : false}\n\t\t\t\t\t\t\tmessage={errors.server}\n\t\t\t\t\t\t\tonAgree={handleClearServerErrors}\n\t\t\t\t\t\t\tonClose={handleClearServerErrors}\n\t\t\t\t\t\t\tagreeBtnText=\"Ok\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<Typography variant=\"h1\">\n\t\t\t\t\t\t\tAjout des nouveaux produits/Articles\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tonClick={handleCancel}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\t\t1. Détails\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tinputRef={designRef}\n\t\t\t\t\t\t\t\t\tlabel=\"Désignation du produit *\"\n\t\t\t\t\t\t\t\t\tid=\"designation\"\n\t\t\t\t\t\t\t\t\tname=\"designation\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Désignation du produit\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={designation}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"designation\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errors.designation ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.designation}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Code Produit *\"\n\t\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\t\tname=\"code\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Code du produit\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={code}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"code\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror={errors.code ? true : false}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.code}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Quantité minimale *\"\n\t\t\t\t\t\t\t\t\t\tid=\"q_min\"\n\t\t\t\t\t\t\t\t\t\tname=\"q_min\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Quantité minimale\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={qMin}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"qMin\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror={errors.qMin ? true : false}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.qMin}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Unité de mésure du produit *\"\n\t\t\t\t\t\t\t\t\t\tid=\"unite\"\n\t\t\t\t\t\t\t\t\t\tname=\"unite\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Unité de mésure du produit\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvalue={unite}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"unite\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror={errors.unite ? true : false}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.unite}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Marge de bénéfice sur une unité (%) *\"\n\t\t\t\t\t\t\t\t\t\tid=\"marge\"\n\t\t\t\t\t\t\t\t\t\tname=\"marge\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Marge de bénéfice sur une unité\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={marge}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"marge\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror={errors.marge ? true : false}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.marge}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"L'emballage du produit (Conteneur)\"\n\t\t\t\t\t\t\t\t\tid=\"emballage\"\n\t\t\t\t\t\t\t\t\tname=\"emballage\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"L'emballage du produit\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={emballage}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"emballage\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDéscripton\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Une petite description du produit\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"description\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\terrors.description ? true : false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.description}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\t\t2. Catégorie du produit (gamme)\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\t\tlabel=\"Catégorie *\"\n\t\t\t\t\t\t\t\t\tid=\"Catégorie\"\n\t\t\t\t\t\t\t\t\tname=\"Catégorie\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Catégorie\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\t\tcategories.map((cat) => ({\n\t\t\t\t\t\t\t\t\t\t\tlabel: cat.nom_categorie,\n\t\t\t\t\t\t\t\t\t\t\t...cat,\n\t\t\t\t\t\t\t\t\t\t})) || []\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue={categorie}\n\t\t\t\t\t\t\t\t\tsetValue={(value) => setCategorie(value)}\n\t\t\t\t\t\t\t\t\tsx={{ \n\t\t\t\t\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tonClick={toggleAddCategory}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNouvelle catégorie\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\t\t3. Autres données\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Numéro de compte stock *\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Numéro de compte stock\"\n\t\t\t\t\t\t\t\t\tname=\"compte\"\n\t\t\t\t\t\t\t\t\tid=\"compte\"\n\t\t\t\t\t\t\t\t\tinputProps={{ maxLength: 8 }}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={numCompte}\n\t\t\t\t\t\t\t\t\tonChange={handleCompteChange}\n\t\t\t\t\t\t\t\t\terror={errors.numCompte ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.numCompte}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAutres taxes liées\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t{taxes.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<AutresTaxes\n\t\t\t\t\t\t\t\t\t\t\ttaxes={taxes}\n\t\t\t\t\t\t\t\t\t\t\thandleDelete={handleRemoveTaxe}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"flex-start\">\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Nom de la taxe\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"nom_taxe\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"nom_taxe\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Taxe\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\t\t\t\t\t\t\tmr: 1,\n\t\t\t\t\t\t\t\t\t\t\t\tmy: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={taxeNom}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"taxeNom\"\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\terrors.taxeNom ? true : false\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.taxeNom}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Valeur (%)\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"taxe\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"taxe\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Taxe\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength: 5,\n\t\t\t\t\t\t\t\t\t\t\t\tminLength: 0,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\t\t\t\t\t\t\tmr: 1,\n\t\t\t\t\t\t\t\t\t\t\t\tmy: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#f6f8fa80'\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={taxeValue}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"taxeValue\"\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\terrors.taxeValue ? true : false\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.taxeValue}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Add />}\n\t\t\t\t\t\t\t\t\t\t\tonClick={appendTaxe}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAjouter\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<div className=\"form-actions\">\n\t\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\ttype=\"sumbit\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tminWidth: 124.78,\n\t\t\t\t\t\t\t\t\theight: 36.5,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\"Enregistrer\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</StyledNouveauProduitContainer>\n\t\t</Modal>\n\t);\n}\n\nconst StyledNouveauProduitContainer = styled(\"div\")(() => ({\n\tbackgroundColor: \"#fff\",\n\twidth: \"100%\",\n\theight: \"100vh\",\n\toverflowY: \"auto\",\n\tmaxWidth: 600,\n\tfloat: \"right\",\n\t// padding: \"0px 0\",\n\tborderLeft: \"1px solid #cccccc\",\n\tboxShadow: \"-5px 0px 20px 6px #52525229\",\n\t\"& .form-actions\": {\n\t\tpadding: \"20px\",\n\t},\n}));\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Typography } from \"@mui/material\";\nimport ProduitTableau from \"../components/ProduitTableau\";\nimport { Box } from \"@mui/system\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport { useDispatch } from \"react-redux\";\nimport { getProduits } from \"../../../app/reducers/produit\";\nimport FormProduitModal from \"../components/FormProduitModal\";\n\nexport default function Produits() {\n\tconst dispatch = useDispatch();\n\tconst [openNouveauProduit, setOpenNouveauProduit] = useState(false);\n\n\tconst toggleNouveauProduit = () => {\n\t\tsetOpenNouveauProduit(!openNouveauProduit);\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(getProduits());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<div className=\"module-page\">\n\t\t\t<header>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\tbackground=\"#fff\"\n\t\t\t\t\tpadding=\"5px 0\"\n\t\t\t\t\tborderRadius=\"5px\"\n\t\t\t\t>\n\t\t\t\t\t<Typography className=\"module-title\">\n\t\t\t\t\t\tProduits\n\t\t\t\t\t\t<span className=\"small\">>> Liste des produits</span>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t\tonClick={toggleNouveauProduit}\n\t\t\t\t\t>\n\t\t\t\t\t\tNouveau produit\n\t\t\t\t\t</Button>\n\t\t\t\t\t{openNouveauProduit && <FormProduitModal open={openNouveauProduit} onClose={toggleNouveauProduit} />}\n\t\t\t\t</Box>\n\t\t\t</header>\n\t\t\t<section className=\"produits\">\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\ttransition: \"all 225ms cubic-bezier(0, 0, 0.2, 1) 0ms\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<ProduitTableau />\n\t\t\t\t</Box>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport { ListItemText, ListItemButton, ListItemIcon } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { NavLink } from \"react-router-dom\";\nimport ApprovIcon from \"@mui/icons-material/FileDownload\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport NotificationImportantIcon from \"@mui/icons-material/NotificationImportant\";\nimport KeyBoardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport Inventory2Icon from \"@mui/icons-material/Inventory2\";\n\nexport default function StockSideBar() {\n\tconst [openProduit, setOpenProduit] = useState(true);\n\tconst [openApprov, setOpenApprov] = useState(true);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"fleft-sidebar\"\n\t\t\tstyle={{\n\t\t\t\tcolor: \"#444\",\n\t\t\t\tborderRight: \"1px solid #ccc\"\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"inner-sidebar\">\n\t\t\t\t<menu>\n\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tonClick={() => setOpenProduit(!openProduit)}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tpr: 2,\n\t\t\t\t\t\t\t\"&:hover, &:focus\": {},\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tcolor: \"inherit\",\n\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\n\t\t\t\t\t\t\t\tmarginRight: 1.5,\n\t\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Inventory2Icon fontSize=\"small\" />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={\"Produits\"}\n\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\tlineHeight: \"20px\",\n\t\t\t\t\t\t\t\tmb: \"2px\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsecondaryTypographyProps={{\n\t\t\t\t\t\t\t\tnoWrap: true,\n\t\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\t\tlineHeight: \"16px\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsx={{ my: 0 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<KeyBoardArrowDownIcon\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\topacity: openProduit ? 1 : 0,\n\t\t\t\t\t\t\t\ttransform: openProduit\n\t\t\t\t\t\t\t\t\t? \"rotate(-180deg)\"\n\t\t\t\t\t\t\t\t\t: \"rotate(0)\",\n\t\t\t\t\t\t\t\ttransition: \"0.2s\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t{openProduit && (\n\t\t\t\t\t\t<Box pl={4.5}>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tto=\"produits\"\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemButton>\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tprimary=\"Liste des produits\"\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tmb: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tto=\"nouveau_produit\"\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemButton>\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tprimary=\"Ajouter des produits\"\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tonClick={() => setOpenApprov(!openApprov)}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tpr: 2,\n\t\t\t\t\t\t\t\"&:hover, &:focus\": {},\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tcolor: \"inherit\",\n\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\n\t\t\t\t\t\t\t\tmarginRight: 1.5,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ApprovIcon fontSize=\"small\" />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={\"Approvisionnement\"}\n\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\tlineHeight: \"20px\",\n\t\t\t\t\t\t\t\tmb: \"2px\",\n\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\toverflow: openApprov ? 'hidden' : 'initial'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsecondaryTypographyProps={{\n\t\t\t\t\t\t\t\tnoWrap: true,\n\t\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\t\tlineHeight: \"16px\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsx={{ my: 0 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<KeyBoardArrowDownIcon\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\topacity: openApprov ? 1 : 0,\n\t\t\t\t\t\t\t\ttransform: openApprov\n\t\t\t\t\t\t\t\t\t? \"rotate(-180deg)\"\n\t\t\t\t\t\t\t\t\t: \"rotate(0)\",\n\t\t\t\t\t\t\t\ttransition: \"0.2s\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t{openApprov && (\n\t\t\t\t\t\t<Box pl={4.5}>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tto=\"approvisionnement\"\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemButton>\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tprimary=\"Nouvel approvisionnement\"\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tmb: 0\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tto=\"historique_approvisionnement\"\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemButton>\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tprimary=\"Historique\"\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tto=\"fiche_de_stock\"\n\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\t\tsx={{ py: 0, minHeight: 40, color: \"inherit\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tcolor: \"inherit\",\n\t\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\n\t\t\t\t\t\t\t\t\tmarginRight: 1.5,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListAltIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tprimary={\"Fiche de stock\"}\n\t\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tto=\"alertes\"\n\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\t\tsx={{ py: 0, minHeight: 40, color: \"inherit\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tcolor: \"inherit\",\n\t\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\n\t\t\t\t\t\t\t\t\tmarginRight: 1.5,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<NotificationImportantIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tprimary={\"Alertes\"}\n\t\t\t\t\t\t\t\tprimaryTypographyProps={{\n\t\t\t\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</menu>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport Modal from \"@mui/material/Modal\";\nimport {\n\tTypography,\n\tTextField,\n\tButton,\n\tIconButton,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { ComboBox, DateMaskInput } from \"../../../Components\";\nimport { Close } from \"@mui/icons-material\";\n\nexport default function MultipleFormApprov({ open, onClose }) {\n\treturn (\n\t\t<Modal onClose={onClose} open={open}>\n\t\t\t<form className=\"multiple-form\">\n\t\t\t\t<div className=\"form-header\">\n\t\t\t\t\t<Box\n\t\t\t\t\t\tborderBottom=\"1px solid #eaeaea\"\n\t\t\t\t\t\tmb={2}\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\talignItems=\"center\"\n                        justifyContent=\"space-between\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\tEntée des produits/marchandises en stock\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<IconButton onClick={onClose}>\n\t\t\t\t\t\t\t<Close fontSize=\"small\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Button variant=\"contained\" disableElevation type=\"submit\">\n\t\t\t\t\t\tEnregistrer\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-rows\">\n\t\t\t\t\t<div className=\"form-row rows-header\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Num\"\n\t\t\t\t\t\t\tid=\"quantite_si\"\n\t\t\t\t\t\t\tname=\"quantite_si\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 60,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"produit\"\n\t\t\t\t\t\t\tname=\"produit\"\n\t\t\t\t\t\t\tlabel=\"Produit\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsx={{ minWidth: 300 }}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"quantite\"\n\t\t\t\t\t\t\tname=\"quantite\"\n\t\t\t\t\t\t\tlabel=\"Quantité\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"cu\"\n\t\t\t\t\t\t\tname=\"cu\"\n\t\t\t\t\t\t\tlabel=\"C.U.\"\n\t\t\t\t\t\t\tplaceholder=\"C.U.\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<DateMaskInput\n\t\t\t\t\t\t\tid=\"exp\"\n\t\t\t\t\t\t\tname=\"exp\"\n\t\t\t\t\t\t\tlabel=\"Date d'expiration\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{new Array(10).fill(0).map((arr, index) => (\n\t\t\t\t\t\t<Row key={index} num={index + 1} />\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n\nconst Row = ({ setRowsHandler, num }) => {\n\t// const [produit, setProduit] = useState(\"\");\n\tconst [quantite, setQuantite] = useState(0);\n\tconst [cu, setCu] = useState(0);\n\t// const [marge, setMarge] = useState(0);\n\tconst [dateExp, setDateExp] = useState();\n\n\tconst dateExpChange = (event) => {\n\t\tsetDateExp(event.target.value);\n\t};\n\n\treturn (\n\t\t<div className=\"form-row\">\n\t\t\t<TextField\n\t\t\t\tid=\"quantite_si\"\n\t\t\t\tname=\"quantite_si\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tdefaultValue={num}\n\t\t\t\tdisabled\n\t\t\t\tinputProps={{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tsx={{\n\t\t\t\t\tminWidth: 60,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<ComboBox label={false} />\n\t\t\t<TextField\n\t\t\t\tid=\"quantite_si\"\n\t\t\t\tname=\"quantite_si\"\n\t\t\t\tplaceholder=\"Quantité stock initial\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tfullWidth\n\t\t\t\ttype=\"number\"\n\t\t\t\tvalue={quantite}\n\t\t\t\tonChange={(e) => setQuantite(e.target.value)}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tid=\"cu\"\n\t\t\t\tname=\"cu\"\n\t\t\t\tplaceholder=\"Coût unitaire du produit\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tfullWidth\n\t\t\t\ttype=\"number\"\n\t\t\t\tvalue={cu}\n\t\t\t\tonChange={(e) => setCu(e.target.value)}\n\t\t\t/>\n\t\t\t<DateMaskInput\n\t\t\t\tvalue={dateExp}\n\t\t\t\tonChange={dateExpChange}\n\t\t\t\tid=\"exp\"\n\t\t\t\tname=\"exp\"\n\t\t\t\tplaceholder=\"_ _ /_ _ /20_ _\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tfullWidth\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport {dateCompare} from '../../utilities/helpers';\n\nconst factureAchatEntity = createEntityAdapter({\n    selectId: item => item.id,\n    sortComparer: (a, b) => dateCompare(a.date_emission, b.date_emission)\n});\n\nconst initialState = factureAchatEntity.getInitialState({\n    error: null,\n    status: 'idle',\n});\n\nexport const getFacturesAchat = createAsyncThunk(\n    'facture/get all',\n    async () => {\n        const {data} = await axios.get('/api/entrees/factures');\n        return data;\n    }\n);\n\nexport const {actions, reducer} = createSlice({\n    name: 'facture_achat',\n    initialState,\n    reducers: {\n        updateteOne: (state, action) => {\n            const {id, attribute, value} = action.payload;\n            if (id) {\n                const found = state.entities[id];\n                if (!found) return;\n                found[attribute] = value;\n            }\n        }\n    },\n    extraReducers: {\n        [getFacturesAchat.pending]: (state, action) => {\n            state.status = 'loading';\n        },\n        [getFacturesAchat.fulfilled]: (state, action) => {\n            const res = action.payload;\n            if (res) {\n                factureAchatEntity.upsertMany(state, res);\n            }\n            state.status = 'fulfilled';\n        },\n        [getFacturesAchat.rejected]: (state, action) => {\n            state.status = 'failed';\n        },\n    }\n});\n\nexport const {\n    selectAll,\n    selectById\n} = factureAchatEntity.getSelectors(state => state.facturesAchat);\n\nexport const getError = state => state.facturesAchat.error;\nexport const getReqStatus = state => state.facturesAchat.status;","import React from \"react\";\nimport { Box, IconButton, Tooltip } from \"@mui/material\";\nimport { styled } from \"@mui/styles\";\nimport DownloadIcon from \"@mui/icons-material/Download\";\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\nimport { formatNumber } from \"../../../utilities/helpers\";\n\nexport default function ApprovProduitList({\n\tapprovProduits = [],\n\tnumApprov = 0,\n\tremoveProduit,\n}) {\n\treturn (\n\t\t<StyledContainer>\n\t\t\t<Box>\n\t\t\t\t<StyledHeader>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<DownloadIcon fontSize=\"small\" />\n\t\t\t\t\t\t<span>{approvProduits.length} produits</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span>N° {numApprov}</span>\n\t\t\t\t</StyledHeader>\n\t\t\t\t<StyledList>\n\t\t\t\t\t{approvProduits.map((pApprov, i) => (\n\t\t\t\t\t\t<StyledRow key={i}>\n\t\t\t\t\t\t\t<StyledCol className=\"action\">\n\t\t\t\t\t\t\t\t<Tooltip title=\"Enlever\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => removeProduit(pApprov)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</StyledCol>\n\t\t\t\t\t\t\t<StyledCol className=\"fill\">\n\t\t\t\t\t\t\t\t{pApprov.designation}\n\t\t\t\t\t\t\t</StyledCol>\n\t\t\t\t\t\t\t<StyledCol className=\"right\">\n\t\t\t\t\t\t\t\t{pApprov.quantite}\n\t\t\t\t\t\t\t</StyledCol>\n\t\t\t\t\t\t\t<StyledCol className=\"right\">\n\t\t\t\t\t\t\t\t{formatNumber(pApprov.cout_u)}\n\t\t\t\t\t\t\t</StyledCol>\n\t\t\t\t\t\t</StyledRow>\n\t\t\t\t\t))}\n\t\t\t\t</StyledList>\n\t\t\t</Box>\n\t\t</StyledContainer>\n\t);\n}\n\nconst StyledContainer = styled(\"div\")(() => ({\n\tfontFamily: [\n\t\t\"-apple-system\",\n\t\t\"BlinkMacSystemFont\",\n\t\t'\"Segoe UI\"',\n\t\t\"Roboto\",\n\t\t'\"Helvetica Neue\"',\n\t\t\"Arial\",\n\t\t\"sans-serif\",\n\t\t'\"Apple Color Emoji\"',\n\t\t'\"Segoe UI Emoji\"',\n\t\t'\"Segoe UI Symbol\"',\n\t].join(\",\"),\n\tborder: \"1px solid #d9d9d9\",\n\tborderRadius: 5,\n\tmargin: \"15px 0\",\n\toverflow: \"hidden\",\n}));\n\nconst StyledHeader = styled(\"div\")(() => ({\n\tpadding: \"8px 16px\",\n\tbackgroundColor: \"#f6f8fa\",\n\tborderTopLeftRadius: 6,\n\tborderTopRightRadius: 6,\n\tdisplay: \"flex\",\n\tjustifyContent: \"space-between\",\n\talignItems: \"center\",\n\t\"&>div\": {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\t\"&>*:first-of-type\": {\n\t\t\tmarginRight: 10,\n\t\t},\n\t},\n}));\n\nconst StyledList = styled(\"div\")(() => ({}));\n\nconst StyledCol = styled(\"div\")(() => ({\n\twidth: \"25%\",\n\tpadding: \"8px 10px\",\n\t\"&.fill\": {\n\t\twidth: \"35%\",\n\t},\n\t\"&.right\": {\n\t\ttextAlign: \"right\",\n\t},\n\t\"&.action\": {\n\t\twidth: \"15%\",\n\t\tpadding: \"0 10px\",\n\t},\n}));\n\nconst StyledRow = styled(\"div\")(({ theme }) => ({\n\tdisplay: \"flex\",\n\talignItems: \"baseline\",\n\tborderTop: \"1px solid #d0d7de\",\n}));\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst entreeEntity = createEntityAdapter({\n    selectId: item => item.id,\n})\n\nconst initialState = entreeEntity.getInitialState({\n    status: 'idle',\n    errors: null,\n    count: 0,\n    numeros: []\n});\n\n// Effectue une entrée en stock pour un seul produit\nexport const creerEntree = createAsyncThunk(\n    'entree/creer',\n    async ({produitId, data}) => {\n        const res = await axios.post(`/api/entrees/${produitId}`, data);\n        return res.data;\n    }\n    );\n    \n    // Effectue une entrée en stock pour plusieurs produits\n    export const creerEntreeMultiple = createAsyncThunk(\n        'entree/creation multiple',\n        async ({data, factureId}) => {\n            const res = await axios.post(`/api/entrees/facture/${factureId}`, data);\n            return res.data;\n        }\n    );\n\nexport const getEntreeCount = createAsyncThunk(\n    'entree/count',\n    async () => {\n        const res = await axios.get(`/api/entrees/count`);\n        return res.data;\n    }\n);\n\nexport const getEntreeNumeros = createAsyncThunk(\n    'entree/liste des numéro',\n    async () => {\n        const res = await axios.get(`/api/entrees/numeros`);\n        return res.data;\n    }\n);\n\n\nexport const {reducer, actions} = createSlice({\n    name: 'entrees',\n    initialState,\n    extraReducers: {\n        [creerEntree.pending]: (state) => {\n            state.status = 'loading';\n        },\n        [creerEntree.fulfilled]: (state, action) => {\n            if (action.payload.state === \"success\") {\n                state.status = 'fulfilled';\n                entreeEntity.upsertOne(state, action.payload.entree);\n            } else {\n                state.status = 'fulfilled';\n                state.errors = action.payload;\n            }\n        },\n        [creerEntree.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n        [creerEntreeMultiple.pending]: (state) => {\n            state.status = 'loading';\n        },\n        [creerEntreeMultiple.fulfilled]: (state, action) => {\n            if (action.payload.state === \"success\") {\n                state.status = 'fulfilled';\n                entreeEntity.addMany(state, action.payload.entrees);\n            } else {\n                state.status = 'fulfilled';\n                state.errors = action.payload;\n            }\n        },\n        [creerEntreeMultiple.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n        [getEntreeCount.pending]: (state) => {\n            state.status = 'loading';\n        },\n        [getEntreeCount.fulfilled]: (state, action) => {\n            if (action.payload) {\n                state.status = 'fulfilled';\n                if (action.payload.count) {\n                    state.count = action.payload.count;\n                }\n            } \n        },\n        [getEntreeCount.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n    }\n})\n\nexport const {\n    selectAll,\n    selectById,\n} = entreeEntity.getSelectors(state => state.entrees);\n\nexport const getReqState = state => state.entrees.status;\nexport const getErrors = state => state.entrees.errors;\nexport const getCount = state => state.entrees.count;","import React, { useState, useContext } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { Circle as CircleIcon } from \"@mui/icons-material\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport { styled } from \"@mui/material/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectAll as selectAllProduits } from \"../../../app/reducers/produit\";\nimport { ComboBox, LargeDialog, MenuPoppover } from \"../../../Components\";\nimport {\n\tCheckbox,\n\tTypography,\n\tTextField,\n\tButton,\n\tDivider,\n\tChip,\n\tFade,\n\tCircularProgress,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { formatNumber, getPrixUnitaire } from \"../../../utilities/helpers\";\nimport ApprovProduitList from \"./ApprovProduitList\";\nimport {\n\tcreerEntreeMultiple,\n\tgetReqState as getSavingState,\n} from \"../../../app/reducers/entree\";\nimport { getTaux, getDevise } from \"../../../app/reducers/config\";\nimport { actions } from \"../../../app/reducers/factureAchat\";\nimport { FeedbackContext } from \"../../../App\";\n\nexport default function SelectedFacture({\n\tfacture,\n\thandleAppendProduits,\n\thandleRemoveProduct,\n\thandleClearSelection,\n\tproduistApprovisionnes,\n\tclearSelectedFacture\n}) {\n\tconst devise = useSelector(getDevise);\n\tconst taux = useSelector(getTaux);\n\tconst produits = useSelector(selectAllProduits);\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [produitAchete, setProduitAchete] = useState(null);\n\tconst [produitApprov, setProduitApprov] = useState(null);\n\tconst open = Boolean(anchorEl);\n\tconst containerRef = React.useRef();\n\tconst dispatch = useDispatch();\n\tconst saving = useSelector(getSavingState) === \"loading\";\n\tconst { createFeedback } = useContext(FeedbackContext);\n\tconst [submitError, setSubmitError] = useState(null);\n\n\tconst handleSelectProduitApprovisionne = (value) => {\n\t\tif (!produitAchete) {\n\t\t\tsetProduitApprov(null);\n\t\t\treturn;\n\t\t}\n\t\tif (value) {\n\t\t\t// Calcul du coût unitaire et du prix unitaire de vente\n\t\t\tconst cu = getPrixUnitaire(\n\t\t\t\tproduitAchete.prix_ht,\n\t\t\t\tproduitAchete.quantite,\n\t\t\t\t\"number\"\n\t\t\t);\n\t\t\tconst pV_u = cu * (1 + value.marge / 100);\n\t\t\t// Ajout du prix de vente unitaire et de la quantité et du coût unitaire au produit à aprovisionner\n\t\t\tconst pA = {\n\t\t\t\t...value,\n\t\t\t\tpv_unitaire: pV_u,\n\t\t\t\tquantite: produitAchete.quantite,\n\t\t\t\tcout_unitaire: cu,\n\t\t\t\tid_achete: produitAchete.id,\n\t\t\t};\n\t\t\tsetProduitApprov(pA);\n\t\t} else {\n\t\t\tsetProduitApprov(value);\n\t\t}\n\t};\n\n\t// Valider les produits approvisionnés\n\t// Tous les produits de la facture doivent etre sélectionnés avant l'enregistrement\n\t// 1. Verification si les deux tableau des produits ne sont pas vide ou null\n\t// 2. Verification si tous les produits sont sélectionnés\n\tconst canSubmit = () => {\n\t\tconst pAchetes = facture.produitAchetes;\n\t\tif (\n\t\t\t!produistApprovisionnes ||\n\t\t\tproduistApprovisionnes.length < 0 ||\n\t\t\t!pAchetes ||\n\t\t\tpAchetes.length === 0\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet submit = true;\n\t\tpAchetes.forEach((p) => {\n\t\t\tif (\n\t\t\t\t!produistApprovisionnes.some((pApp) => pApp.id_achete === p.id)\n\t\t\t) {\n\t\t\t\tsubmit = false;\n\t\t\t}\n\t\t});\n\n\t\treturn submit;\n\t};\n\n\t// Fonction appelée lors de la confirmation de l'enregistrement du produit\n\t// 1. Verification de la validité des données\n\t// 2. Envoie de la requête, initialisation, et notification de l'enregistrement\n\tconst handleSubmitSelection = () => {\n\t\tconst valid = canSubmit();\n\t\tif (valid) {\n\t\t\tdispatch(\n\t\t\t\tcreerEntreeMultiple({ data: {\n\t\t\t\t\tdevise: devise,\n\t\t\t\t\tprovenance: \"facture\",\n\t\t\t\t\ttaux: taux,\n\t\t\t\t\tproduits: produistApprovisionnes,\n\t\t\t\t}, factureId: facture.id})\n\t\t\t).then(({ payload }) => {\n\t\t\t\tif (payload && payload.state === \"success\") {\n\t\t\t\t\tdispatch(actions.updateteOne({id: facture.id, attribute: 'approvisionnee', value: true}));\n\t\t\t\t\thandleClearSelection();\n\t\t\t\t\tclearSelectedFacture();\n\t\t\t\t\t// Notification \n\t\t\t\t\tcreateFeedback(\n\t\t\t\t\t\t\"Enregistrement fait avec succès !\",\n\t\t\t\t\t\t\"enregistrement-entrees-facture-multiple\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsetSubmitError(\n\t\t\t\t\"Verifiez que tous les produits de la facture sont bien sélectionnés.\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleCancelSelection = () => {\n\t\thandleClearSelection();\n\t};\n\n\tconst handleConfirm = () => {\n\t\thandleAppendProduits(produitApprov);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenDialog = (event, produit) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t\tsetProduitAchete(produit);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t\tsetProduitAchete(null);\n\t\tsetProduitApprov(null);\n\t};\n\treturn (\n\t\t<div style={{ width: \"100%\", display: \"flex\" }} ref={containerRef}>\n\t\t\t{submitError && (\n\t\t\t\t<LargeDialog\n\t\t\t\t\ttitle=\"Erreur\"\n\t\t\t\t\topen={submitError ? true : false}\n\t\t\t\t\tmessage={submitError}\n\t\t\t\t\tonClose={() => setSubmitError(null)}\n\t\t\t\t\tagreeBtnText=\"Ok\"\n\t\t\t\t\tonAgree={() => setSubmitError(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Fade in>\n\t\t\t\t<StyledFacture>\n\t\t\t\t\t<Typography variant=\"h2\">\n\t\t\t\t\t\tFacture #{facture.reference_facture}\n\t\t\t\t\t\t<span style={{ float: \"right\" }}>\n\t\t\t\t\t\t\t{new Date(facture.createdAt).toLocaleDateString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<StyledFactureHeader>\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t<span>Fournisseur : </span>\n\t\t\t\t\t\t\t<span>{facture.raison_sociale_fournisseur}</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t<span>Bon decommande : </span>\n\t\t\t\t\t\t\t<span>{facture.bon_commande || \"Non définit\"}</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t<span>Nombre produits : </span>\n\t\t\t\t\t\t\t<span>{facture.produitAchetes.length}</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t<span>Autres Frais : </span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{facture.total_charge || 0} {facture.devise}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</StyledFactureHeader>\n\t\t\t\t\t<Box height={\"calc(100vh - 265px)\"} minHeight={400}>\n\t\t\t\t\t\t<StyledRow className=\"header\" in>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<IconButton color=\"primary\">\n\t\t\t\t\t\t\t\t\t<CircleIcon\n\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\t\t\thtmlColor=\"#fff\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"fill\">\n\t\t\t\t\t\t\t\t\tProduit\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"right\">\n\t\t\t\t\t\t\t\t\tQuantité\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"right\">\n\t\t\t\t\t\t\t\t\tCoût U.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</StyledRow>\n\t\t\t\t\t\t<StyledFactureBody>\n\t\t\t\t\t\t\t{facture.produitAchetes.map((pAchete, i) => {\n\t\t\t\t\t\t\t\tconst isSelected = produistApprovisionnes.some(\n\t\t\t\t\t\t\t\t\t(pApp) => pApp.id_achete === pAchete.id\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\t\t\tkey={`${pAchete.designation}_${i}`}\n\t\t\t\t\t\t\t\t\t\tproduit={pAchete}\n\t\t\t\t\t\t\t\t\t\tonClick={handleOpenDialog}\n\t\t\t\t\t\t\t\t\t\tdevise={facture.devise}\n\t\t\t\t\t\t\t\t\t\tselected={isSelected}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</StyledFactureBody>\n\t\t\t\t\t\t{open && (\n\t\t\t\t\t\t\t<MenuPoppover\n\t\t\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\t\t\topen={open}\n\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\t\t\tvertical: \"center\",\n\t\t\t\t\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttransformOrigin={{\n\t\t\t\t\t\t\t\t\tvertical: \"center\",\n\t\t\t\t\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<StyledMenu>\n\t\t\t\t\t\t\t\t\t<Box pb={2}>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{ mb: 1, display: \"block\" }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tProduit Acheté\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tlabel={produitAchete.designation}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t<Box pt={2} pb={2}>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{ mb: 1, display: \"block\" }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tProduit Approvisionné\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\t\t\t\tvalue={produitApprov}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Produit *\"\n\t\t\t\t\t\t\t\t\t\t\tfilterSelectedOptions={true}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Produit\"\n\t\t\t\t\t\t\t\t\t\t\tsetValue={\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectProduitApprovisionne\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\toptions={produits.map((prod) => ({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: prod.designation,\n\t\t\t\t\t\t\t\t\t\t\t\t...prod,\n\t\t\t\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{ mb: 1 }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMarge:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\t\tsx={{ minWidth: 40 }}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduitApprov\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? produitApprov.marge +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \"%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Prix de vente unitaire *\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"pv\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"pv\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\tproduitApprov\n\t\t\t\t\t\t\t\t\t\t\t\t\t? formatNumber(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduitApprov.pv_unitaire\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ) + facture.devise\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Coût unitaire du produit\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\thelperText=\"Ce prix sera utilisé lors de la vente.\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={produitApprov ? false : true}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\tonClick={handleConfirm}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tConfirmer\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tsx={{ ml: 2 }}\n\t\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</StyledMenu>\n\t\t\t\t\t\t\t</MenuPoppover>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<StyledMessage>\n\t\t\t\t\t\t<InfoIcon\n\t\t\t\t\t\t\tcolor=\"info\"\n\t\t\t\t\t\t\tfontSize=\"medium\"\n\t\t\t\t\t\t\tsx={{ mr: 2 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Typography sx={{ fontSize: 14 }} variant=\"caption\">\n\t\t\t\t\t\t\tPour sélectionner un produit cliquez sa ligne dans\n\t\t\t\t\t\t\tle tableaux des produits achetés et puis choisissez\n\t\t\t\t\t\t\tle produit à approvisionner dans la boite de\n\t\t\t\t\t\t\tdialogue.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</StyledMessage>\n\t\t\t\t</StyledFacture>\n\t\t\t</Fade>\n\t\t\t<StyledProduitApprov>\n\t\t\t\t<Typography variant=\"h2\">Produits Approvisionnés</Typography>\n\t\t\t\t{produistApprovisionnes.length === 0 ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\t\t\t\t\tpt: 3,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={handleCancelSelection}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tonClick={handleSubmitSelection}\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tml: 2,\n\t\t\t\t\t\t\t\t\tminWidth: 84,\n\t\t\t\t\t\t\t\t\theight: 30.75,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{saving ? (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\"Enregistrer\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<ApprovProduitList\n\t\t\t\t\t\t\tremoveProduit={handleRemoveProduct}\n\t\t\t\t\t\t\tapprovProduits={produistApprovisionnes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</StyledProduitApprov>\n\t\t</div>\n\t);\n}\n\nconst StyledMessage = styled(\"div\")(({ theme }) => ({\n\tposition: \"absolute\",\n\tbottom: 0,\n\tleft: 0,\n\tright: 0,\n\tbackgroundColor: \"#fff\",\n\tpadding: \"10px 20px\",\n\tborderTop: \"1px solid #eaeaea\",\n\tdisplay: \"flex\",\n\talignItems: \"baseline\",\n}));\n\nconst StyledFacture = styled(\"div\")(() => ({\n\tposition: \"relative\",\n\tflex: 2,\n\twidth: \"100%\",\n\tminWidth: 400,\n\tmaxWidth: 530,\n\tpadding: \"30px 20px\",\n}));\nconst StyledFactureHeader = styled(\"div\")(({ theme }) => ({\n\tmarginBottom: 20,\n\t\"& > p\": {\n\t\tfontSize: 15,\n\t\tdisplay: \"flex\",\n\t\t\"& > span\": {\n\t\t\tflex: 1,\n\t\t},\n\t},\n}));\nconst StyledFactureBody = styled(\"div\")(() => ({\n\tborder: \"1px solid rgb(208, 215, 222)\",\n\tmaxHeight: \"calc(100% - 35px)\",\n\toverflowY: \"auto\",\n}));\nconst StyledRow = styled(Fade)(({ theme }) => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\t\"&.header\": {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.common.white,\n\t},\n\t\"&.body\": {\n\t\tcursor: \"pointer\",\n\t\ttransition: \"background .2s\",\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: \"#dbdbdb\",\n\t\t},\n\t},\n\t\"& > *\": {\n\t\tpadding: \"5px 10px\",\n\t},\n\t\"& > *:first-of-type\": {\n\t\twidth: \"10%\",\n\t},\n\t\"& > .fill\": {\n\t\twidth: \"30%\",\n\t\tflex: 1,\n\t},\n\t\"& .right\": {\n\t\twidth: \"25%\",\n\t\ttextAlign: \"right\",\n\t},\n\t\"&.body:nth-of-type(2n)\": {\n\t\tbackgroundColor: \"#eaeaea\",\n\t},\n}));\n\nconst StyledProduitApprov = styled(\"div\")(() => ({\n\tflex: 1,\n\tborderLeft: \"2px solid #eaeaea\",\n\tpadding: \"30px 15px\",\n}));\n\nconst StyledMenu = styled(\"div\")(() => ({\n\tbackgroundColor: \"#fff\",\n\tpadding: 10,\n}));\n\nconst Row = ({ produit, devise, onClick, selected }) => {\n\treturn (\n\t\t<StyledRow\n\t\t\tin\n\t\t\tclassName=\"body\"\n\t\t\tonClick={(e) => (selected ? {} : onClick(e, produit))}\n\t\t>\n\t\t\t<div>\n\t\t\t\t<Checkbox\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tchecked={selected}\n\t\t\t\t\tonChange={(e) => {}}\n\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\"aria-label\": \"select one\",\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Typography variant=\"caption\" className=\"fill\">\n\t\t\t\t\t{produit.designation}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"caption\" className=\"right\">\n\t\t\t\t\t{produit.quantite.toLocaleString(\"de-DE\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"caption\" className=\"right\">\n\t\t\t\t\t{getPrixUnitaire(produit.prix_ht, produit.quantite)}{\" \"}\n\t\t\t\t\t{devise}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</StyledRow>\n\t);\n};\n","import React, { useEffect, useState } from \"react\";\nimport Modal from \"@mui/material/Modal\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { Close as CloseIcon } from \"@mui/icons-material\";\nimport { styled } from \"@mui/material/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n\tgetFacturesAchat,\n\tgetReqStatus,\n\tselectAll,\n} from \"../../../app/reducers/factureAchat\";\nimport { Button, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport noSelectedImage from \"../../../assets/nodata.svg\";\nimport noData from \"../../../assets/void.svg\";\nimport SelectedFacture from \"./SelectedApprovFacture\";\nimport { Chargement } from \"../../../Components\";\n\nexport default function ListeFacturesAchat({ open, onClose }) {\n\tconst loading = useSelector(getReqStatus) === \"loading\";\n\tconst factures = useSelector(selectAll).filter((fA) => !fA.approvisionnee);\n\tconst [active, setActive] = useState(null);\n\tconst [produistApprovisionnes, setProduitsApprovisionnes] = useState([]);\n\n\tconst handleSelectFacture = (facture) => {\n\t\tsetActive(facture);\n\t};\n\n\tconst clearSelectedFacture = () => {\n\t\tsetActive(null);\n\t};\n\n\tconst handleSetProduitsApprovisionnes = (produit) => {\n\t\tsetProduitsApprovisionnes([...produistApprovisionnes, produit]);\n\t};\n\n\tconst handleRemoveProduct = (produit) => {\n\t\tconst prods = produistApprovisionnes.filter(\n\t\t\t(prod) => prod.id_achete !== produit.id_achete\n\t\t);\n\t\tsetProduitsApprovisionnes(prods);\n\t};\n\n\tconst handleClearSelection = () => {\n\t\tsetProduitsApprovisionnes([]);\n\t};\n\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tdispatch(getFacturesAchat());\n\t}, [dispatch]);\n\treturn (\n\t\t<Modal open={open} onClose={onClose}>\n\t\t\t<StyledContainer>\n\t\t\t\t{factures.length === 0 ? (\n\t\t\t\t\t<StyledNoContent>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\talignSelf={\"center\"}\n\t\t\t\t\t\t\tjustifySelf={\"center\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant=\"h1\" sx={{ mb: 7, fontSize: 22 }}>\n\t\t\t\t\t\t\t\tFactures d'achat non approvisionnée\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<img style={{height: 100, width: 'auto'}} src={noData} alt=\"Aucune facture\" />\n\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ mt: 2 }}>\n\t\t\t\t\t\t\t\tAucune facture d'achat non approvisionnée\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\tsx={{ mt: 4 }}\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tFermer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</StyledNoContent>\n\t\t\t\t) : (\n\t\t\t\t\t<StyledContentContainer>\n\t\t\t\t\t\t<StyledAside>\n\t\t\t\t\t\t\t<StyledHorizontal\n\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\t\tpl={2.5}\n\t\t\t\t\t\t\t\tpr={1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant=\"h2\">\n\t\t\t\t\t\t\t\t\tFactures d'achat non approvisionnée\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<IconButton onClick={onClose}>\n\t\t\t\t\t\t\t\t\t<CloseIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</StyledHorizontal>\n\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t<Chargement\n\t\t\t\t\t\t\t\t\tmessage=\"Chargement...\"\n\t\t\t\t\t\t\t\t\tsx={{ height: \"70%\" }}\n\t\t\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<StyledList>\n\t\t\t\t\t\t\t\t\t{factures.map((facture, index) => (\n\t\t\t\t\t\t\t\t\t\t<FactureCard\n\t\t\t\t\t\t\t\t\t\t\tonSelect={handleSelectFacture}\n\t\t\t\t\t\t\t\t\t\t\tkey={`${facture.reference_facture}_${index}`}\n\t\t\t\t\t\t\t\t\t\t\tfacture={facture}\n\t\t\t\t\t\t\t\t\t\t\tactiveId={active && active.id}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</StyledList>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledAside>\n\t\t\t\t\t\t<StyledDisplaySelected\n\t\t\t\t\t\t\tclassName={active ? \"active\" : \"\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!active ? (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={130}\n\t\t\t\t\t\t\t\t\talignSelf={\"center\"}\n\t\t\t\t\t\t\t\t\tjustifySelf={\"center\"}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={noSelectedImage}\n\t\t\t\t\t\t\t\t\t\talt=\"Aucune Selection\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\tsx={{ mt: 2 }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSélectionnez une facture !\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SelectedFacture\n\t\t\t\t\t\t\t\t\tfacture={active}\n\t\t\t\t\t\t\t\t\tproduistApprovisionnes={\n\t\t\t\t\t\t\t\t\t\tproduistApprovisionnes\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thandleClearSelection={handleClearSelection}\n\t\t\t\t\t\t\t\t\thandleRemoveProduct={handleRemoveProduct}\n\t\t\t\t\t\t\t\t\tclearSelectedFacture={clearSelectedFacture}\n\t\t\t\t\t\t\t\t\thandleAppendProduits={\n\t\t\t\t\t\t\t\t\t\thandleSetProduitsApprovisionnes\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledDisplaySelected>\n\t\t\t\t\t</StyledContentContainer>\n\t\t\t\t)}\n\t\t\t</StyledContainer>\n\t\t</Modal>\n\t);\n}\n\nconst FactureCard = ({ facture, activeId, onSelect }) => {\n\treturn (\n\t\t<StyledFactureCard\n\t\t\tclassName={activeId === facture.id ? \"active\" : \"\"}\n\t\t\tonClick={() => onSelect(facture)}\n\t\t>\n\t\t\t<span className=\"activeBar\" />\n\t\t\t<Typography\n\t\t\t\tsx={{\n\t\t\t\t\tfontWeight: \"600\",\n\t\t\t\t\tfontSize: 15,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<span>Facture : </span>\n\t\t\t\t<span>\n\t\t\t\t\t{facture.reference_facture} {facture.sigle_fournisseur}\n\t\t\t\t</span>\n\t\t\t</Typography>\n\t\t\t<Typography\n\t\t\t\tvariant=\"body2\"\n\t\t\t\tsx={{\n\t\t\t\t\tfontSize: 14,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<span>Qunatité : {facture.quantite_total}</span>\n\t\t\t</Typography>\n\t\t\t<Typography\n\t\t\t\tvariant=\"caption\"\n\t\t\t\tcolor=\"GrayText\"\n\t\t\t\tsx={{\n\t\t\t\t\tfontSize: 12,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{facture.produitAchetes.map((pA) => (\n\t\t\t\t\t<span key={pA.designation}>\n\t\t\t\t\t\t{pA.quantite} {pA.designation},{\" \"}\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t</Typography>\n\t\t</StyledFactureCard>\n\t);\n};\n\nconst StyledContainer = styled(\"div\")(() => ({\n\t// height: '100vh',\n\twidth: \"100%\",\n\tbackgroundColor: \"#faf8ff\",\n\toverflowY: \"auto\",\n\tdisplay: \"flex\",\n\tflexDirection: \"column\",\n\theight: \"100%\",\n\tflex: \"1 0 auto\",\n\tzIndex: 1200,\n\tposition: \"fixed\",\n\ttop: 0,\n\toutline: \"currentcolor none 0px\",\n\tleft: 0,\n\tcolor: \"#444\",\n}));\nconst StyledHorizontal = styled(Box)(() => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n}));\nconst StyledContentContainer = styled(\"div\")(() => ({\n\tdisplay: \"flex\",\n}));\nconst StyledAside = styled(Box)(() => ({\n\t// borderBottom: \"1px solid #eaeaea\",\n\twidth: \"300px\",\n\tpadding: \"15px 0 15px 20px\",\n\tbackgroundColor: \"#f0f0f0\",\n\theight: \"100vh\",\n\toverflowY: \"auto\",\n}));\nconst StyledList = styled(\"div\")(() => ({\n\tmarginTop: 10,\n}));\n\nconst StyledDisplaySelected = styled(\"div\")(() => ({\n\tmaxWidth: 1200,\n\tflex: 1,\n\tdisplay: \"flex\",\n\t\"&.active\": {\n\t\tboxShadow: \"-2px 0px 5px #2020200f\",\n\t},\n}));\nconst StyledNoContent = styled(\"div\")(() => ({\n\twidth: \"100%\",\n\theight: \"100%\",\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\tjustifyContent: \"center\",\n}));\nconst StyledFactureCard = styled(\"div\")(({ theme }) => ({\n\tpadding: \"5px 10px 5px 25px\",\n\tmarginBottom: 10,\n\tborderRadius: 5,\n\tbackgroundColor: \"#bbbbbb45\",\n\tmarginRight: 20,\n\tcursor: \"pointer\",\n\ttransition: \"background .1s\",\n\tposition: \"relative\",\n\toverflow: \"hidden\",\n\t\"& > p\": {\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t\tdisplay: \"block\",\n\t},\n\t\"& > span\": {\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t\tdisplay: \"block\",\n\t},\n\t\"&:hover\": {\n\t\tbackgroundColor: \"#faf8ff\",\n\t},\n\t\"&.active\": {\n\t\tbackgroundColor: \"#faf8ff\",\n\t\tmarginRight: 0,\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t\tboxShadow:\n\t\t\t\"-1px 0px 0px rgba(0, 0, 0, 0.12),-1px 0px 0px rgba(0,0,0,0.14),-5px 0px 5px rgba(0,0,0,0.12)\",\n\t},\n\t\"&.active > .activeBar\": {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tbottom: 0,\n\t\tleft: 0,\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\twidth: 5,\n\t},\n}));\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n\tTypography,\n\tFormControl,\n\tRadioGroup,\n\tTextField,\n\tButton,\n\tuseTheme,\n\tAlert,\n\tCircularProgress,\n} from \"@mui/material\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport HistoriqueIcon from \"@mui/icons-material/History\";\nimport { ComboBox, DateMaskInput, InputRadio, TauxDevise } from \"../../../Components\";\nimport MultipleFormApprov from \"./MultipleFormApprov\";\nimport ListeFacturesAchat from \"./ListeFacturesAchat\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n\tgetProduits,\n\tselectAll as selectAllProduits,\n} from \"../../../app/reducers/produit\";\nimport { creerEntree } from \"../../../app/reducers/entree\";\nimport { validerEntree } from \"../utilities/validators/produit\";\nimport { Box } from \"@mui/system\";\nimport {FeedbackContext} from '../../../App';\nimport {getTaux, getDevise} from '../../../app/reducers/config';\n\nexport default function FormApprovisionnement() {\n\tconst taux = useSelector(getTaux);\n\tconst devise = useSelector(getDevise);\n\tconst {createFeedback} = useContext(FeedbackContext);\n\tconst produits = useSelector(selectAllProduits);\n\tconst [provenance, setProvenance] = useState(\"interne\");\n\tconst [produit, setProduit] = useState(null);\n\tconst [quantite, setQuantite] = useState(\"\");\n\tconst [cu, setCu] = useState(\"\");\n\tconst [marge, setMarge] = useState(0);\n\tconst [dateExp, setDateExp] = useState();\n\tconst [licence, setLicence] = useState(\"\");\n\tconst [openFactureList, setOpenFactureList] = useState(false);\n\tconst [multiple, setMultiple] = useState(false);\n\tconst [errors, setErrors] = useState({});\n\tconst [defaultValueErrors, setDefaultValueErrors] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [pv, setPv] = useState(\"\");\n\tconst numEntree = \"\";\n\tconst theme = useTheme();\n\tconst dispatch = useDispatch();\n\n\tconst dateExpChange = (event) => {\n\t\tsetDateExp(event.target.value);\n\t};\n\n\tconst initAll = useCallback(() => {\n\t\tsetProduit(null);\n\t\tsetQuantite(\"\");\n\t\tsetCu(\"\");\n\t\tsetMarge(\"\");\n\t\tsetPv(\"\");\n\t\tsetErrors({});\n\t\tsetDefaultValueErrors([]);\n\t}, []);\n\n\tconst handleChangeCU = (e) => {\n\t\tlet val = e.target.value;\n\t\tsetCu(val);\n\t\tval = +val;\n\t\tif (val) {\n\t\t\tsetPv(Math.floor(val * (1 + produit.marge / 100)));\n\t\t} else {\n\t\t\tsetPv(\"\");\n\t\t}\n\t};\n\n\tconst toggleFactureList = () => {\n\t\tsetOpenFactureList(!openFactureList);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = {\n\t\t\tdate_exp: dateExp,\n\t\t\tnum_entree: numEntree,\n\t\t\tquantite: +quantite,\n\t\t\tcout_unitaire: +cu,\n\t\t\tpv_unitaire: pv,\n\t\t\ttaux: +taux,\n\t\t\tdevise,\n\t\t\tprovenance,\n\t\t\tlicence_url: licence,\n\t\t};\n\n\t\tconst { errors, defaultValueErrors, valid } = validerEntree({\n\t\t\t...data,\n\t\t\tproduit,\n\t\t});\n\n\t\tif (!valid) {\n\t\t\tsetErrors(errors);\n\t\t\tsetDefaultValueErrors(defaultValueErrors);\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\n\t\tdispatch(\n\t\t\tcreerEntree({\n\t\t\t\tproduitId: produit.id,\n\t\t\t\tdata,\n\t\t\t})\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.payload) {\n\t\t\t\t\tif (res.payload.state === \"success\") {\n\t\t\t\t\t\tinitAll();\n\t\t\t\t\t\tcreateFeedback(\n\t\t\t\t\t\t\t\"Enregistrement fait avec succès !\",\n\t\t\t\t\t\t\t\"enregistrement-entrees\",\n\t\t\t\t\t\t\t\"success\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.finally(() => setLoading(false));\n\t};\n\n\tconst toggleMultiple = useCallback(() => {\n\t\tsetMultiple(!multiple);\n\t}, [multiple]);\n\n\tconst handleChangeProduit = useCallback((newValue) => {\n\t\tsetProduit(newValue);\n\t\tif (newValue) {\n\t\t\tsetMarge(newValue.marge);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (produits.length === 0) {\n\t\t\tdispatch(getProduits());\n\t\t}\n\t}, [dispatch, produits]);\n\treturn (\n\t\t<form className=\"form-approv\" onSubmit={handleSubmit}>\n\t\t\t<header>\n\t\t\t\t<Typography className=\"module-title\">\n\t\t\t\t\tApprovisionnement{\" \"}\n\t\t\t\t\t<span className=\"small\">\n\t\t\t\t\t\t>> Entrée des produits en stock\n\t\t\t\t\t</span>\n\t\t\t\t</Typography>\n\t\t\t\t<Link to=\"/stock/historique_approvisionnement\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\tstartIcon={<HistoriqueIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tVoir l'historique des entrées\n\t\t\t\t\t</Button>\n\t\t\t\t</Link>\n\t\t\t</header>\n\t\t\t{multiple && (\n\t\t\t\t<MultipleFormApprov open={multiple} onClose={toggleMultiple} />\n\t\t\t)}\n\t\t\t{openFactureList && (\n\t\t\t\t<ListeFacturesAchat\n\t\t\t\t\topen={openFactureList}\n\t\t\t\t\tonClose={toggleFactureList}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<div className=\"form-body horizontal-align\">\n\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t{defaultValueErrors.length > 0 && (\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\tsx={{ fontSize: 13 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{defaultValueErrors.map((error, i) => (\n\t\t\t\t\t\t\t\t<span key={i}>\n\t\t\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\tProvenance\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"caption\" className=\"small helper-text\">\n\t\t\t\t\t\tSpécifiez la provenance des produits/articles\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tcomponent=\"fieldset\"\n\t\t\t\t\t\tstyle={{ display: \"block\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\taria-label=\"provenance\"\n\t\t\t\t\t\t\tname=\"provenance des produits ou marchandises\"\n\t\t\t\t\t\t\tvalue={provenance}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\tsetProvenance(event.target.value)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{ margin: theme.spacing(0, 0, 1.5, 0) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputRadio\n\t\t\t\t\t\t\t\t\tvalue=\"licence\"\n\t\t\t\t\t\t\t\t\tlabel=\"A partir d'une licence d'importation\"\n\t\t\t\t\t\t\t\t\tsx={{ fontSize: 15 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\thtmlFor=\"licence\"\n\t\t\t\t\t\t\t\t\tclassName={`file-input decale-20 ${\n\t\t\t\t\t\t\t\t\t\tprovenance !== \"licence\" && \"disabled\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tdisabled={provenance !== \"licence\"}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"licence\"\n\t\t\t\t\t\t\t\t\t\tname=\"licence\"\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\tdisabled={provenance !== \"licence\"}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tvisibility: \"hidden\",\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"none\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tShoisir un fichier\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{ margin: theme.spacing(0, 0, 1.5, 0) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputRadio\n\t\t\t\t\t\t\t\t\tvalue=\"facture\"\n\t\t\t\t\t\t\t\t\tlabel=\"A partir d'une facture d'achat\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\tclassName=\"decale-20\"\n\t\t\t\t\t\t\t\t\tdisabled={provenance !== \"facture\"}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\t\t\tmt: 1,\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={toggleFactureList}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSélectionnez la facture\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<InputRadio\n\t\t\t\t\t\t\t\tvalue=\"interne\"\n\t\t\t\t\t\t\t\tlabel=\"Productions internes\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<TauxDevise />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"baseline\" mb={2}>\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\" sx={{mb: '0!important'}}>\n\t\t\t\t\t\t\tProduits/Articles <span className=\"small helper-text\">>> Production interne</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Link to=\"/stock/nouveau_produit\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNouveau produit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\t\n\t\t\t\t\t</Box>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"horizontal-align\"\n\t\t\t\t\t\t\tstyle={{ marginBottom: 15 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\tvalue={produit}\n\t\t\t\t\t\t\t\tplaceholder=\"Produit\"\n\t\t\t\t\t\t\t\tfilterSelectedOptions={true}\n\t\t\t\t\t\t\t\tlabel=\"Produit\"\n\t\t\t\t\t\t\t\tsetValue={handleChangeProduit}\n\t\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\n\t\t\t\t\t\t\t\toptions={produits.map((prod) => ({\n\t\t\t\t\t\t\t\t\tid: prod.id,\n\t\t\t\t\t\t\t\t\tlabel: prod.designation,\n\t\t\t\t\t\t\t\t\tmarge: prod.marge,\n\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\terror={errors.produit ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.produit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Marge *\"\n\t\t\t\t\t\t\t\tid=\"marge\"\n\t\t\t\t\t\t\t\tname=\"marge\"\n\t\t\t\t\t\t\t\tplaceholder=\"Marge de bénéfice sur une unité\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: 100 }}\n\t\t\t\t\t\t\t\tvalue={`${marge}%`}\n\t\t\t\t\t\t\t\tonChange={(e) => setMarge(e.target.value)}\n\t\t\t\t\t\t\t\terror={errors.marge ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.marge}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"horizontal-align\"\n\t\t\t\t\t\t\tstyle={{ marginBottom: 15 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Quantité *\"\n\t\t\t\t\t\t\t\tid=\"quantite_si\"\n\t\t\t\t\t\t\t\tname=\"quantite_si\"\n\t\t\t\t\t\t\t\tplaceholder=\"Quantité stock initial\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={quantite}\n\t\t\t\t\t\t\t\tonChange={(e) => setQuantite(e.target.value)}\n\t\t\t\t\t\t\t\terror={errors.quantite ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.quantite}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Coût unitaire *\"\n\t\t\t\t\t\t\t\tid=\"cu\"\n\t\t\t\t\t\t\t\tname=\"cu\"\n\t\t\t\t\t\t\t\tplaceholder=\"Coût unitaire du produit\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tdisabled={!produit}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={cu}\n\t\t\t\t\t\t\t\tonChange={handleChangeCU}\n\t\t\t\t\t\t\t\terror={errors.cu ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.cu}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"horizontal-align\"\n\t\t\t\t\t\t\tstyle={{ marginBottom: 15 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Prix de vente unitaire *\"\n\t\t\t\t\t\t\t\tid=\"pv\"\n\t\t\t\t\t\t\t\tname=\"pv\"\n\t\t\t\t\t\t\t\tplaceholder=\"Coût unitaire du produit\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisabled={!produit}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={pv}\n\t\t\t\t\t\t\t\tonChange={(e) => setPv(e.target.value)}\n\t\t\t\t\t\t\t\terror={errors.pv ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.pv}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<DateMaskInput\n\t\t\t\t\t\t\t\tlabel=\"Date d'expiration\"\n\t\t\t\t\t\t\t\tvalue={dateExp}\n\t\t\t\t\t\t\t\tonChange={dateExpChange}\n\t\t\t\t\t\t\t\tid=\"exp\"\n\t\t\t\t\t\t\t\tname=\"exp\"\n\t\t\t\t\t\t\t\tdisabled={!produit}\n\t\t\t\t\t\t\t\tplaceholder=\"jj/mm/aaaa\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\terror={errors.dateExp ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.dateExp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-actions\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 113.19,\n\t\t\t\t\t\t\t\theight: 36.5,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Enregistrer\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tsx={{ ml: 1 }}\n\t\t\t\t\t\t\tonClick={toggleMultiple}\n\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEnregistrement multiple\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ marginTop: 15 }}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tmarginBottom: 1.5,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InfoIcon\n\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\tstyle={{ marginRight: 5 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"small\">\n\t\t\t\t\t\t\t\tUtilisez la touche tabulation pour passer de\n\t\t\t\t\t\t\t\tchamps à champs.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Typography variant=\"caption\" className=\"small\">\n\t\t\t\t\t\t\t(*) veut dire que le champs est réquis.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n","import * as React from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell, { tableCellClasses } from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { useTheme } from \"@mui/material\";\nimport {useSelector} from 'react-redux';\nimport {selectAll as selectEntrees} from '../../../app/reducers/entree';\n\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\n\t[`&.${tableCellClasses.head}`]: {\n\t\tbackgroundColor: '#307ecc',\n\t\tcolor: theme.palette.common.white,\n\t\tfontSize: 15,\n\t\tpadding: \"7px 10px\"\n\t},\n\t[`&.${tableCellClasses.body}`]: {\n\t\tfontSize: 14,\n\t\tpadding: \"7px 10px\"\n\t},\n}));\n\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\n\t\"&:nth-of-type(odd)\": {\n\t\tbackgroundColor: theme.palette.action.hover,\n\t},\n\t// hide last border\n\t\"&:last-child td, &:last-child th\": {\n\t\tborder: 0,\n\t},\n}));\n\nexport default function ApprovisionnementTableau() {\n\tconst theme = useTheme();\n\tconst donnees = useSelector(selectEntrees);\n\treturn (\n\t\t<TableContainer\n\t\t\tcomponent={Paper}\n\t\t\tstyle={{\n\t\t\t\tboxShadow:\n\t\t\t\t\t\"rgb(0 0 0 / 20%) 0px 1px 3px -2px, rgb(0 0 0 / 14%) 0px 1px 2px 0px, rgb(213 213 213 / 12%) 0px -1px 1px 0px\",\n\t\t\t}}\n\t\t>\n\t\t\t<Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\"aria-label\": \"select all desserts\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\">N°</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell>entree/marchandises</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell>Code</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell>Nature</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\tQuantité\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\tC.U.\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\">C.T.</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{donnees &&\n\t\t\t\t\t\tdonnees.map((entree, i) => (\n\t\t\t\t\t\t\t<StyledTableRow key={entree.id}>\n\t\t\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\"aria-label\": \"select all desserts\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{i + 1}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.primary.main,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{entree.produit.designation}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t{entree.produit.code_produit}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t{entree.produit.unite}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\t\talign=\"right\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{entree.quantite_entree}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{entree.cout_unitaire}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{parseFloat(entree.cout_unitaire) * parseFloat(entree.quantite_entree)}\n\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t<StyledTableRow style={{ height: 35 }}>\n\t\t\t\t\t\t<StyledTableCell align=\"left\"></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\n\t\t\t\t\t</StyledTableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n}\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst stockEntity = createEntityAdapter({\n    selectId: item => item.id,\n})\n\nconst initialState = stockEntity.getInitialState({\n    status: 'idle',\n    errors: null,\n    currentStock: null,\n    stockPrincipal: null\n});\n\nexport const getStocks = createAsyncThunk(\n    'stocks/get-for-entreprise',\n    async (eseId) => {\n        const res = await axios.get('/api/stock/' + eseId);\n        return res.data;\n    }\n);\n\nexport const getOneStock = createAsyncThunk(\n    'stocks/get-one',\n    async (eseId, stockId) => {\n        const res = await axios.get('/api/stock/' + eseId + '/' + stockId);\n        return res.data;\n    }\n);\n\nexport const creerStock = createAsyncThunk(\n    'stocks/creer',\n    async ({eseId, data}) => {\n        const res = await axios.post('/api/stock/' + eseId, data);\n        return res.data;\n    }\n);\n\n\nexport const {reducer, actions} = createSlice({\n    name: 'stock',\n    initialState,\n    reducers: {\n        ajouterProduit: (state, action) => {\n            const produit = action.payload;\n            state.produits = [...state.produits, {id: state.produits.length + 1, ...produit}];\n        }\n    },\n    extraReducers: {\n        [getStocks.pending]: (state) => {\n            state.status = 'loading';\n        },\n        [getStocks.fulfilled]: (state, action) => {\n            state.status = 'fulfilled';\n            stockEntity.upsertMany(state, action.payload);\n            const sP = action.payload.find(stock => stock.num_stock === '1');\n            state.stockPrincipal = sP;\n        },\n        [getStocks.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n        \n        [getOneStock.pending]: (state, action) => {\n            state.status = 'loading';\n        },\n        [getOneStock.fulfilled]: (state, action) => {\n            state.status = 'fulfilled';\n            state.currentStock = action.payload;\n        },\n        [getOneStock.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n        [creerStock.pending]: (state) => {\n            state.status = 'loading';\n        },\n\n        [creerStock.fulfilled]: (state, action) => {\n            if (action.payload.state === \"success\") {\n                state.status = 'fulfilled';\n                stockEntity.upsertOne(state, action.payload.stock);\n            } else {\n                state.status = 'fulfilled';\n                state.errors = action.payload;\n            }\n        },\n        [creerStock.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n    }\n})\n\nexport const {\n    selectAll,\n    selectById,\n} = stockEntity.getSelectors(state => state.stocks);\n\nexport const getReqState = state => state.stocks.status;\nexport const getErrors = state => state.stocks.errors;\nexport const getStockPrincipal = state => state.stocks.stockPrincipal;","import React, {useEffect} from \"react\";\nimport { Box } from \"@mui/material\";\nimport FormApprovisionnement from \"../components/FormApprovisionnement\";\nimport ApprovisionnementTableau from \"../components/TableApprovisionnement\";\nimport {getEntreeNumeros} from \"../../../app/reducers/entree\";\nimport {getStockPrincipal} from '../../../app/reducers/stock';\nimport {useSelector, useDispatch} from 'react-redux';\n\nexport default function Approvisionnement() {\n\tconst stock = useSelector(getStockPrincipal);\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tif (stock) {\n\t\t\tdispatch(getEntreeNumeros());\n\t\t}\n\t}, [dispatch, stock]);\n\treturn (\n\t\t<div className=\"approv-container\">\n\t\t\t<FormApprovisionnement />\n\t\t\t<Box mt={2} p=\"0 10px\">\n\t\t\t\t<ApprovisionnementTableau />\n\t\t\t</Box>\n\t\t</div>\n\t);\n}\n","import * as React from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport { styled } from \"@mui/styles\";\nimport {Link} from 'react-router-dom';\n\nconst columns = [\n\t{ id: \"date\", label: \"Date\", minWidth: 80 },\n\t{ id: \"ref\", label: \"Référence\", minWidth: 80, link: true, path: \"#\" },\n\t{ id: \"libele\", label: \"Libelé\", minWidth: 150 },\n\t{\n\t\tid: \"qte\",\n\t\tlabel: \"Qté\",\n\t\tminWidth: 80,\n\t\talign: \"right\",\n\t\tformat: (value) => value.toLocaleString(\"en-US\"),\n\t},\n\t{\n\t\tid: \"pue\",\n\t\tlabel: \"C.U.\",\n\t\tminWidth: 100,\n\t\talign: \"right\",\n\t\tformat: (value) => value.toLocaleString(\"en-US\"),\n\t},\n\t{\n\t\tid: \"pte\",\n\t\tlabel: \"Montant\",\n\t\tminWidth: 100,\n\t\talign: \"right\",\n\t\tformat: (value) => value.toFixed(2),\n\t},\n\t{\n\t\tid: \"qts\",\n\t\tlabel: \"Qté\",\n\t\tminWidth: 80,\n\t\talign: \"right\",\n\t\tformat: (value) => value.toLocaleString(\"en-US\"),\n\t},\n\t{\n\t\tid: \"pus\",\n\t\tlabel: \"P.U.\",\n\t\tminWidth: 100,\n\t\talign: \"right\",\n\t\tformat: (value) => value.toLocaleString(\"en-US\"),\n\t},\n\t{\n\t\tid: \"pts\",\n\t\tlabel: \"Montant\",\n\t\tminWidth: 100,\n\t\talign: \"right\",\n\t\tformat: (value) => value.toFixed(2),\n\t},\n];\n\nfunction createData(date, ref, libele, entree, sortie) {\n\tif (entree) {\n\t\treturn {\n\t\t\tdate, \n\t\t\tref,\n\t\t\tlibele, \n\t\t\tqte: entree.quantite_entree,\n\t\t\tpue: entree.cout_unitaire, \n\t\t\tpte: entree.quantite_entree * entree.cout_unitaire, \n\t\t\tqts: \"\", \n\t\t\tpus: \"\", \n\t\t\tpts: \"\"\n\t\t}\n\t} else if (sortie) {\n\t\treturn { \n\t\t\tdate, \n\t\t\tref,\n\t\t\tlibele, \n\t\t\tqte: \"\", \n\t\t\tpue: \"\", \n\t\t\tpte: \"\", \n\t\t\tqts: sortie.quantite_sortie, \n\t\t\tpus: sortie.prix_unitaire, \n\t\t\tpts: sortie.prix_unitaire * sortie.quantite_sortie\n\t\t};\n\t}\n}\n\nconst getNature = row => row.num_entree ? 'Entrée' : \"Sortie\"\n\nexport default function ColumnGroupingTable({data}) {\n\tconst [page, setPage] = React.useState(0);\n\tconst [rowsPerPage, setRowsPerPage] = React.useState(12);\n\n\tconst rows = data.map(d => {\n\t\tconst nature = getNature(d);\n\t\treturn createData(\n\t\t\t(new Date(d.createdAt)).toLocaleDateString(),\n\t\t\tnature === 'Entrée' ? d.reference_bon_entree : d.reference_facture,\n\t\t\tnature + \" \" + d['produit.designation'],\n\t\t\tnature === 'Entrée' && d,\n\t\t\tnature === 'Sortie' && d\n\t\t);\n\t});\n\n\treturn (\n\t\t<StyledContainer>\n\t\t\t<Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell className=\"bl\" align=\"center\" colSpan={3} />\n\t\t\t\t\t\t<StyledTableCell className=\"bl\" align=\"center\" colSpan={3}>\n\t\t\t\t\t\t\tEntrées\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\" colSpan={3}>\n\t\t\t\t\t\t\tSorties\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t{columns.map((column) => (\n\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t\t\t\talign={column.align}\n\t\t\t\t\t\t\t\tstyle={{ minWidth: column.minWidth }}\n                                className=\"bl\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{rows\n\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\tpage * rowsPerPage,\n\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.map((row, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\tkey={i + \"_\" +row.date}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{columns.map((column) => {\n\t\t\t\t\t\t\t\t\t\tconst value = row[column.id];\n\t\t\t\t\t\t\t\t\t\tif (column.link) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\talign={column.align}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bl\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={column.path + value}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{column.format &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof value === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? column.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell\n\t\t\t\t\t\t\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t\t\t\t\t\t\t\talign={column.align}\n                                                className=\"bl\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.format &&\n\t\t\t\t\t\t\t\t\t\t\t\ttypeof value === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? column.format(value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: value}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</StyledContainer>\n\t);\n}\n\nconst StyledContainer = styled(\"div\")(() => ({\n\tmarginTop: 10,\n\twidth: \"100%\",\n\tborder: \"1px solid #eaeaea\",\n\tborderRadius: 5,\n    overflow: 'hidden',\n    overflowX: 'auto',\n}));\n\nconst StyledTableCell = styled(TableCell)(({theme}) => ({\n    fontSize: 14,\n    \"&.bl:not(:last-child)\": {\n        borderRight: \"1px solid #eaeaea\",\n    },\n\t\"& > a\": {\n\t\tcolor: theme.palette.primary.main,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: 'underline'\n\t\t}\n\t}\n}));\n","import React, { PureComponent } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\nconst data = [\n  {\n    name: 'L',\n    uv: 4000,\n    pv: 2400,\n    amt: 2400,\n  },\n  {\n    name: 'M',\n    uv: 3000,\n    pv: 1398,\n    amt: 2210,\n  },\n  {\n    name: 'Me',\n    uv: 2000,\n    pv: 9800,\n    amt: 2290,\n  },\n  {\n    name: 'J',\n    uv: 2780,\n    pv: 3908,\n    amt: 2000,\n  },\n  {\n    name: 'V',\n    uv: 1890,\n    pv: 4800,\n    amt: 2181,\n  },\n  {\n    name: 'S',\n    uv: 2390,\n    pv: 3800,\n    amt: 2500,\n  },\n  {\n    name: 'D',\n    uv: 3490,\n    pv: 4300,\n    amt: 2100,\n  },\n];\n\nexport default class FicheStockChart extends PureComponent {\n  static demoUrl = 'https://codesandbox.io/s/simple-line-chart-kec3v';\n\n  render() {\n    return (\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          width={500}\n          height={100}\n          data={data}\n          margin={{\n            top: 5,\n            right: 30,\n            left: 20,\n            bottom: 5,\n          }}\n        >\n          {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\n          <XAxis dataKey=\"name\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Line type=\"monotone\" dataKey=\"pv\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n          <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\n        </LineChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst ficheStockEntity = createEntityAdapter({\n    selectId: item => item.id,\n});\n\nconst initialState = ficheStockEntity.getInitialState({\n    status: 'idle',\n    errors: null,\n    nombreEntrees: 0,\n    nombreSorties: 0\n});\n\nexport const getFicheStockInitData = createAsyncThunk(\n    'fiche-stocks/get-initial-data',\n    async () => {\n        const res = await axios.get('/api/fiche_stocks');\n        return res.data;\n    }\n);\n\nexport const getFicheStockData = createAsyncThunk(\n    'fiche-stocks/get-fiche-stocks-data',\n    async () => {\n        const res = await axios.get('/api/fiche_stocks/mouvement');\n        return res.data;\n    }\n);\n\nexport const {reducer, actions} = createSlice({\n    name: 'fiche_stock',\n    initialState,\n    reducers: {\n        ajouterMovementSock: (state, action) => {\n            const data = action.payload;\n            if (data instanceof Array) {\n                ficheStockEntity.upsertMany(data);\n            }\n        }\n    },\n    extraReducers: {\n        [getFicheStockInitData.pending]: (state) => {\n            state.status = 'loading';\n        },\n        [getFicheStockInitData.fulfilled]: (state, action) => {\n            const data = action.payload;\n            state.status = 'fulfilled';\n            state.nombreEntrees = data.entrees;\n            state.nombreSorties = data.sorties;\n        },\n        [getFicheStockInitData.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n        [getFicheStockData.pending]: (state) => {\n            state.status = 'loading';\n        },\n        [getFicheStockData.fulfilled]: (state, action) => {\n            state.status = 'fulfilled';\n            ficheStockEntity.upsertMany(state, action.payload);\n        },\n        [getFicheStockData.rejected]: (state, action) => {\n            state.status = 'failed';\n            state.errors = action.payload;\n        },\n    }\n})\n\nexport const {\n    selectAll,\n    selectById,\n} = ficheStockEntity.getSelectors(state => state.ficheStocks);\n\nexport const getReqState = state => state.ficheStocks.status;\nexport const getErrors = state => state.ficheStocks.errors;\nexport const getNombreEntrees = state => state.ficheStocks.nombreEntrees;\nexport const getNombreSorties = state => state.ficheStocks.nombreSorties;","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Typography, Popover, CircularProgress } from \"@mui/material\";\nimport TableFicheStock from \"../components/TableFicheStock\";\nimport RadioButtonCheckedIcon from \"@mui/icons-material/RadioButtonChecked\";\nimport SortieIcon from \"@mui/icons-material/CallMade\";\nimport EntreeIcon from \"@mui/icons-material/Download\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport FicheStockChart from \"../components/FicheStockChart\";\nimport { styled } from \"@mui/styles\";\nimport {\n\tgetFicheStockData,\n\tselectAll,\n\tgetFicheStockInitData,\n\tgetNombreEntrees,\n\tgetNombreSorties,\n} from \"../../../app/reducers/ficheStock\";\nimport { selectAll as selectAllProduit, getProduits, getReqState } from \"../../../app/reducers/produit\";\nimport { Box } from \"@mui/system\";\nimport { CustomisedChekbox as Checkbox, ComboBox, MonthYearPeaker } from \"../../../Components\";\n\nexport default function FicheStock() {\n\tconst ficheData = useSelector(selectAll);\n\tconst nbreEntrees = useSelector(getNombreEntrees);\n\tconst nbreSorties = useSelector(getNombreSorties);\n\n\tconsole.log(nbreEntrees, nbreSorties);\n\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tdispatch(getFicheStockInitData());\n\t}, [dispatch]);\n\tuseEffect(() => {\n\t\tif (ficheData.length === 0) {\n\t\t\tdispatch(getFicheStockData());\n\t\t}\n\t}, [ficheData, dispatch]);\n\treturn (\n\t\t<StyledContainer>\n\t\t\t<StyledHeader>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className=\"module-title\">\n\t\t\t\t\t\tMouvement des stocks\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t<MonthYearPeaker value={new Date()} onChange={() => {}} />\n\t\t\t</StyledHeader>\n\t\t\t<div>\n\t\t\t\t<StyledDataDisplay>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"h2\" sx={{ mb: 2 }}>\n\t\t\t\t\t\t\tTransactions\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box display=\"flex\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<StyledCountCard>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"large\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{nbreEntrees}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"GrayText\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tEntrées stock\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<EntreeIcon\n\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</StyledCountCard>\n\t\t\t\t\t\t\t\t<StyledCountCard>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"large\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{nbreSorties}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"GrayText\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSorties stock\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<SortieIcon\n\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</StyledCountCard>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"chart\">\n\t\t\t\t\t\t\t\t<FicheStockChart />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Filters />\n\t\t\t\t</StyledDataDisplay>\n\t\t\t\t<TableFicheStock data={ficheData} />\n\t\t\t</div>\n\t\t</StyledContainer>\n\t);\n}\n\n// Composant des filtres\n\nconst Filters = () => {\n\tconst produits = useSelector(selectAllProduit);\n    const loading = useSelector(getReqState) === 'loading';\n\tconst [open, setOpen] = useState(false);\n\tconst [produit, setProduit] = useState(null);\n\tconst handleChangeProduit = (value) => {\n\t\tsetProduit(value);\n\t};\n    const dispatch = useDispatch();\n    const handleChange = (e) => {\n        setOpen(!open);\n        if (produits.length === 0) {\n            dispatch(getProduits());\n        }\n    }\n\n\treturn (\n\t\t<StyledFilters>\n\t\t\t<Typography variant=\"h2\" sx={{mb: '0px!important'}}>\n\t\t\t\tFiltres\n\t\t\t</Typography>\n\t\t\t<StyledProduitFilter>\n                <Periode />\n                <Box mb={1} mt={2} display=\"flex\" alignItems=\"center\">\n                    <Checkbox color=\"default\" checked={open} onChange={handleChange} label=\"Produits\" />\n                    {loading && <CircularProgress size={10} sx={{ml: 1.5}} />}\n                </Box>\n\t\t\t\t<Box ml={3}>\n\t\t\t\t\t<ComboBox\n\t\t\t\t\t\tvalue={produit}\n\t\t\t\t\t\tplaceholder=\"Séléctionnez un produit\"\n\t\t\t\t\t\tfilterSelectedOptions={true}\n\t\t\t\t\t\tlabel=\"Séléctionnez un produit\"\n\t\t\t\t\t\tsetValue={handleChangeProduit}\n\t\t\t\t\t\tdisabled={!open || loading}\n                        minWidth={150}\n\t\t\t\t\t\toptions={produits.map((prod) => ({\n\t\t\t\t\t\t\tid: prod.id,\n\t\t\t\t\t\t\tlabel: prod.designation,\n\t\t\t\t\t\t\tmarge: prod.marge,\n\t\t\t\t\t\t}))}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</StyledProduitFilter>\n\t\t</StyledFilters>\n\t);\n};\n\n// Composant de séléction de la période\n\nconst periodes = [\n\t{ id: 1, name: \"24h\" },\n\t{ id: 2, name: \"3 jours\" },\n\t{ id: 3, name: \"1 semaine\" },\n\t{ id: 4, name: \"1 mois\" },\n];\n\nconst Periode = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [activePeriode, setActivePeriode] = useState({\n\t\tid: 4,\n\t\tname: \"1 mois\",\n\t});\n\tconst open = anchorEl ? true : false;\n\n\tconst toggleMenu = (event) => {\n\t\tif (!anchorEl) {\n\t\t\tsetAnchorEl(event.currentTarget);\n\t\t} else {\n\t\t\tsetAnchorEl(null);\n\t\t}\n\t};\n\n\tconst handleSelectPeriode = (name) => {\n\t\tsetActivePeriode(name);\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst canBeOpen = open && Boolean(anchorEl);\n\tconst id = canBeOpen ? \"transition-popper\" : undefined;\n\n\treturn (\n\t\t<StyledPeriod>\n\t\t\t<button aria-describedby={id} type=\"button\" onClick={toggleMenu}>\n\t\t\t\tPériode :<span>{activePeriode.name}</span>\n\t\t\t\t<ExpandMoreIcon fontSize=\"small\" />\n\t\t\t</button>\n\t\t\t<Popover\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tonClose={toggleMenu}\n\t\t\t\televation={3}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t}}\n\t\t\t\tBackdropProps={{ sx: { backgroundColor: \"rgba(0,0,0,0)\" } }}\n\t\t\t>\n\t\t\t\t<StyledPeriodeMenu>\n\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\tSéléctionner la période\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{periodes.map((periode) => (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={periode.id}\n\t\t\t\t\t\t\t\tonClick={() => handleSelectPeriode(periode)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{periode.id === activePeriode.id && (\n\t\t\t\t\t\t\t\t\t\t<RadioButtonCheckedIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\t{periode.name}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</StyledPeriodeMenu>\n\t\t\t</Popover>\n\t\t</StyledPeriod>\n\t);\n};\n\n// Composants stylés\n\nconst StyledContainer = styled(\"div\")(() => ({}));\nconst StyledCountCard = styled(\"div\")(({ theme }) => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\twidth: 150,\n\tborder: \"1px solid #eaeaea\",\n\tborderRadius: 5,\n\tpadding: 10,\n\t\"&:not(:last-child)\": {\n\t\tmarginBottom: 10,\n\t},\n\t\"& > div\": {\n\t\tflex: 1,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t\"& > span\": {\n\t\t\tfontSize: 12,\n\t\t},\n\t\t\"& > .large\": {\n\t\t\tfontSize: 25,\n\t\t\tfontWeight: \"bold\",\n\t\t},\n\t},\n}));\nconst StyledHeader = styled(\"header\")(() => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\tjustifyContent: \"space-between\",\n\tborderBottom: \"1px solid #eaeaea\",\n\tpadding: \"10px 0\",\n}));\nconst StyledPeriod = styled(\"div\")(() => ({\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\t\"& > button\": {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tcursor: \"pointer\",\n\t\tpadding: \"8px 14px\",\n\t\tborder: \"1px solid #b1d8ff33\",\n\t\tbackgroundColor: \"#91bfed14\",\n\t\tborderRadius: 5,\n\t\toutline: \"none\",\n\t\tcolor: \"#666\",\n\t\t\"& > span\": {\n\t\t\tcolor: \"#333\",\n\t\t\tfontWeight: 600,\n\t\t},\n\t},\n}));\nconst StyledPeriodeMenu = styled(\"div\")(() => ({\n\tdisplay: \"flex\",\n\tflexDirection: \"column\",\n\tbackgroundColor: \"#fff\",\n\tborder: \"1px solid #eaeaea\",\n\tborderRadius: 5,\n\twidth: 300,\n\t\"& > span:first-of-type\": {\n\t\tborderBottom: \"1px solid #eaeaea\",\n\t\tpadding: \"7px 10px\",\n\t},\n\t\"& > span, & li\": {\n\t\tfontSize: 12,\n\t},\n\t\"& li\": {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 10px\",\n\t\ttransition: \"background .2s\",\n\t\t\"& > span\": {\n\t\t\tpadding: \"7px 0px\",\n\t\t\tfontSize: 12,\n\t\t},\n\t\t\"& > span:first-of-type\": {\n\t\t\twidth: \"10%\",\n\t\t\tpadding: 0,\n\t\t},\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: \"#eaeaea\",\n\t\t},\n\t},\n\t\"& li:not(:last-child)\": {\n\t\tborderBottom: \"1px solid #eaeaea\",\n\t},\n}));\nconst StyledDataDisplay = styled(\"div\")(({theme}) => ({\n\tdisplay: \"flex\",\n\tpadding: \"20px 0\",\n\t\"& > div\": {\n\t\tflex: 1,\n\t},\n\t\"& .chart\": {\n\t\theight: 210,\n\t\tbackgroundColor: \"#fff\",\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tborder: \"1px solid #eaeaea\",\n\t\twidth: 500,\n\t\tmarginLeft: 15,\n\t},\n\t\"& h2\": {\n\t\tpadding: \"8px 16px\",\n        backgroundColor: theme.palette.primary.main,//\"#f6f8fa\",\n        // backgroundImage: 'linear-gradient(1deg, #f3f3f3, rgb(245 245 245 / 87%))',//\"#f6f8fa\",\n\t\tfontWeight: 'bold',\n\t\tcolor: '#fff',\n        borderTopLeftRadius: 6,\n        borderTopRightRadius: 6,\n        borderBottom: '1px solid #eaeaea',\n    }\n}));\nconst StyledFilters = styled(\"div\")(({theme}) => ({\n    backgroundColor:\"#fff\",\n    borderRadius: 5,\n    border: \"1px solid #eaeaea\",\n    marginLeft: 15,\n    \"& > h2\": {\n\t\tpadding: \"8px 16px\",\n        backgroundColor: theme.palette.primary.main,//\"#f6f8fa\",\n        // backgroundImage: 'linear-gradient(1deg, #f3f3f3, rgb(245 245 245 / 87%))',//\"#f6f8fa\",\n\t\tcolor: '#fff',\n\t\tfontWeight: 'bold',\n        borderTopLeftRadius: 6,\n        borderTopRightRadius: 6,\n        borderBottom: '1px solid #eaeaea',\n    }\n}));\nconst StyledProduitFilter = styled(\"div\")(() => ({\n    padding: '15px 16px',\n}));\n","import React, { useState, useRef, useEffect } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tTextField,\n\tTypography,\n\tCircularProgress,\n} from \"@mui/material\";\nimport {\n\tAdd,\n\tFormatListBulleted as FormatListBulletedIcon,\n} from \"@mui/icons-material\";\nimport Chip from \"@mui/material/Chip\";\nimport Stack from \"@mui/material/Stack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tactions,\n\tcreerProduit,\n\tgetErrors,\n} from \"../../../app/reducers/produit\";\nimport { ComboBox } from \"../../../Components\";\nimport { NavLink } from \"react-router-dom\";\nimport { validerNouveauProduit } from \"../utilities/validators/produit\";\nimport CategorieForm from \"../components/CategorieForm\";\nimport { LargeDialog } from \"../../../Components\";\nimport {\n\tgetCategories,\n\tgetCategoriesProduit,\n} from \"../../../app/reducers/produit\";\n\nfunction AutresTaxes({ taxes = [], handleDelete }) {\n\treturn (\n\t\t<Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\n\t\t\t{taxes.map((taxe) => (\n\t\t\t\t<Chip\n\t\t\t\t\tkey={taxe.label}\n\t\t\t\t\tlabel={`${taxe.label} : ${taxe.pourcentage}%`}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonDelete={() => handleDelete(taxe.label)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</Stack>\n\t);\n}\n\nexport default function NouveauProduit() {\n\t// Création des états\n\tconst [designation, setDesignation] = useState(\"\");\n\tconst [unite, setUnite] = useState(\"\");\n\tconst [marge, setMarge] = useState(0);\n\tconst [qMin, setQMin] = useState(0);\n\tconst [code, setCode] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [emballage, setEmballage] = useState(\"\");\n\tconst [categorie, setCategorie] = useState(null);\n\tconst [numCompte, setNumCompte] = useState(\"31\");\n\tconst [taxeNom, setTaxeNom] = useState(\"\");\n\tconst [taxeValue, setTaxeValue] = useState(\"\");\n\tconst [taxes, setTaxes] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [errors, setErrors] = useState({});\n\tconst [addCategory, setAddCategory] = useState(false);\n\tconst serverError = useSelector(getErrors);\n\n\t// recuperation des categorie des produit (redux store)\n\tconst categories = useSelector(getCategories);\n\n\tconst designRef = useRef();\n\n\tconst toggleAddCategory = () => {\n\t\tsetAddCategory(!addCategory);\n\t};\n\n\tconst handleInputChange = (value, label) => {\n\t\tswitch (label) {\n\t\t\tcase \"designation\":\n\t\t\t\tsetDesignation(value);\n\t\t\t\tsetErrors({ ...errors, designation: null });\n\t\t\t\tbreak;\n\t\t\tcase \"code\":\n\t\t\t\tsetCode(value);\n\t\t\t\tsetErrors({ ...errors, code: null });\n\t\t\t\tbreak;\n\t\t\tcase \"qMin\":\n\t\t\t\tsetQMin(value);\n\t\t\t\tif (qMin !== null || qMin !== \"\") {\n\t\t\t\t\tsetErrors({ ...errors, qMin: null });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"unite\":\n\t\t\t\tsetUnite(value);\n\t\t\t\tsetErrors({ ...errors, unite: null });\n\t\t\t\tbreak;\n\t\t\tcase \"marge\":\n\t\t\t\tsetMarge(value);\n\t\t\t\tsetErrors({ ...errors, marge: null });\n\t\t\t\tbreak;\n\t\t\tcase \"emballage\":\n\t\t\t\tsetMarge(value);\n\t\t\t\tsetErrors({ ...errors, marge: null });\n\t\t\t\tbreak;\n\t\t\tcase \"taxeNom\":\n\t\t\t\tsetTaxeNom(value);\n\t\t\t\tsetErrors({ ...errors, taxeNom: null });\n\t\t\t\tbreak;\n\t\t\tcase \"taxeValue\":\n\t\t\t\tsetTaxeValue(value);\n\t\t\t\tsetErrors({ ...errors, taxeValue: null });\n\t\t\t\tbreak;\n\t\t\tcase \"numCompte\":\n\t\t\t\tsetNumCompte(value);\n\t\t\t\tsetErrors({ ...errors, numCompte: null });\n\t\t\t\tbreak;\n\t\t\tcase \"categorie\":\n\t\t\t\tsetCategorie(value);\n\t\t\t\tsetErrors({ ...errors, categorie: null });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst appendTaxe = () => {\n\t\tlet valid = true;\n\t\tlet errs = { ...errors };\n\t\tif (taxeNom === \"\") {\n\t\t\tvalid = false;\n\t\t\terrs[\"taxeNom\"] = \"Valeure réquise.\";\n\t\t}\n\t\tif (taxeValue === \"\") {\n\t\t\tvalid = false;\n\t\t\terrs[\"taxeValue\"] = \"Valeure réquise.\";\n\t\t}\n\n\t\tif (taxes.some((t) => t.label === taxeNom)) {\n\t\t\tvalid = false;\n\t\t}\n\n\t\tif (!valid) {\n\t\t\tsetErrors(errs);\n\t\t\treturn;\n\t\t}\n\n\t\tsetTaxes([...taxes, { label: taxeNom, pourcentage: taxeValue }]);\n\n\t\tsetTaxeNom(\"\");\n\t\tsetTaxeValue(\"\");\n\t};\n\n\tconst handleRemoveTaxe = (label) => {\n\t\tconst t = taxes.filter((t) => t.label !== label);\n\n\t\tsetTaxes(t);\n\t};\n\n\t// Fonction d'initialisation des champs du formulaire\n\tconst initAll = () => {\n\t\tsetDesignation(\"\");\n\t\tsetUnite(\"\");\n\t\tsetQMin(\"\");\n\t\tsetMarge(0);\n\t\tsetCode(\"\");\n\t\tsetDescription(\"\");\n\t\tsetCategorie(null);\n\t\tsetTaxes([]);\n\t\tsetTaxeNom(\"\");\n\t\tsetTaxeValue(\"\");\n\t\tsetNumCompte(\"31\");\n\t\tsetEmballage(\"\");\n\n\t\tif (designRef.current) {\n\t\t\tdesignRef.current.focus();\n\t\t}\n\t};\n\n\tconst handleCompteChange = (e) => {\n\t\tconst val = e.target.value;\n\t\tif (val === \"\" || val[0] !== \"3\") {\n\t\t\tsetErrors({\n\t\t\t\t...errors,\n\t\t\t\tnumCompte: \"Mauvais numéro de compte\",\n\t\t\t});\n\t\t} else {\n\t\t\tsetErrors({\n\t\t\t\t...errors,\n\t\t\t\tnumCompte: null,\n\t\t\t});\n\t\t}\n\t\tsetNumCompte(val);\n\t};\n\n\tconst dispatch = useDispatch();\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { valid: valid1, errors: errors1 } = validerNouveauProduit(\n\t\t\tdesignation,\n\t\t\tunite,\n\t\t\tmarge,\n\t\t\tqMin,\n\t\t\tcode,\n\t\t\tnumCompte\n\t\t);\n\n\t\tif (!valid1) {\n\t\t\tsetErrors(errors1);\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\t\tconst prod = {\n\t\t\tdesignation,\n\t\t\tcode_produit: code,\n\t\t\tdescription,\n\t\t\temballage,\n\t\t\tunite,\n\t\t\tmarge,\n\t\t\ttaxes,\n\t\t\tquantite: 0,\n\t\t\tq_min: qMin,\n\t\t\tcategorieId: categorie ? categorie.id : null,\n\t\t};\n\n\t\tdispatch(\n\t\t\tcreerProduit({\n\t\t\t\tdata: prod,\n\t\t\t})\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.payload.state === \"success\") {\n\t\t\t\t\tinitAll();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.finally(() => setLoading(false));\n\t};\n\n\tconst handleClearServerErrors = () => {\n\t\tsetErrors({ ...errors, server: null });\n\t\tdispatch(actions.initError());\n\t};\n\n\tuseEffect(() => {\n\t\tsetErrors({ ...errors, server: serverError });\n\t}, [serverError]);\n\n\tuseEffect(() => {\n\t\tdispatch(getCategoriesProduit());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<>\n\t\t\t{addCategory && (\n\t\t\t\t<CategorieForm onClose={toggleAddCategory} open={addCategory} />\n\t\t\t)}\n\t\t\t<form className=\"produit-form\" onSubmit={handleSubmit}>\n\t\t\t\t{errors.server && (\n\t\t\t\t\t<LargeDialog\n\t\t\t\t\t\ttitle=\"Erreur\"\n\t\t\t\t\t\topen={serverError ? true : false}\n\t\t\t\t\t\tmessage={errors.server}\n\t\t\t\t\t\tonAgree={handleClearServerErrors}\n\t\t\t\t\t\tonClose={handleClearServerErrors}\n\t\t\t\t\t\tagreeBtnText=\"Ok\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<header>\n\t\t\t\t\t<Typography variant=\"h1\">\n\t\t\t\t\t\tAjout des nouveaux produits/Articles\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tto=\"/stock/produits\"\n\t\t\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\tstartIcon={<FormatListBulletedIcon />}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tListe des produits\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</header>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\t1. Généralités\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tinputRef={designRef}\n\t\t\t\t\t\t\t\tlabel=\"Désignation du produit *\"\n\t\t\t\t\t\t\t\tid=\"designation\"\n\t\t\t\t\t\t\t\tname=\"designation\"\n\t\t\t\t\t\t\t\tplaceholder=\"Désignation du produit\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={designation}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\"designation\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={errors.designation ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.designation}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Code Produit *\"\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tname=\"code\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Code du produit\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={code}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"code\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errors.code ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.code}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Quantité minimale *\"\n\t\t\t\t\t\t\t\t\tid=\"q_min\"\n\t\t\t\t\t\t\t\t\tname=\"q_min\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Quantité minimale\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={qMin}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"qMin\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errors.qMin ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.qMin}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Unité de mésure du produit *\"\n\t\t\t\t\t\t\t\t\tid=\"unite\"\n\t\t\t\t\t\t\t\t\tname=\"unite\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Unité de mésure du produit\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvalue={unite}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"unite\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errors.unite ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.unite}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Marge de bénéfice sur une unité (%) *\"\n\t\t\t\t\t\t\t\t\tid=\"marge\"\n\t\t\t\t\t\t\t\t\tname=\"marge\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Marge de bénéfice sur une unité\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={marge}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"marge\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errors.marge ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.marge}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"L'emballage du produit (Conteneur)\"\n\t\t\t\t\t\t\t\tid=\"emballage\"\n\t\t\t\t\t\t\t\tname=\"emballage\"\n\t\t\t\t\t\t\t\tplaceholder=\"L'emballage du produit\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={emballage}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\"emballage\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDéscripton\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Une petite description du produit\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\"description\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\terror={errors.description ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={errors.description}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\t2. Catégorie du produit (gamme)\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\tlabel=\"Catégorie *\"\n\t\t\t\t\t\t\t\tid=\"Catégorie\"\n\t\t\t\t\t\t\t\tname=\"Catégorie\"\n\t\t\t\t\t\t\t\tplaceholder=\"Catégorie\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\tcategories.map((cat) => ({\n\t\t\t\t\t\t\t\t\t\tlabel: cat.nom_categorie,\n\t\t\t\t\t\t\t\t\t\t...cat,\n\t\t\t\t\t\t\t\t\t})) || []\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={categorie}\n\t\t\t\t\t\t\t\tsetValue={(value) => setCategorie(value)}\n\t\t\t\t\t\t\t\tsx={{ display: \"block\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\tonClick={toggleAddCategory}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tNouvelle catégorie\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-block\">\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\n\t\t\t\t\t\t\t3. Autres données\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Numéro de compte stock *\"\n\t\t\t\t\t\t\t\tplaceholder=\"Numéro de compte stock\"\n\t\t\t\t\t\t\t\tname=\"compte\"\n\t\t\t\t\t\t\t\tid=\"compte\"\n\t\t\t\t\t\t\t\tinputProps={{ maxLength: 8 }}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={numCompte}\n\t\t\t\t\t\t\t\tonChange={handleCompteChange}\n\t\t\t\t\t\t\t\terror={errors.numCompte ? true : false}\n\t\t\t\t\t\t\t\thelperText={errors.numCompte}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAutres taxes liées\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{taxes.length > 0 && (\n\t\t\t\t\t\t\t\t\t<AutresTaxes\n\t\t\t\t\t\t\t\t\t\ttaxes={taxes}\n\t\t\t\t\t\t\t\t\t\thandleDelete={handleRemoveTaxe}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"flex-start\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nom de la taxe\"\n\t\t\t\t\t\t\t\t\t\tid=\"nom_taxe\"\n\t\t\t\t\t\t\t\t\t\tname=\"nom_taxe\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Taxe\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tsx={{ display: \"block\", mr: 1, my: 0 }}\n\t\t\t\t\t\t\t\t\t\tvalue={taxeNom}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"taxeNom\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror={errors.taxeNom ? true : false}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.taxeNom}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Valeur (%)\"\n\t\t\t\t\t\t\t\t\t\tid=\"taxe\"\n\t\t\t\t\t\t\t\t\t\tname=\"taxe\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Taxe\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\tmaxLength: 5,\n\t\t\t\t\t\t\t\t\t\t\tminLength: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tsx={{ display: \"block\", mr: 1, my: 0 }}\n\t\t\t\t\t\t\t\t\t\tvalue={taxeValue}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\"taxeValue\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror={errors.taxeValue ? true : false}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.taxeValue}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\tstartIcon={<Add />}\n\t\t\t\t\t\t\t\t\t\tonClick={appendTaxe}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAjouter\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-actions\">\n\t\t\t\t\t<div className=\"horizontal-align\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tsx={{ mr: 2 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\ttype=\"sumbit\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tminWidth: 124.78,\n\t\t\t\t\t\t\t\theight: 36.5,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Enregistrer\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Collapse from '@mui/material/Collapse';\nimport IconButton from '@mui/material/IconButton';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Typography from '@mui/material/Typography';\nimport Paper from '@mui/material/Paper';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\n\nfunction createData(name, calories, fat, carbs, protein, price) {\n  return {\n    name,\n    calories,\n    fat,\n    carbs,\n    protein,\n    price,\n    history: [\n      {\n        date: '2020-01-05',\n        customerId: '11091700',\n        amount: 3,\n      },\n      {\n        date: '2020-01-02',\n        customerId: 'Anonymous',\n        amount: 1,\n      },\n    ],\n  };\n}\n\nfunction Row(props) {\n  const { row } = props;\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <React.Fragment>\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        <TableCell component=\"th\" scope=\"row\">\n          {row.name}\n        </TableCell>\n        <TableCell align=\"right\">{row.calories}</TableCell>\n        <TableCell align=\"right\">{row.fat}</TableCell>\n        <TableCell align=\"right\">{row.carbs}</TableCell>\n        <TableCell align=\"right\">{row.protein}</TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ margin: 1 }}>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                History\n              </Typography>\n              <Table size=\"small\" aria-label=\"purchases\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Date</TableCell>\n                    <TableCell>Customer</TableCell>\n                    <TableCell align=\"right\">Amount</TableCell>\n                    <TableCell align=\"right\">Total price ($)</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {row.history.map((historyRow) => (\n                    <TableRow key={historyRow.date}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {historyRow.date}\n                      </TableCell>\n                      <TableCell>{historyRow.customerId}</TableCell>\n                      <TableCell align=\"right\">{historyRow.amount}</TableCell>\n                      <TableCell align=\"right\">\n                        {Math.round(historyRow.amount * row.price * 100) / 100}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </React.Fragment>\n  );\n}\n\nRow.propTypes = {\n  row: PropTypes.shape({\n    calories: PropTypes.number.isRequired,\n    carbs: PropTypes.number.isRequired,\n    fat: PropTypes.number.isRequired,\n    history: PropTypes.arrayOf(\n      PropTypes.shape({\n        amount: PropTypes.number.isRequired,\n        customerId: PropTypes.string.isRequired,\n        date: PropTypes.string.isRequired,\n      }),\n    ).isRequired,\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    protein: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nconst rows = [\n  createData('Frozen yoghurt', 159, 6.0, 24, 4.0, 3.99),\n  createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99),\n  createData('Eclair', 262, 16.0, 24, 6.0, 3.79),\n  createData('Cupcake', 305, 3.7, 67, 4.3, 2.5),\n  createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5),\n];\n\nexport default function CollapsibleTable() {\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"collapsible table\">\n        <TableHead>\n          <TableRow>\n            <TableCell />\n            <TableCell>Dessert (100g serving)</TableCell>\n            <TableCell align=\"right\">Calories</TableCell>\n            <TableCell align=\"right\">Fat&nbsp;(g)</TableCell>\n            <TableCell align=\"right\">Carbs&nbsp;(g)</TableCell>\n            <TableCell align=\"right\">Protein&nbsp;(g)</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows.map((row) => (\n            <Row key={row.name} row={row} />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}","import { Box, Button, Typography } from '@mui/material';\nimport React from 'react'\nimport { Link } from 'react-router-dom';\nimport ApprovHistoryTable from '../components/ApprovHistoryTable';\nimport TimeRangePicker from '../components/TimeRangePicker';\n\nexport default function Historique() {\n    return (\n        <div className=\"historique-page\">\n            <header>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\tbackground=\"#fff\"\n\t\t\t\t\tpadding=\"5px 15px\"\n\t\t\t\t\tborderRadius=\"5px\"\n\t\t\t\t>\n\t\t\t\t\t<Typography className=\"module-title\">\n\t\t\t\t\t\tHistorique des entrées\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Link to=\"/stock/nouveau_produit\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAjouter un produit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n                </Box>\n\t\t\t</header>\n            <div>\n                {/* <TimeRangePicker value={[null, null]} /> */}\n                <ApprovHistoryTable />\n            </div>\n        </div>\n    )\n}\n","import React, {useContext} from \"react\";\nimport \"./stock.styles.css\";\nimport \"./components/component.style.css\";\nimport { Route, Routes } from \"react-router-dom\";\nimport PageProduit from \"./pages/Produit\";\nimport StockSideBar from './components/SideBar';\nimport ApprovisionnementPage from './pages/Approvisionnement';\nimport FicheStockPage from \"./pages/FicheStock\";\nimport NouveauProduit from \"./pages/NouveauProduit\";\nimport Historique from './pages/Historique';\nimport useConnectSocket from '../../sockets';\nimport {SocketContext} from '../../App';\n\nexport default function NavigationStock() {\n    // Initialize the sockets for the stock module\n    const socket = useContext(SocketContext);\n\n    useConnectSocket(socket, 'gestion_stock');\n\treturn (\n        <div>\n            <StockSideBar />\n            <main className=\"main-stock\">\n                <Routes>\n                    <Route path=\"/produits\" element={<PageProduit />} />\n                    <Route path=\"/nouveau_produit\" element={<NouveauProduit />} />\n                    <Route path=\"approvisionnement\" element={<ApprovisionnementPage />} />\n                    <Route path=\"/historique_approvisionnement\" element={<Historique />} />\n                    <Route path=\"fiche_de_stock\" element={<FicheStockPage />} />\n                    <Route path=\"/\" element={<PageProduit />} />\n                </Routes>\n            </main>\n        </div>\n\t);\n}\n","import React, { useEffect, createContext, useState } from \"react\";\nimport \"./App.css\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport socketIOClient from 'socket.io-client';\nimport { FacturePDF, Topbar, Feedback } from \"./Components\";\nimport NavigationFacturation from \"./modules/Facturation/navigation\";\nimport NavigationStock from \"./modules/Stock/navigation\";\nimport { getUserData, getreqState, getAuth } from \"./app/reducers/assujetti\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Chargement } from \"./Components\";\nimport { getLoginRedirectUrl } from \"./utilities/helpers\";\n\nexport const FeedbackContext = createContext({});\nexport const SocketContext = createContext();\nconst socket = socketIOClient('http://localhost:8082');\n\nfunction App() {\n\tconst loading = useSelector(getreqState) === \"loading\";\n\tconst isAuth = useSelector(getAuth);\n\tconst dispatch = useDispatch();\n\n\t// Feedback context value\n\tconst [openState, setOpenState] = useState(false);\n\tconst [messageState, setMessageState] = useState(\"\");\n\tconst [typeState, setTypeState] = useState();\n\tconst [idState, setIdState] = useState(\"global-feed-back\");\n\t// const [socket, setSocket] = useState();\n\n\t// Creation de la valeur par defaut du context feedback\n\tconst feedbackContextValue = {\n\t\tonClose: () => {\n\t\t\tsetOpenState(false);\n\t\t\tsetMessageState(\"\");\n\t\t},\n\t\tcreateFeedback: (message, id, type) => {\n\t\t\tsetOpenState(true);\n\t\t\tsetMessageState(message);\n\t\t\tsetIdState(id);\n\t\t\tsetTypeState(type);\n\t\t},\n\t\tgetFeedback: () => {\n\t\t\treturn {\n\t\t\t\tmessageState,\n\t\t\t\topenState,\n\t\t\t\tidState,\n\t\t\t\ttypeState,\n\t\t\t};\n\t\t},\n\t};\n\n\tuseEffect(() => {\n\t\t// Recuperation des données de l'utilisateur\n\t\tdispatch(getUserData()).then((res) => {\n\t\t\tconst data = res.payload;\n\t\t\t// Verification si l'utilisateur est connecté.\n\t\t\t// Si oui il accède à l'application\n\t\t\t// Sinon il est redirigé vers le login\n\t\t\tif (!data || !data.connected) {\n\t\t\t\tconst href = getLoginRedirectUrl();\n\t\t\t\twindow.location.href = href;\n\t\t\t\t// Création du socket\n\t\t\t\t// setSocket(socket);\n\t\t\t}\n\t\t});\n\t}, [dispatch]);\n\n\treturn (\n\t\t<>\n\t\t\t{loading || !isAuth ? (\n\t\t\t\t<Chargement\n\t\t\t\t\tmessage=\"Chargement...\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tminHeight: \"100vh\",\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<SocketContext.Provider value={socket}>\n\t\t\t\t\t<FeedbackContext.Provider value={feedbackContextValue}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Topbar />\n\t\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath=\"/stock/*\"\n\t\t\t\t\t\t\t\t\telement={<NavigationStock />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath=\"/facturation/*\"\n\t\t\t\t\t\t\t\t\telement={<NavigationFacturation />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath=\"/facture/:numFacture\"\n\t\t\t\t\t\t\t\t\telement={<FacturePDF />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath=\"*\"\n\t\t\t\t\t\t\t\t\telement={<Navigate to=\"/stock\" />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Routes>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Feedback />\n\t\t\t\t\t</FeedbackContext.Provider>\n\t\t\t\t</SocketContext.Provider>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport {reducer as productReducer} from './reducers/produit';\nimport {reducer as entreeReducer} from './reducers/entree';\nimport {reducer as stockReducer} from './reducers/stock';\nimport {reducer as venteReducer} from './reducers/vente';\nimport {reducer as assujettiReducer} from './reducers/assujetti';\nimport {reducer as factureReducer} from './reducers/facture';\nimport {reducer as ConfigReducer} from './reducers/config';\nimport {reducer as factureAchatReducer} from './reducers/factureAchat';\nimport {reducer as ficheStockReducer} from './reducers/ficheStock';\n\nexport const store = configureStore({\n  reducer: {\n    produits: productReducer,\n    entrees: entreeReducer,\n    stocks: stockReducer,\n    ventes: venteReducer,\n    assujetti: assujettiReducer,\n    factures: factureReducer,\n    facturesAchat: factureAchatReducer,\n    configs: ConfigReducer,\n    ficheStocks: ficheStockReducer\n  },\n});\n","import { createTheme } from '@mui/material';\n\nconst typographyTheme = createTheme({\n    typography: {\n        fontFamily: [\n            '-apple-system',\n            'BlinkMacSystemFont',\n            '\"Segoe UI\"',\n            'Roboto',\n            '\"Helvetica Neue\"',\n            'Arial',\n            'sans-serif',\n            '\"Apple Color Emoji\"',\n            '\"Segoe UI Emoji\"',\n            '\"Segoe UI Symbol\"',\n        ].join(','),\n        title: {\n            fontSize: 'clamp(3.625rem, 1.2857rem + 3.5714vw, 4rem)',\n        },\n        h1: {\n            fontSize: '1.3rem',\n            fontWeight: '400'\n        },\n        h2: {\n            fontSize: '1rem',\n            fontWeight: '400',\n            marginBottom: '10px!important'\n        },\n        h3: {\n            fontSize: 28\n        },\n        h4: {\n            fontSize: 26\n        },\n        h5: {\n            fontSize: 24\n        },\n        h6: {\n            fontSize: 22\n        },\n        body1: {\n            fontSize: 20,\n        },\n        body2: {\n            fontSize: 18,\n        },\n        caption: {\n            fontSize: 16\n        },\n    }\n});\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: '#307ECC',\n            light: \"#6FAED9\",\n            dark: \"#0b222f\"\n        },\n        secondary: {\n            main: \"#fd7e14\",\n        },\n        default: {\n            main: '#555',\n            light: '#B6B6B6',\n            dark: '#333',\n        },\n        blackish: {\n            main: \"#001320\",\n            light: \"#00406c\"\n        },\n        background: {\n            main: '#E4E6E9'\n        },\n    },\n    typography: typographyTheme.typography,\n    components: {\n        MuiButton: {\n            defaultProps: {\n                size: 'medium',\n            },\n            styleOverrides: {\n                root: {\n                    borderRadius: 5,\n                    textTransform: 'initial',\n                }\n            }\n        },\n        MuiTextField: {\n            defaultProps: {\n                size: 'small'\n            },\n            styleOverrides: {\n                root: {\n                    fontSize: 14,\n                    borderRadius: 0,\n                    margin: '5px 0 10px 0'\n                },\n            }\n        },\n        MuiInputLabel: {\n            styleOverrides: {\n                root: {\n                    fontSize: 15\n                }\n            }\n        },\n        MuiOutlinedInput: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 3\n                },\n                input: {\n                    fontSize: 15\n                },\n            }\n        },\n        MuiPaper: {\n            defaultProps: {\n                elevation: 3\n            }\n        },\n        MuiTableContainer: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 5,\n                    boxShadow: \"none\",\n                }\n            }\n        },\n        MuiTable: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 5,\n                }\n            }\n        },\n        MuiFormHelperText: {\n            styleOverrides: {\n                root: {\n                    fontSize: 10\n                }\n            }\n        },\n        MuiCheckbox: {\n            defaultProps: {\n                size: 'small',\n            },\n            styleOverrides: {\n                root: {\n                    padding: 0\n                }\n            }\n        }, \n        MuiRadio: {\n            defaultProps: {\n                size: 'small',\n            },\n            styleOverrides: {\n                root: {\n                    padding: 0\n                }\n            }\n        },\n        MuiFormControlLabel: {\n            styleOverrides: {\n                root: {\n                    marginLeft: 0,\n                },\n                label: {\n                    fontSize: 16,\n                    marginLeft: 5\n                }\n            }\n        },\n        MuiBackdrop: {\n            styleOverrides: {\n                root: {\n                    background: '#00000042',\n                },                \n            },\n        }\n    }\n});\n\n\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport theme from  './app/theme';\nimport {ThemeProvider} from '@mui/material';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n          <BrowserRouter>\n            <App />\n          </BrowserRouter>\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/nodata.ad17058e.svg\";","module.exports = __webpack_public_path__ + \"static/media/void.c7678f08.svg\";"],"sourceRoot":""}