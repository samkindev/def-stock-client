(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1049:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),i=a(88),c=a.n(i),o=a(5),u=(a(636),a(35)),s=a(585),d=(a(639),a(1109)),m=a(1133),p=a(1138),f=a(48),b=a(61),g=a(1150),v=a(238),E=a(1145),h=a(1146),x=a(1112),j=a(264),O=a.n(j),y=a(531),S=a.n(y),k=a(533),C=a.n(k),w=a(532),N=a.n(w),T=a(534),z=a.n(T),_=a(535),I=a.n(_),A=a(536),q=a.n(A),R=a(537),F=a.n(R),W=a(374),D=a.n(W),P=a(20),M=a(4),B=a(24),V=a.n(B),L=a(41),U=a(31),H=a(42),Q=a.n(H),G=Object(U.b)("assujetti/entreprise-data",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/user");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),J=Object(U.d)({name:"assujetti",initialState:{assujetti:null,user:null,auth:!1,status:"idle"},extraReducers:(n={},Object(M.a)(n,G.pending,function(e){e.status="loading"}),Object(M.a)(n,G.fulfilled,function(e,t){e.status="fulfilled";var a=t.payload;a&&a.connected&&(e.user=a.user,e.assujetti=a.assujetti,e.auth=!0)}),Object(M.a)(n,G.rejected,function(e,t){e.status="failed",e.error=t.payload,e.user=null,e.assujetti=null,e.auth=!1}),n)}),X=(J.actions,J.reducer),$=function(e){return e.assujetti.assujetti},Y=function(e){return e.assujetti.user},K=function(e){return e.assujetti.auth},Z=function(e){return e.assujetti.status};function ee(e,t){var a=e,n=t;return a=new Date(a).valueOf(),n=new Date(n).valueOf(),isFinite(a)&&isFinite(n)?(a>n)-(a<n):NaN}var te=function(){var e=window.location.href,t=e.slice(0,e.indexOf("//")+2),a=e.slice(t.length).split(":");return console.log(a),a.length<=1&&(a=e.slice(t.length).split("/")),console.log(a[0]),t+a[0]+"/php"},ae=function(e){return e.toLocaleString("fr")},ne=function(e,t,a){var n=e/t;return"number"===a?n:ae(n)};function re(){var e=Object(P.c)(Y),t=Object(P.c)($),a=Object(b.a)(),n=Object(r.useState)(!1),i=Object(o.a)(n,2),c=i[0],u=i[1],s=function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&u(!c)};return l.a.createElement("div",{className:"appbar",style:{backgroundColor:a.palette.grey[200],padding:a.spacing(1,2),borderBottom:"2px solid "+a.palette.primary.light}},l.a.createElement(d.a,{display:"flex",alignItems:"center"},l.a.createElement(g.a,{sx:{mr:2},onClick:s},l.a.createElement(D.a,{fontSize:"small"})),c&&l.a.createElement(de,{open:c,toggleMenu:s,assujetti:t}),l.a.createElement(v.a,{color:"primary",variant:"h1",sx:{fontWeight:500}},"DEF | RDC")),l.a.createElement(le,{theme:a,user:e}))}var le=function(e){var t=e.user;return l.a.createElement("div",{className:"user"},l.a.createElement(E.a,{style:{width:25,height:25,color:"#000"}}),l.a.createElement("div",{className:"user-detailes"},l.a.createElement(v.a,{variant:"caption"},t&&l.a.createElement("span",null,t.prenom))),l.a.createElement(O.a,{fontSize:"small",color:"inherit"}))},ie=Object(m.a)("div")(function(){return{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"}}),ce=Object(m.a)("div")(function(){return{width:300,padding:"20px 10px"}}),oe=Object(m.a)("div")(function(){return{display:"flex",flexDirection:"column",padding:"20px 0"}}),ue=Object(m.a)("div")(function(e){return{padding:"10px 7px",display:"flex",alignItems:"center",cursor:"pointer",width:"fit-content",borderRadius:5,transition:"all .2s","&:not(:last-child)":{marginBottom:7},"& > svg":{marginRight:10},"& > span":{fontSize:14},"&.menu-card:hover":{boxShadow:e.theme.shadows[1],padding:"10px 20px"}}}),se=Object(m.a)("div")(function(){return{position:"absolute",bottom:0,left:0,right:0,"& > .copy-right":{display:"block",fontSize:14,padding:"15px 10px"}}}),de=function(e){var t=e.open,a=e.assujetti,n=e.toggleMenu;return l.a.createElement(p.a,{anchor:"left",open:t,onClose:n,onOpen:n,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0)"}}},l.a.createElement(ce,null,l.a.createElement(ie,null,l.a.createElement(g.a,{sx:{mr:2},onClick:n},l.a.createElement(D.a,{fontSize:"small"})),l.a.createElement("a",{href:te()},l.a.createElement(h.a,{endIcon:l.a.createElement(S.a,null),color:"primary",variant:"text"},"Accueil"))),l.a.createElement(d.a,null,l.a.createElement(oe,null,l.a.createElement(v.a,{variant:"h1",sx:{mb:3,fontWeight:600,pl:1}},"Modules du DEF"),l.a.createElement(ue,{className:"menu-card"},l.a.createElement(N.a,{color:"success"}),l.a.createElement(v.a,{variant:"caption"},"Gestion des commandes")),l.a.createElement(f.b,{to:"/stock",target:"_blank"},l.a.createElement(ue,{className:"menu-card"},l.a.createElement(C.a,{color:"secondary"}),l.a.createElement(v.a,{variant:"caption"},"Gestion des stocks"))),l.a.createElement(f.b,{to:"/facturation",target:"_blank"},l.a.createElement(ue,{className:"menu-card"},l.a.createElement(z.a,{color:"default"}),l.a.createElement(v.a,{variant:"caption"},"Vente et facturation"))),l.a.createElement(ue,{className:"menu-card"},l.a.createElement(I.a,{color:"primary"}),l.a.createElement(v.a,{variant:"caption"},"Comptabilit\xe9 et caisse")),l.a.createElement(ue,{className:"menu-card"},l.a.createElement(q.a,{color:"info"}),l.a.createElement(v.a,{variant:"caption"},"Partenaires de commerce"))))),l.a.createElement(se,null,l.a.createElement(ue,null,l.a.createElement(F.a,{color:"info"}),l.a.createElement(v.a,{variant:"caption"},a.raison_sociale)),l.a.createElement(x.a,null),l.a.createElement(v.a,{variant:"caption",className:"copy-right",color:"GrayText"},"\xa9 DGI RDC tous droits reserv\xe9s.")))},me=a(96),pe=a(584),fe=a(1134),be=["onChange"],ge=["label","value","onChange","name","id","variant"],ve=r.forwardRef(function(e,t){var a=e.onChange,n=Object(me.a)(e,be);return r.createElement(pe.a,Object.assign({},n,{mask:"00/00/0000",definitions:{"#":/[1-9]/},inputRef:t,onAccept:function(t){return a({target:{name:e.name,value:t}})},overwrite:!0}))});var Ee=r.memo(function(e){var t=e.label,a=e.value,n=e.onChange,l=e.name,i=e.id,c=e.variant,o=Object(me.a)(e,ge);return r.createElement(fe.a,Object.assign({},o,{label:t,value:a,onChange:n,name:l||"numberformat",id:i,InputProps:{inputComponent:ve},variant:c||"standard"}))}),he=a(16),xe=a(1141);var je=r.memo(function(e){var t=e.options,a=e.label,n=e.minWidth,l=e.value,i=e.setValue,c=e.placeholder,o=e.textFieldXs,u=e.error,s=e.helperText,d=e.sx,m=e.disabled;return r.createElement(xe.a,{id:"combo-box",sx:Object(he.a)({minWidth:n||300},d),disabled:m,value:l,onChange:function(e,t){i(t)},options:t||[],isOptionEqualToValue:function(e,t){return e.id===t.id},autoHighlight:!0,getOptionLabel:function(e){return e.label},renderInput:function(e){return r.createElement(fe.a,Object.assign({placeholder:c||""},e,{label:a,sx:o,error:u,helperText:s}))}})});a(663);var Oe=a(1153);function ye(e){var t=e.message,a=e.sx,n=e.size;return l.a.createElement(d.a,{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",sx:a},l.a.createElement(v.a,{variant:"body1",color:"GrayText",sx:{mb:2}},t),l.a.createElement(Oe.a,{size:n||40,color:"primary"}))}var Se=a(539),ke=["onChange","prefix","suffix"],Ce=["prefix","suffix","variant","value","onChange","placeholder","label","maxLength"],we=r.forwardRef(function(e,t){var a=e.onChange,n=e.prefix,l=e.suffix,i=Object(me.a)(e,ke);return r.createElement(Se.a,Object.assign({},i,{getInputRef:t,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,prefix:n||"",suffix:l||""}))});var Ne=r.memo(function(e){e.prefix,e.suffix;var t=e.variant,a=e.value,n=e.onChange,l=e.placeholder,i=e.label,c=e.maxLength,o=Object(me.a)(e,Ce);return r.createElement(fe.a,Object.assign({},o,{label:i,placeholder:l,value:a,onChange:n,name:"numberformat",id:"formatted-numberformat-input",inputProps:{maxLength:c},InputProps:{inputComponent:we},variant:t}))}),Te=a(8),ze=a(1139),_e=a(1154),Ie=Object(Te.a)("span")(function(e){var t=e.theme;return{borderRadius:"50%",width:16,height:16,boxShadow:"dark"===t.palette.mode?"0 0 0 1px rgb(16 22 26 / 40%)":"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"dark"===t.palette.mode?"#394b59":"#f5f8fa",backgroundImage:"dark"===t.palette.mode?"linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))":"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))",".Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"dark"===t.palette.mode?"#30404d":"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"dark"===t.palette.mode?"rgba(57,75,89,.5)":"rgba(206,217,224,.5)"}}}),Ae=Object(Te.a)(Ie)({backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}});function qe(e){return r.createElement(ze.a,Object.assign({sx:{"&:hover":{bgcolor:"transparent"}},disableRipple:!0,color:"default",checkedIcon:r.createElement(Ae,null),icon:r.createElement(Ie,null)},e))}var Re=r.memo(function(e){var t=e.label,a=e.disabled,n=e.value;return r.createElement(_e.a,{value:n,disabled:a,control:r.createElement(qe,null),label:t})}),Fe=a(122),We=a(1113),De=function(e){var t=e.minWidth,a=e.sx,n=e.value,r=e.setValue,i=e.options,c=e.placeholder,o=e.label,u=e.textFieldXs,s=e.error,d=e.helperText;return l.a.createElement(xe.a,{id:"combo-box",sx:Object(he.a)({minWidth:t||300},a),value:n,onChange:function(e,t){r(t)},popupIcon:l.a.createElement(We.a,null),options:i||[],isOptionEqualToValue:function(e,t){return e.id===t.id},autoHighlight:!0,getOptionLabel:function(e){return e.label},renderInput:function(e){return l.a.createElement(fe.a,Object.assign({placeholder:c||""},e,{label:o,sx:u,error:s,helperText:d}))}})},Pe=l.a.memo(function(e){var t=e.mb,a=e.value,n=e.onChange,r=Object(Fe.a)(d.a)(function(e){return{border:"1px solid #eaeaea",borderRadius:5,padding:"6.5px 14px",display:"flex",alignItems:"center",width:"100%",backgroundColor:e.theme.palette.common.white}}),i=Object(Fe.a)("input")(function(){return{border:"none",outline:0,fontSize:15,flex:1,backgroundColor:"inherit"}});return l.a.createElement(r,{mb:null!==t||void 0!==t?t:2},l.a.createElement(i,{placeholder:"Rechercher...",className:"search-input",value:a,onChange:n}),l.a.createElement(We.a,{fontSize:"small",color:"disabled"}))}),Me=a(1114),Be=a(1157),Ve=a(1155),Le=a(1156),Ue=a(1115);function He(e){var t=e.title,a=e.message,n=e.onAgree,l=e.disagreeBtnText,i=e.agreeBtnText,c=e.onDisagree,o=e.open,u=e.onClose,s=e.color;return r.createElement("div",null,r.createElement(Me.a,{open:o,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-message",color:s,sx:{"& .MuiDialog-container":{alignItems:"baseline"},"& h2":{fontSize:18,padding:"7px 10px"},"& .MuiDialogContent-root":{padding:"7px 10px"},"& p":{fontSize:14}}},r.createElement(Ue.a,{id:"alert-dialog-title"},t),r.createElement(Ve.a,null,r.createElement(Le.a,{id:"alert-dialog-message"},a)),r.createElement(Be.a,null,l&&r.createElement(h.a,{onClick:c},l),i&&r.createElement(h.a,{onClick:n,autoFocus:!0},i))))}var Qe=a(28),Ge=a(1064);function Je(){var e=Object(u.h)().numFacture,t=Object(r.useState)(null),a=Object(o.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!0),s=Object(o.a)(c,2),d=s[0],m=s[1];return Object(r.useEffect)(function(){e&&Q.a.get("/api/ventes/factures/".concat(e)).then(function(e){var t=e.data;console.log(t),t&&i(t)}).catch(function(e){console.log(e)}).finally(function(){m(!1)})},[e]),console.log(n),l.a.createElement(Ge.a,{open:!0},l.a.createElement("div",{style:Ke.frameContainer},d||!n?l.a.createElement(l.a.Fragment,null):l.a.createElement(Qe.PDFViewer,{width:"100%",height:"100%"},l.a.createElement(Qe.Document,null,l.a.createElement(Qe.Page,{style:Ke.body},l.a.createElement(Qe.View,{style:Ke.header},l.a.createElement(Qe.View,{style:Ke.headerSide},l.a.createElement(Qe.Text,{style:Ke.headerText},"Ste New Four Ways SARL-Mini"),l.a.createElement(Qe.Text,{style:Ke.headerText},"DEF-012334"),l.a.createElement(Qe.Text,{style:Ke.headerText},"Av: UBANGI NO.2 C/LEMBA"),l.a.createElement(Qe.Text,{style:Ke.headerText},"0971178768 - 0890011442"),l.a.createElement(Qe.Text,{style:Ke.headerText},"samkin1997@gmail.com"),l.a.createElement(Qe.Text,{style:Ke.headerText},"RCCM 14-B-01702 IDNAT 01-F4300-N34731P"),l.a.createElement(Qe.Text,{style:Ke.headerText},"NIMPOT A0909296Q")),l.a.createElement(Qe.View,{style:Ke.headerSide},l.a.createElement(Qe.Text,{style:Ke.headerText},"Ste New Four Ways SARL-Mini"),l.a.createElement(Qe.Text,{style:Ke.headerText},"DEF-012334"),l.a.createElement(Qe.Text,{style:Ke.headerText},"Av: UBANGI NO.2 C/LEMBA"),l.a.createElement(Qe.Text,{style:Ke.headerText},"0971178768 - 0890011442"),l.a.createElement(Qe.Text,{style:Ke.headerText},"samkin1997@gmail.com"),l.a.createElement(Qe.Text,{style:Ke.headerText},"RCCM 14-B-01702 IDNAT 01-F4300-N34731P"),l.a.createElement(Qe.Text,{style:Ke.headerText},"NIMPOT A0909296Q"))),l.a.createElement(Qe.View,{style:Ke.alignH},l.a.createElement(Qe.Text,{style:[Ke.text,{marginRight:10}]},"#",n.num_facture),l.a.createElement(Qe.Text,{style:[Ke.text,{marginRight:10}]},new Date(n.date).toLocaleDateString()),l.a.createElement(Qe.Text,{style:Ke.text},new Date(n.date).toLocaleTimeString())),l.a.createElement(Qe.View,{style:Ke.table},l.a.createElement(Xe,null),l.a.createElement(Qe.View,{style:Ke.tabBody},n.produits.map(function(e){return l.a.createElement($e,{produit:e,key:e.designation})})),l.a.createElement(Ye,{totalHT:n.total_ht,tva:n.total_tva})))))))}var Xe=function(){return l.a.createElement(Qe.View,{style:Object(he.a)(Object(he.a)({},Ke.tabHeader),Ke.tabRow)},l.a.createElement(Qe.Text,{style:Object(he.a)(Object(he.a)({},Ke.tabCol),Ke.designation)},"Article/Iteme"),l.a.createElement(Qe.Text,{style:Object(he.a)(Object(he.a)({},Ke.tabCol),Ke.pu)},"Prix U"),l.a.createElement(Qe.Text,{style:Object(he.a)(Object(he.a)({},Ke.tabCol),Ke.quantite)},"Qt\xe9"),l.a.createElement(Qe.Text,{style:Object(he.a)(Object(he.a)({},Ke.tabCol),Ke.total)},"Total"))},$e=function(e){var t=e.produit;return l.a.createElement(Qe.View,{style:Object(he.a)({},Ke.tabRow)},l.a.createElement(Qe.Text,{style:[Ke.tabCol,Ke.designation]},t.designation),l.a.createElement(Qe.Text,{style:Object(he.a)(Object(he.a)({},Ke.tabCol),Ke.pu)},t.prix_unitaire),l.a.createElement(Qe.Text,{style:[Ke.tabCol,Ke.quantite]},t.q_sortie),l.a.createElement(Qe.Text,{style:Object(he.a)(Object(he.a)({},Ke.tabCol),Ke.total)},t.total))},Ye=function(e){var t=e.totalHT,a=e.tva;return l.a.createElement(Qe.View,{style:Ke.tabFooter},l.a.createElement(Qe.View,{style:Ke.footerContent},l.a.createElement(Qe.View,{style:Ke.labelContainer},l.a.createElement(Qe.Text,{style:Ke.footerRow},"Total HT"),l.a.createElement(Qe.Text,{style:Ke.footerRow},"TVA (16%)"),l.a.createElement(Qe.Text,{style:Ke.footerRow},"Autres taxes"),l.a.createElement(Qe.Text,{style:[Ke.footerRow,{fontWeight:"bold",fontSize:15,borderTopColor:"#333",borderStyle:"dashed",borderTopWidth:1,marginTop:10}]},"Total \xe0 payer")),l.a.createElement(Qe.View,{style:Ke.valueContainer},l.a.createElement(Qe.Text,{style:Ke.footerRow},t),l.a.createElement(Qe.Text,{style:Ke.footerRow},a),l.a.createElement(Qe.Text,{style:Ke.footerRow},"0"),l.a.createElement(Qe.Text,{style:[Ke.footerRow,{fontWeight:"bold",fontSize:15,borderTopColor:"#333",borderStyle:"dashed",borderTopWidth:1,marginTop:10}]},t+a))))},Ke=Qe.StyleSheet.create({frameContainer:{height:"100vh",width:"100vw"},body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},alignH:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:20},header:{display:"flex",flexDirection:"row",justifyContent:"space-between"},headerSide:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},headerText:{fontSize:12,fontFamily:"Times-Roman"},text:{marginVertical:11,fontSize:12,fontFamily:"Times-Roman"},table:{marginTop:20,width:"100%"},tabHeader:{borderBottomColor:"#333",borderStyle:"dashed",borderBottomWidth:1,fontStyle:"bold"},tabRow:{display:"flex",flexDirection:"row"},designation:{paddingVertical:5,flexBasis:"40%",fontSize:12,fontFamily:"Times-Roman",textAlign:"left"},pu:{paddingVertical:5,flexBasis:"20%",fontSize:12,fontFamily:"Times-Roman",textAlign:"right"},quantite:{paddingVertical:5,flexBasis:"20%",fontSize:12,fontFamily:"Times-Roman",textAlign:"right"},total:{paddingVertical:5,flexBasis:"20%",fontSize:12,fontFamily:"Times-Roman",textAlign:"right"},tabFooter:{flexDirection:"row",borderTopColor:"#333",borderStyle:"dashed",borderTopWidth:1,justifyContent:"flex-end",paddingTop:10},footerContent:{flexDirection:"row",alignItems:"center",fontFamily:"Times-Roman"},footerRow:{fontSize:12,padding:3},labelContainer:{flexBasis:"20%",textAlign:"right"},valueContainer:{flexBasis:"20%",textAlign:"right"}}),Ze=a(1152),et=["open","handleClose","anchorEl","children","anchorOrigin"];function tt(e){var t=e.open,a=e.handleClose,n=e.anchorEl,l=e.children,i=e.anchorOrigin,c=Object(me.a)(e,et),o=t?"menu-popover":void 0;return r.createElement(Ze.a,Object.assign({},c,{id:o,open:t,anchorEl:n,onClose:a,anchorOrigin:i||{vertical:"bottom",horizontal:"left"},BackdropProps:{sx:{backgroundColor:"rgba(0,0,0,0)"}}}),l)}var at=a(1142),nt=a(1140);function rt(e){var t=e.autoHideDuration,a=Object(r.useContext)(Si),n=a.getFeedback,i=a.onClose,c=n(),o=c.openState,u=c.messageState,s=c.idState,d=c.typeState,m=function(e,t){"clickaway"!==t&&i()};return l.a.createElement("div",null,l.a.createElement(at.a,{key:s,open:o,autoHideDuration:t||6e3,onClose:m,TransitionProps:{onExited:function(){i()}}},l.a.createElement(nt.a,{onClose:m,severity:d||"info",sx:{width:"100%"},variant:"filled",elevation:6},u)))}var lt=Object(U.d)({name:"configs",initialState:{taux:2e3,devise:"CDF",status:"idle"},reducers:{setTaux:function(e,t){e.taux=t.taux},setDevise:function(e,t){e.devise=t.devise}}}),it=(lt.actions,lt.reducer),ct=function(e){return e.configs.taux},ot=function(e){return e.configs.devise},ut=Object(m.a)(d.a)(function(){return{display:"flex",flexDirection:"column",flex:1}}),st=Object(m.a)(v.a)(function(){return{display:"flex",alignItems:"center",color:"#666","&":{fontSize:14},"& .value":{fontSize:20,fontWeight:"600",marginLeft:10}}});function dt(){var e=Object(P.c)(ct),t=Object(P.c)(ot);return l.a.createElement("div",{style:{marginTop:24}},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Devise et taux"),l.a.createElement(ut,{"aria-label":"provenance",name:"provenance des produits ou marchandises",value:t,className:"devise",sx:{display:"flex",flexDirection:"column",flex:1}},l.a.createElement(st,null,l.a.createElement("span",null,"Devise :  "),l.a.createElement("span",{className:"value"},t)),l.a.createElement(st,null,l.a.createElement("span",null,"Taux : "),l.a.createElement("span",{className:"value"},ae(e),"Fc"))))}var mt=a(1143),pt=["label"],ft=Object(Te.a)("span")(function(e){var t=e.theme;return{borderRadius:3,width:16,height:16,boxShadow:"dark"===t.palette.mode?"0 0 0 1px rgb(16 22 26 / 40%)":"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"dark"===t.palette.mode?"#394b59":"#f5f8fa",backgroundImage:"dark"===t.palette.mode?"linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))":"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))",".Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"dark"===t.palette.mode?"#30404d":"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"dark"===t.palette.mode?"rgba(57,75,89,.5)":"rgba(206,217,224,.5)"}}}),bt=Object(Te.a)(ft)({backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}});function gt(e){return r.createElement(mt.a,Object.assign({sx:{"&:hover":{bgcolor:"transparent"}},disableRipple:!0,color:"default",checkedIcon:r.createElement(bt,null),icon:r.createElement(ft,null),inputProps:{"aria-label":"Checkbox demo"}},e))}function vt(e){var t=e.label,a=Object(me.a)(e,pt);return r.createElement(_e.a,{control:r.createElement(gt,a),label:t})}var Et=a(587),ht=a(1132),xt=a(1061),jt=a(1137);function Ot(){var e=r.useState(new Date),t=Object(o.a)(e,2),a=t[0],n=t[1];return r.createElement(xt.b,{locale:Et.a,dateAdapter:ht.a},r.createElement(jt.a,{inputFormat:"MMMM-yyyy",mask:"__/__/____",views:["year","month"],minDate:new Date("2012-03-01"),maxDate:new Date("2023-06-01"),value:a,onChange:n,components:{OpenPickerIcon:O.a},renderInput:function(e){return r.createElement(fe.a,Object.assign({},e,{helperText:null,sx:{m:0,border:"none","& fieldset":{border:"none"}}}))}}))}a(917);var yt=a(550),St=a.n(yt),kt=a(549),Ct=a.n(kt),wt=a(1117),Nt=a(30),Tt=function(){var e=Object(L.a)(V.a.mark(function e(t,a,n){var r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t)&&""!==r&&!(r.length<5)){e.next=3;break}return e.abrupt("return");case 3:if(!zt(r,a.num_def)){e.next=5;break}return e.abrupt("return");case 5:r=r.replaceAll("/","").replaceAll("-",""),n(!0),Q.a.post("/api/assujetti/by_def/".concat(r),{numero_def:t}).then(function(e){var t=e.data;t.numero_def?n(!1,t,null):n(!1,null,t.message)}).catch(function(e){n(!1,null,e)});case 8:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),zt=function(e,t){return e===t};function _t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=0,n=0,r=t,l=[],i=[],c=0,o=Object(Nt.a)(e).sort(function(e,t){return ee(e.createdAt,t.createdAt)}),u=function(){var u=o[a];if(r-=u.quantite_entree,i=i.filter(function(e){return e.entreeId!==u.id}),r<0){var s=Math.abs(r);n=t,i.push({entreeId:u.id,q_sortie:n,q_entree:s})}else n=u.quantite_entree,i.push({entreeId:u.id,q_sortie:n,q_entree:0}),l=e.filter(function(e){return e.id!==u.id});c+=n*u.pv_unitaire,a++};r>0&&a<e.length;)u();return{prixTotal:c,entreeSortie:i,newEntrees:l}}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=0,n=0;e.forEach(function(e){a=e.quantiteSortie+a,n+=e.prixTot}),t&&!isNaN(+t)&&(n*=1-+t/100);var r=.16*n;return{q:a,sousTotal:n,tva:r,netAPayer:n+r}}function At(e){var t=e.handleChangeClient,a=e.autreTaxes,n=e.setAutreTaxes,i=e.setDefValue,c=e.clientError,u=Object(P.c)($),s=Object(r.useState)(""),d=Object(o.a)(s,2),m=d[0],p=d[1],f=Object(r.useState)({}),b=Object(o.a)(f,2),g=b[0],E=b[1],h=Object(r.useState)(!1),j=Object(o.a)(h,2),O=j[0],y=j[1],S=Object(r.useState)("idle"),k=Object(o.a)(S,2),C=k[0],w=k[1],N=Object(r.useState)(null),T=Object(o.a)(N,2),z=T[0],_=T[1];return Object(r.useEffect)(function(){u&&zt(m,u.numero_def)?_("Op\xe9ration refus\xe9e."):_(null),w("idle"),setTimeout(function(){Tt(m,u.numero_def,function(e,a,n){y(e),E(a||{}),t(a,e),w(n?"unfound":"found")})},200)},[m,u,t]),Object(r.useEffect)(function(){""===m&&"idle"!==C&&w("idle")},[m,C]),l.a.createElement("div",{className:"default-values"},l.a.createElement("form",null,l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Client"),l.a.createElement(wt.a,{display:"flex",alignItems:"center",mb:1.5},l.a.createElement(fe.a,{variant:"outlined",label:"Num\xe9ro DEF",value:m,onChange:function(e){p(e.target.value),i(e.target.value)},placeholder:"Num\xe9ro DEF du client",sx:{mr:2},error:!(!c&&!z),helperText:c||z}),O?l.a.createElement(Oe.a,{size:12,color:"primary"}):l.a.createElement(l.a.Fragment,null,"found"===C&&l.a.createElement(Ct.a,{fontSize:"small",color:"success"}),"unfound"===C&&l.a.createElement(St.a,{fontSize:"small",color:"error"}))),l.a.createElement(v.a,{variant:"caption",className:"small",style:{display:"block"}},"D\xe9nomination solciale du client"),l.a.createElement("div",{className:"denomination"},l.a.createElement(v.a,{variant:"caption"},g.raison_sociale))),l.a.createElement(x.a,{sx:{mt:2,mb:2}}),l.a.createElement(dt,null),l.a.createElement(x.a,{sx:{mt:2,mb:2}}),l.a.createElement(wt.a,{mt:2},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Taxes"),l.a.createElement("ul",{className:"taxes"},l.a.createElement("li",{className:"taxe"},l.a.createElement(v.a,{variant:"subtitle2",className:"small"},"TVA : ",l.a.createElement("span",{className:"tva"},"16%"))),l.a.createElement("li",{className:"taxe autre-taxe"},l.a.createElement(v.a,{variant:"subtitle2",className:"small"},"Autre taxe :"),l.a.createElement(Ne,{suffix:"%",value:a,onChange:function(e){return n(e.target.value)},label:"Taxe en %",maxLength:parseFloat(a)>100?3:7,error:parseFloat(a)>100,helperText:parseFloat(a)>100&&"Le pourcentage ne doit pas d\xe9passer 100"})))))}var qt,Rt,Ft=a(222),Wt=a.n(Ft),Dt=a(551),Pt=a.n(Dt),Mt=Object(U.c)({selectId:function(e){return e.id}}),Bt=Mt.getInitialState({status:"idle",venteRequestStatus:"idle",errors:null,categories:[]}),Vt=(Object(U.b)("produits/get-categories-produit",function(){var e=Object(L.a)(V.a.mark(function e(t){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("/api/produits/categories",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(U.b)("produits/get-categories-produit",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/produits/categories");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})))),Lt=Object(U.b)("produits/get-for-entreprise",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/produits");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),Ut=Object(U.b)("produits/get-for-entreprise-vente",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/ventes/data");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),Ht=Object(U.b)("produits/creer",function(){var e=Object(L.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,Q.a.post("/api/produits",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Qt=Object(U.d)({name:"produit",initialState:Bt,reducers:{initError:function(e){e.errors=null},appendProduit:function(e,t){t.payload&&Mt.upsertOne(e,t.payload)},appendCategorie:function(e,t){t.payload&&(e.categories=[].concat(Object(Nt.a)(e.categories),[t.payload]))}},extraReducers:(qt={},Object(M.a)(qt,Vt.pending,function(e){e.status="loading"}),Object(M.a)(qt,Vt.fulfilled,function(e,t){e.status="fulfilled",e.categories=t.payload}),Object(M.a)(qt,Vt.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(qt,Lt.pending,function(e){e.status="loading"}),Object(M.a)(qt,Lt.fulfilled,function(e,t){e.status="fulfilled",Mt.upsertMany(e,t.payload)}),Object(M.a)(qt,Lt.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(qt,Ut.pending,function(e){e.venteRequestStatus="loading"}),Object(M.a)(qt,Ut.fulfilled,function(e,t){e.venteRequestStatus="fulfilled",Mt.upsertMany(e,t.payload)}),Object(M.a)(qt,Ut.rejected,function(e,t){e.venteRequestStatus="failed",e.errors=t.payload}),Object(M.a)(qt,Ht.pending,function(e){e.status="loading"}),Object(M.a)(qt,Ht.fulfilled,function(e,t){if("success"===t.payload.state)e.status="fulfilled",Mt.upsertOne(e,t.payload.produit);else{e.status="failed";var a=t.payload;a&&a.message?e.errors=a.message:e.errors="Une erreur est survenue lors de l'enregistrement du produit. Veuillez r\xe9esayer."}}),Object(M.a)(qt,Ht.rejected,function(e,t){e.status="failed",e.errors=t.payload}),qt)}),Gt=Qt.reducer,Jt=Qt.actions,Xt=Mt.getSelectors(function(e){return e.produits}),$t=Xt.selectAll,Yt=(Xt.selectById,function(e){return e.produits.status}),Kt=function(e){return e.produits.errors},Zt=function(e){return e.produits.categories},ea=function(e){var t=Object.values(e.produits.entities);return{all:t.length,dispo:t.filter(function(e){return e.quantite>0}).length,indispo:t.filter(function(e){return e.quantite<=0}).length,alert:t.filter(function(e){return e.quantite<=e.quantite_min}).length}},ta=function(e,t,a){var n=Object.values(e.produits.entities);return t&&""!==t&&(n=Object.values(n).filter(function(e){return e.categorieProduitId===t})),"tous"===a?n:"dispo"===a?n.filter(function(e){return e.quantite>0}):"indispo"===a?n.filter(function(e){return e.quantite<=0}):"alert"===a?n.filter(function(e){return e.quantite<=e.quantite_min}):void 0},aa=Object(U.c)({selectId:function(e){return e.id}}),na=aa.getInitialState({status:"idle",errors:null,count:null}),ra=Object(U.b)("ventes/nouvelle vente",function(){var e=Object(L.a)(V.a.mark(function e(t){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("/api/ventes",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),la=Object(U.b)("ventes/nombre des ventes",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/ventes/count");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),ia=Object(U.d)({name:"vente",initialState:na,reducers:{addFactureCourante:function(e,t){e.factureRecente=t.payload}},extraReducers:(Rt={},Object(M.a)(Rt,la.pending,function(e){e.status="loading"}),Object(M.a)(Rt,la.fulfilled,function(e,t){e.status="fulfilled",e.count=t.payload.count}),Object(M.a)(Rt,la.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(Rt,ra.pending,function(e){e.status="loading"}),Object(M.a)(Rt,ra.fulfilled,function(e,t){if("success"===t.payload.state){e.status="fulfilled";var a=Object(he.a)(Object(he.a)({},t.payload.facture),{},{ventes:t.payload.ventes});e.factureRecente=a}else e.status="fulfilled",e.errors=t.payload}),Object(M.a)(Rt,ra.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Rt)}),ca=ia.reducer,oa=(ia.actions,aa.getSelectors(function(e){return e.ventes})),ua=(oa.selectAll,oa.selectById,function(e){return e.ventes.status}),sa=function(e){return e.ventes.count},da=Object(Te.a)("div")(function(e){e.theme;return{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),padding:"0px 0px 0px 10px",fontWeight:600,"&.body":{backgroundColor:"#fff",display:"flex",alignItems:"center",border:"1px solid #eaeaea",justifyContent:"space-between"},"&.body > span":{fontSize:13,padding:"5px 10px",backgroundColor:"#eaeaea",minWidth:43.94},"&.qt":{padding:"5px 10px"},"&.header":{textAlign:"right",padding:"5px 0px"},"&.total":{fontSize:25},"&.total.body > span":{fontSize:20}}}),ma=Object(Te.a)("input")(function(){return{fontSize:16,border:"none",outline:"none"}}),pa=Object(Te.a)("div")(function(){return{display:"flex",flexDirection:"column",width:"100%",textAlign:"left","&.body":{border:"1px solid #eaeaea",borderRadius:5,marginLeft:15},"&:last-child td, &:last-child th":{border:0}}}),fa=Object(Te.a)("div")(function(){return{display:"flex",alignItems:"center",maxWidth:400,"&.total":{width:"100%",marginTop:20}}});function ba(e){var t=e.qT,a=e.sT,n=e.tva,r=e.nP,i=e.devise,c=e.remise,o=e.setRemise;return l.a.createElement(l.a.Fragment,null,l.a.createElement(fa,null,l.a.createElement(pa,{className:"header"},l.a.createElement(da,{className:"header"},"Quantit\xe9 totale"),l.a.createElement(da,{className:"header"},"Sous-total(H.T)"),l.a.createElement(da,{className:"header"},"R\xe9mise"),l.a.createElement(da,{className:"header center"},"T.V.A (16%)")),l.a.createElement(pa,{className:"body"},l.a.createElement(da,{className:"body qt"},t),l.a.createElement(da,{className:"body"},ae(a),l.a.createElement("span",null,i)),l.a.createElement(da,{className:"body"},l.a.createElement(ma,{disabled:!0,value:c,onChange:function(e){return o(e.target.value)},placeholder:"Remise globale (0)"}),l.a.createElement("span",null,"%")),l.a.createElement(da,{className:"body"},ae(n),l.a.createElement("span",null,i)))),l.a.createElement(fa,{className:"total"},l.a.createElement(pa,{className:"header total"},l.a.createElement(da,{className:"header total"},"Net \xe0 payer")),l.a.createElement(pa,{className:"body total"},l.a.createElement(da,{className:"body total"},ae(r),l.a.createElement("span",null,i)))))}var ga,va=a(1063),Ea=Object(Te.a)("div")(function(e){var t,a=e.theme;return t={fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),padding:"10px 10px"},Object(M.a)(t,"&.header",{backgroundColor:a.palette.primary.light,color:a.palette.common.white,padding:"5px 10px"}),Object(M.a)(t,"&.body",{fontSize:16,padding:"10px 10px"}),Object(M.a)(t,"&.right",{textAlign:"right"}),Object(M.a)(t,"&.left",{textAlign:"left"}),Object(M.a)(t,"&.center",{textAlign:"center"}),t}),ha=Object(Te.a)(va.a)(function(e){var t=e.theme;return{display:"flex",alignItems:"center",cursor:"pointer",width:"100%",textAlign:"left","&.header":{backgroundColor:"".concat(t.palette.primary.light,"!important")},"&:nth-of-type(odd)":{backgroundColor:t.palette.grey[100],boxShadow:"0px 1px 0px 0px rgb(0 0 0 / 20%)"},"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:t.palette.action.focus},"&>div":{width:"25%"},"&>div:first-of-type":{width:"40%"},"&>div:last-child":{width:"10%"}}}),xa=["produit","produits","onChange","singleValue","onSingleChange"],ja=Object(Te.a)("div")(function(e){var t,a=e.theme;return t={fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},Object(M.a)(t,"&.header",{backgroundColor:a.palette.primary.main,color:a.palette.common.white,padding:"5px 2px"}),Object(M.a)(t,"&.body:not(:last-child)",{fontSize:16,border:"1px solid #eaeaea",padding:"4px 10px"}),Object(M.a)(t,"&.right",{textAlign:"right"}),Object(M.a)(t,"&.left",{textAlign:"left"}),Object(M.a)(t,"&.center",{textAlign:"center"}),t}),Oa=Object(Te.a)("input")(function(e){e.theme;return{fontSize:16,padding:"6px 10px",border:"1px solid #eaeaea",outline:"none"}}),ya=Object(Te.a)("div")(function(e){var t=e.theme;return{display:"flex",alignItems:"center",width:"100%",textAlign:"left","&.header":{backgroundColor:"".concat(t.palette.primary.main,"!important")},"&:last-child td, &:last-child th":{border:0},"&>*":{width:"25%"},"&>div:first-of-type ":{width:"40%"},"&>div:last-child":{width:"fit-content"},"&.body > div:first-of-type > div > div":{padding:"2px 6px"}}}),Sa=function(e){var t=e.produit,a=e.produits,n=e.onChange,i=e.singleValue,c=e.onSingleChange,u=Object(me.a)(e,xa),s=Object(r.useState)(0),d=Object(o.a)(s,2),m=d[0],p=d[1];return l.a.useEffect(function(){t&&p(t.quantiteSortie)},[t]),l.a.useEffect(function(){null===i&&void 0===i||t||p(i)},[t,i]),l.a.createElement(Oa,Object.assign({},u,{inputMode:"numeric",type:"number",value:m,maxLength:10,onChange:function(e){var r=parseFloat(e.target.value>0?e.target.value:0);if(t&&e.target.value>=0){var l=a.find(function(e){return e.id===t.id});if(l&&r>l.quantite)return;p(e.target.value),"function"===typeof n&&n(t.id,r),"function"===typeof c&&c(r)}}}))},ka=function(e,t,a,n){var r=!0,l={};return e||""===t&&null===t&&void 0===t||(r=!1,l.client="Le num\xe9ro DEF du client est invalide"),(!a||""===a||+a<=0)&&(r=!1,l.taux="Le taux de vente est r\xe9quis en Fc"),"USD"!==n&&"CDF"!==n&&(r=!1,l.devise="Sp\xe9cifiez la devise"),{valid:r,errors:l}},Ca=function(e){var t=!0,a=null;return e&&0!==e.length?(t=!e.some(function(e){return e.quantiteSortie<=0}))||(a="Toutes les quantit\xe9s doivent \xeatre superieur \xe0 z\xe9ro."):(a="S\xe9l\xe9ctionnez au moins un produit.",t=!1),{valid:t,error:a}};function wa(e){var t=e.open,a=e.closeHandler,n=e.submitHandler,i=e.numFacture,c=e.devise,u=e.assujetti,s=Object(P.c)($t),d=Object(r.useState)(s),m=Object(o.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)([]),g=Object(o.a)(b,2),E=g[0],j=g[1],O=Object(r.useState)(0),y=Object(o.a)(O,2),S=y[0],k=y[1],C=Object(r.useState)(0),w=Object(o.a)(C,2),N=w[0],T=w[1],z=Object(r.useState)(0),_=Object(o.a)(z,2),I=_[0],A=_[1],q=Object(r.useState)(0),R=Object(o.a)(q,2),F=R[0],W=R[1],D=Object(r.useState)([]),M=Object(o.a)(D,2),B=M[0],V=M[1],L=Object(r.useState)({alert:!1,message:""}),U=Object(o.a)(L,2),H=U[0],Q=U[1],G=Object(r.useState)(0),J=Object(o.a)(G,2),X=J[0],$=J[1],Y=Object(r.useState)(null),K=Object(o.a)(Y,2),Z=K[0],ee=K[1],te="loading"===Object(P.c)(ua),ne=Object(r.useState)(null),re=Object(o.a)(ne,2),le=re[0],ie=re[1],ce=Object(r.useState)(0),oe=Object(o.a)(ce,2),ue=oe[0],se=oe[1],de=Object(r.useState)(0),me=Object(o.a)(de,2),pe=me[0],fe=me[1],be=function(){Q(!0)},ge=function(e){var t=[];if(e||0===e){var a=E.find(function(t,a){return a===e});a&&f([].concat(Object(Nt.a)(p),[a])),t=E.filter(function(t,a){return a!==e})}j(t)},ve=function(e,t){var a=s.find(function(t){return t.id===e}),n=parseFloat(t);if(n>a.quantite)Q({alert:!0,message:"Le stock est \xe9puis\xe9!"});else{var r=E.find(function(t){return t.id===e});if(r){r.quantiteSortie=n;var l=_t(r.entrees,r.quantiteSortie),i=l.prixTotal,c=l.entreeSortie;r.prixTot=i,r.venteStock=c;var o=It(E),u=o.q,d=o.sousTotal,m=o.tva,p=o.netAPayer;k(u),T(d),A(m),W(p)}}},Ee=Object(P.b)();return Object(r.useEffect)(function(){0===s.length&&u&&(Ee(Ut(u.id)),f(s))},[u,Ee]),Object(r.useEffect)(function(){if(le){var e=_t(le.entrees,parseFloat(ue)),t=e.prixTotal,a=e.entreeSortie;fe(t),V(a)}},[le,ue]),Object(r.useEffect)(function(){var e=It(E),t=e.q,a=e.sousTotal,n=e.tva,r=e.netAPayer;k(t),T(a),A(n),W(r)},[E]),l.a.createElement(Ge.a,{open:t,onClose:a},l.a.createElement("div",{className:"content-container"},H.alert&&l.a.createElement(He,{open:H.alert,title:"Alerte stock",message:H.message||"Stock de s\xe9curit\xe9 d\xe9j\xe0 atteint. Produit indisponible.",agreeBtnText:"Ok",onClose:be,onAgree:be}),Z&&l.a.createElement(He,{open:!!Z,title:"Erreur",color:"warning",message:Z,agreeBtnText:"Ok",onClose:function(){return ee(null)},onAgree:function(){return ee(null)}}),l.a.createElement("header",null,l.a.createElement(v.a,null,"Facture ",i),l.a.createElement(wt.a,{display:"flex",alignItems:"center"},l.a.createElement(h.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){if(!te){var e=Ca(E),t=e.valid,a=e.error;if(ee(a),t){var r={facture:{net_payer:F,tva:I},ventes:E.map(function(e){return{q_sortie:e.quantiteSortie,prix_unitaire:e.prixTot/e.quantiteSortie,tva:.16*e.prixTot,produitId:e.id,venteStock:e.venteStock}})};n(r)}}},sx:{minWidth:113.19,height:36.5,mr:2}},te?l.a.createElement(Oe.a,{size:12,color:"inherit"}):"Enregistrer"),l.a.createElement(h.a,{variant:"outlined",color:"default",disableElevation:!0,disabled:te,onClick:function(){j([]),a()}},"Annuler"))),l.a.createElement("div",{className:"inner-facturation-content"},l.a.createElement("div",{className:"produits-side"},l.a.createElement(Pe,null),l.a.createElement("div",{className:"product-list"},l.a.createElement(v.a,{variant:"caption",className:"small"},"Ces produits se trouvent dans le"," ",l.a.createElement("strong",null,"stock principal"),"."),l.a.createElement(x.a,{sx:{mt:2}}),l.a.createElement("div",{className:"produits-list"},l.a.createElement(ha,{className:"header"},l.a.createElement(Ea,{className:"header"},"Produit"),l.a.createElement(Ea,{className:"header"},"Prix unitaire"),l.a.createElement(Ea,{className:"header center"},"Disponible"),l.a.createElement(Ea,{className:"header center"})),s.map(function(e){return l.a.createElement(ha,{key:e.id,onClick:function(){return function(e){if(0!==e.quantite){var t=Object(he.a)(Object(he.a)({},e),{},{quantiteSortie:0,prixTot:0,venteStock:[]}),a=[].concat(Object(Nt.a)(E),[t]),n=E.find(function(t){return t.id===e.id});if(n){if(n.quantiteSortie>=e.quantite)return void Q({alert:!0,message:"Le stock est \xe9puis\xe9!"});n.quantiteSortie=n.quantiteSortie+1;var r=_t(n.entrees,n.quantiteSortie),l=r.prixTotal,i=r.entreeSortie;n.prixTot=l,n.venteStock=i;var c=It(E),o=c.q,u=c.sousTotal,s=c.tva,d=c.netAPayer;k(o),T(u),A(s),W(d),a=[].concat(Object(Nt.a)(E.filter(function(e){return e.id!==n.id})),[Object(he.a)({},n)])}j(a);var m=p.filter(function(t){return t.id!==e.id});f(m)}else Q({alert:!0,message:"Le stock est \xe9puis\xe9!"})}(e)}},l.a.createElement(Ea,{className:"body"},e.designation),l.a.createElement(Ea,{className:"body right"}),l.a.createElement(Ea,{className:"body center"},e.quantite),l.a.createElement(Ea,{className:"body"},e.unite))})))),l.a.createElement("div",{className:"produits-side"},l.a.createElement("div",{className:"selected-products"},l.a.createElement(ya,{className:"header"},l.a.createElement(ja,{className:"header"},"Produit"),l.a.createElement(ja,{className:"header"},"Quantit\xe9"),l.a.createElement(ja,{className:"header"},"Prix total"),l.a.createElement(ja,{className:"header center"},l.a.createElement(h.a,{tabIndex:1e3,size:"small",disableElevation:!0,variant:"contained",sx:{borderRadius:0,minWidth:"50px"},color:"primary",onClick:function(){return ge()}},l.a.createElement(Wt.a,{fontSize:"small"})))),E.map(function(e,t){return l.a.createElement(ya,{className:"body",key:"".concat(e.id,"_").concat(t)},l.a.createElement(ja,{className:"body"},e.code_produit),l.a.createElement(Sa,{produit:e,produits:s,sx:{m:0},type:"multiple",onChange:ve}),l.a.createElement(ja,{className:"body"},ae(e.prixTot)),l.a.createElement(ja,{className:"body"},l.a.createElement(h.a,{tabIndex:t+s.length,size:"small",disableElevation:!0,variant:"contained",sx:{borderRadius:0,minWidth:"50px"},color:"primary",onClick:function(){return ge(t)}},l.a.createElement(Wt.a,{fontSize:"small"}))))}),l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),le&&ue>0){j([].concat(Object(Nt.a)(E),[Object(he.a)(Object(he.a)({},le),{},{quantiteSortie:parseFloat(ue),prixTot:pe,venteStock:B})])),ie(null);var t=p.filter(function(e){return e.id!==le.id});f(t),se(0),fe(0)}}},l.a.createElement(ya,{className:"body new"},l.a.createElement(je,{minWidth:"40%",value:le,setValue:function(e){0===e.quantite||e.quantite<e.q_min||ie(e?Object(he.a)(Object(he.a)({},e),{},{quantiteSortie:parseFloat(ue),prixTot:0,venteStock:[]}):null)},options:p.map(function(e){return Object(he.a)({label:e.designation},e)}),textFieldXs:{padding:0,margin:0}}),l.a.createElement(Sa,{produit:le,singleValue:ue,produits:s,onSingleChange:function(e){return se(e)},sx:{m:0}}),l.a.createElement(ja,{className:"body"},ae(pe)),l.a.createElement(ja,{className:"body"},l.a.createElement(h.a,{tabIndex:1e3,size:"small",disableElevation:!0,variant:"contained",type:"submit",sx:{borderRadius:0,minWidth:"50px"},color:"primary"},l.a.createElement(Pt.a,{fontSize:"small"})))))),l.a.createElement(wt.a,{mt:3,display:"flex",alignItems:"flex-end",flexDirection:"column"},l.a.createElement(ba,{qT:S,sT:N,tva:I,nP:F,devise:c,remise:X,setRemise:$}))))))}var Na=Object(U.c)({selectId:function(e){return e.id}}).getInitialState({error:null,status:"idle",currentFacture:null,printFacture:null}),Ta=(Object(U.b)("facture/get all",Object(L.a)(V.a.mark(function e(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))),Object(U.b)("facture/get current",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/ventes/facture_recente");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})))),za=Object(U.d)({name:"facture",initialState:Na,reducers:{setCurrentFacture:function(e,t){var a=t.payload;e.currentFacture=a},setPrintFacture:function(e,t){var a=t.payload;e.printFacture=a}},extraReducers:(ga={},Object(M.a)(ga,Ta.pending,function(e,t){e.status="idle"}),Object(M.a)(ga,Ta.fulfilled,function(e,t){var a=t.payload;a&&a.facture&&(e.currentFacture=t.payload.facture),e.status="fulfilled"}),Object(M.a)(ga,Ta.rejected,function(e,t){e.status="failed"}),ga)}),_a=za.actions,Ia=za.reducer,Aa=function(e){return e.factures.currentFacture},qa=function(){var e=Object(P.c)($t),t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],l=a[1],i=Object(P.b)(),c=Object(r.useCallback)(Object(L.a)(V.a.mark(function e(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,i(Ut());case 3:return e.next=5,i(la());case 5:l(!1);case 6:case"end":return e.stop()}},e)})),[i]);return Object(r.useEffect)(function(){c()},[c]),{data:e,loading:n}},Ra=function(){return Object(P.c)(sa)+1},Fa=a(593),Wa=a(553),Da=a.n(Wa),Pa=a(552),Ma=a.n(Pa);function Ba(){var e=Object(P.c)(Aa),t=Object(Fe.a)("div")(function(){return{marginTop:30,"& > h2":{marginBottom:10}}}),a=Object(Fe.a)("div")(function(e){return{backgroundColor:"#fff",borderRadius:7,minWidth:"200px",maxWidth:"350px","& > span":{padding:e.theme.spacing(1,2),display:"flex",alignItems:"center"}}}),n=Object(Fe.a)("div")(function(e){return{display:"flex",alignItems:"cente",justifyContent:"space-between",width:"100%","& > span":{padding:e.theme.spacing(1,2),display:"flex",alignItems:"center"}}}),r=Object(Fe.a)("div")(function(e){var t=e.theme;return{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),padding:t.spacing(1,2),display:"flex",alignItems:"center","& > ul":{"& > li":{padding:t.spacing(.7,0),minHeight:32.19}},"& > ul:first-of-type":{marginRight:20}}});return l.a.createElement(Fa.a,{in:!0},l.a.createElement(t,null,l.a.createElement(v.a,{variant:"h2"},"Facture r\xe9cente"),e?l.a.createElement(a,null,l.a.createElement(n,null,l.a.createElement("span",null,l.a.createElement(v.a,{variant:"caption"},"#",e.num_facture)),l.a.createElement("span",null,l.a.createElement(v.a,{variant:"caption"},l.a.createElement("span",null,new Date(e.date).getHours())," ",":",l.a.createElement("span",null," ",new Date(e.date).getMinutes()))),l.a.createElement("span",null,l.a.createElement("a",{href:"/facture/".concat(e.num_facture),rel:"noopener noreferrer",target:"_blank"},l.a.createElement(g.a,null,l.a.createElement(Ma.a,{fontSize:"small"}))),l.a.createElement(g.a,null,l.a.createElement(Da.a,{fontSize:"small"})))),l.a.createElement(r,null,l.a.createElement("ul",null,l.a.createElement("li",null,"Client :"),l.a.createElement("li",null,"Quantit\xe9 :"),l.a.createElement("li",null,"T.V.A :"),l.a.createElement("li",null,"Net \xe0 payer :"),l.a.createElement("li",null,"R\xe8glement :")),l.a.createElement("ul",null,l.a.createElement("li",null,e.clientDef?e.clientDef:"Non d\xe9fini"),l.a.createElement("li",null,e.total_quantite),l.a.createElement("li",null,e.total_tva," ","USD"===e.devise?"$":"Fc"),l.a.createElement("li",null,e.total_ht+e.total_tva," ","USD"===e.devise?"$":"Fc"),l.a.createElement("li",null,e.mode_payement)))):l.a.createElement(a,{style:{backgroundColor:"#f9f9f9"}},l.a.createElement(r,null,l.a.createElement(v.a,{variant:"caption"},"Ici s'affichera la facture r\xe9cemment \xe9tablie")))))}function Va(){var e=Object(P.c)(ct),t=Object(P.c)(ot),a=Object(P.c)($),n=Ra(),i=Object(r.useState)(""),c=Object(o.a)(i,2),u=c[0],s=c[1],m=Object(r.useState)({}),p=Object(o.a)(m,2),f=p[0],b=p[1],g=Object(r.useState)(""),E=Object(o.a)(g,2),x=E[0],j=E[1],O=Object(r.useState)(!1),y=Object(o.a)(O,2),S=y[0],k=y[1],C=Object(r.useState)("Cash"),w=Object(o.a)(C,2),N=w[0],T=(w[1],Object(r.useState)("sold\xe9")),z=Object(o.a)(T,2),_=z[0],I=(z[1],Object(r.useState)(!1)),A=Object(o.a)(I,2),q=A[0],R=A[1],F=Object(r.useState)({}),W=Object(o.a)(F,2),D=W[0],M=W[1],B=l.a.useCallback(function(){var a=ka(f,u,e,t),n=a.valid,r=a.errors;M(r),n&&!q&&k(!S)},[S,f,u,t,q,e]),V=l.a.useCallback(function(e,t){b(e),R(t)},[]),L=Object(P.b)();return Object(r.useEffect)(function(){L(Ta())},[L]),l.a.createElement("div",{className:"home-page",style:{paddingTop:55,backgroundColor:"#ededed"}},S&&l.a.createElement(wa,{open:S,closeHandler:B,submitHandler:function(a){var r=Object(he.a)({},a);r.factureRef=n,r.clientDef=f.numero_def,r.etat_facture=_,r.mode_payement=N,r.taux=e,r.devise=t,L(ra(r)).then(function(e){var t=e.payload;t&&"success"===t.state&&(k(!1),L(Ut()),L(_a.setCurrentFacture(t.facture)))})},devise:t,numFacture:n,assujetti:a}),l.a.createElement("div",{className:"facturation"},l.a.createElement(At,{handleChangeClient:V,setDefValue:s,autreTaxes:x,setAutreTaxes:j,clientError:D.client}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("div",{className:"facture-details"},l.a.createElement("div",{className:"facturation-block"},l.a.createElement("div",{className:"form-header"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Facturation"),l.a.createElement(v.a,{variant:"h2",className:"block-title"},"N\xb0 du document : ",n)),l.a.createElement(d.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},l.a.createElement(h.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:B},"Cr\xe9er facture"),l.a.createElement(d.a,{display:"flex",alignItems:"center"},l.a.createElement(v.a,{variant:"caption"},"Date:"," ",(new Date).toLocaleDateString("fr")))))),l.a.createElement(Ba,null))))}var La=function(e,t){var a=Object(P.c)($),n=Object(P.c)(Y),l=Object(P.b)();Object(r.useEffect)(function(){return a&&e&&(console.log(e),e.emit("connected",{room:a.numero_def,userFonction:n.code_fonction,module:t}),e.on("new_added_product",function(e){console.log(e),e&&"nouveau produit"===e.message&&l(Jt.appendProduit(e.data))}),e.on("new_entree",function(e){console.log(e)})),function(){e.disconnect()}},[a,t,e,n.code_fonction])};function Ua(){var e=qa(),t=e.loading,a=e.data,n=Object(r.useState)(!1),i=Object(o.a)(n,2),c=i[0],s=i[1],d=Object(u.g)(),m=Object(r.useContext)(ki),p=function(){d("/")};return La(m,"vente"),Object(r.useEffect)(function(){var e=a.some(function(e){return e.quantite>0});s(e)},[a]),l.a.createElement(l.a.Fragment,null,t?l.a.createElement(wt.a,{height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"},l.a.createElement(ye,{message:"Chargement des donn\xe9es ..."})):c?l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/",element:l.a.createElement(Va,null)})):l.a.createElement(He,{open:!c,title:"Alerte stock",message:"Vous n'avez aucun produit dans votre stock. Voulez-vous continuer ?",agreeBtnText:"Continuer",disagreeBtnText:"Non",onClose:p,onAgree:function(){s(!0)},onDisagree:p}))}a(918),a(919);var Ha=a(1160),Qa=a(1162),Ga=a(1118),Ja=a(378),Xa=a(1158),$a=a(1161),Ya=a(1159),Ka=a(1119),Za=a(556),en=a.n(Za),tn=a(557),an=a.n(tn),nn=a(178),rn=a.n(nn),ln=a(555),cn=a.n(ln),on=a(383),un=a(1144),sn=a(1163),dn=a(1121),mn=a(1120),pn=Object(Te.a)("div")(function(){return{marginTop:10}}),fn=Object(Te.a)(wt.a)(function(){return{display:"flex",alignItems:"center","&.top > div:first-of-type":{marginRight:10},"&.top > div":{padding:"10px 0","& > *:last-child":{marginLeft:10}}}}),bn=Object(Te.a)("div")(function(){return{paddingBottom:"15px",width:"100%",display:"flex",flexWrap:"nowrap",alignItems:"center"}}),gn=Object(Te.a)(h.a)(function(){return{borderRadius:5,flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",color:"#fff!important",transition:"transform .2s",maxWidth:150,"&:not(:first-of-type)":{marginLeft:10},"& > span":{fontSize:15},"& > span:not(:first-of-type)":{fontWeight:"600"},"&.active":{transform:"scaleY(1.1)",boxShadow:"0px 0px 15px #00000054"}}}),vn=Object(Te.a)(Xa.a)(function(){return{marginTop:10,borderRadius:5,border:"1px solid #eaeaea"}}),En=Object(Te.a)(Ga.a)(function(e){var t,a=e.theme;return t={},Object(M.a)(t,"&.".concat(Ja.a.head),{backgroundColor:a.palette.common.white,color:a.palette.common.black,fontSize:15,padding:"7px 10px"}),Object(M.a)(t,"&.".concat(Ja.a.body),{fontSize:14,padding:"7px 10px","&.prodLink":{textDecoration:"none","&:hover":{textDecoration:"underline"}}}),t}),hn=Object(Te.a)(Ya.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function xn(){var e=Object(P.c)(Zt)||[],t=Object(b.a)(),a=l.a.useState([]),n=Object(o.a)(a,2),i=n[0],c=n[1],u=Object(r.useState)(null),s=Object(o.a)(u,2),d=s[0],m=s[1],p=Object(r.useState)("tous"),g=Object(o.a)(p,2),E=g[0],h=g[1],x=Object(r.useState)(null),j=Object(o.a)(x,2),O=j[0],y=j[1],S=Object(P.c)(function(e){return ta(e,d?d.id:null,E)}),k=Object(P.c)(ea),C=Object(P.b)(),w=function(e){h(e)};return Object(r.useEffect)(function(){e&&0!==e.length||C(Vt())},[]),l.a.createElement(pn,null,l.a.createElement("div",null,l.a.createElement(bn,null,l.a.createElement(gn,{color:"primary",variant:"contained",disableElevation:!0,disableRipple:!0,className:"tous"===E&&"active",onClick:function(){return w("tous")}},l.a.createElement("span",null,"Tous"),l.a.createElement("span",null,k.all)),l.a.createElement(gn,{color:"info",variant:"contained",disableElevation:!0,disableRipple:!0,className:"dispo"===E&&"active",onClick:function(){return w("dispo")}},l.a.createElement("span",null,"Disponnibles"),l.a.createElement("span",null,k.dispo)),l.a.createElement(gn,{color:"error",variant:"contained",disableElevation:!0,disableRipple:!0,className:"indispo"===E&&"active",onClick:function(){return w("indispo")}},l.a.createElement("span",null,"Indisponibles"),l.a.createElement("span",null,k.indispo)),l.a.createElement(gn,{color:"secondary",variant:"contained",disableElevation:!0,disableRipple:!0,className:"alert"===E&&"active",onClick:function(){return w("alert")}},l.a.createElement("span",null,"En Alerte"),l.a.createElement("span",null,k.alert))),l.a.createElement(fn,{className:"top"},l.a.createElement(fn,{className:"header"},l.a.createElement(De,{options:S.map(function(e){return{label:e.designation,id:e.id}}),mb:0,value:O,setValue:function(e){return y(e)},placeholder:"Recherche...",sx:{minWidth:200,ml:"0!important"},textFieldXs:{mt:0,mb:0}})),l.a.createElement(fn,null,l.a.createElement(v.a,{variant:"caption"},"Cat\xe9gorie"),l.a.createElement(je,{placeholder:"S\xe9lectionnez",options:e.map(function(e){return Object(he.a)({label:e.nom_categorie},e)}),value:d,setValue:function(e){return m(e)},sx:{minWidth:200},textFieldXs:{mt:0,mb:0}})))),l.a.createElement(vn,null,l.a.createElement(Ha.a,{size:"small","aria-label":"customized table"},l.a.createElement($a.a,null,l.a.createElement(Ya.a,null,l.a.createElement(En,{padding:"checkbox"},l.a.createElement(mt.a,{color:"primary",indeterminate:i.length>0&&i.length<S.length,checked:S.length>0&&i.length===S.length,onChange:function(e){if(e.target.checked){var t=S.map(function(e){return e.id});c(t)}else c([])},inputProps:{"aria-label":"select all desserts"}})),l.a.createElement(En,null,"Code"),l.a.createElement(En,null,"D\xe9signation"),l.a.createElement(En,null,"Cat\xe9gorie"),l.a.createElement(En,null,"Unit\xe9"),l.a.createElement(En,{align:"right"},"Quantit\xe9"),l.a.createElement(En,{align:"right"},"Q. min"),l.a.createElement(En,{align:"right"},"Marge"),l.a.createElement(En,{align:"right"},"Options"))),l.a.createElement(Qa.a,null,S&&S.map(function(e,a){var n,r=(n=e.id,-1!==i.indexOf(n));return l.a.createElement(hn,{key:e.id},l.a.createElement(En,{padding:"checkbox"},l.a.createElement(mt.a,{size:"small",color:"primary",checked:r,onChange:function(t){return function(e,t){var a=i.indexOf(t),n=[];-1===a?n=n.concat(i,t):0===a?n=n.concat(i.slice(1)):a===i.length-1?n=n.concat(i.slice(0,-1)):a>0&&(n=n.concat(i.slice(0,a),i.slice(a+1))),c(n)}(0,e.id)},inputProps:{"aria-label":"select all desserts"}})),l.a.createElement(En,null,e.code_produit),l.a.createElement(En,{style:{color:t.palette.primary.main},className:"prodLink",component:"th",scope:"row"},l.a.createElement(f.b,{to:e.id,style:{textDecoration:"inherit"}},e.designation)),l.a.createElement(En,null,e.categorie_produit?e.categorie_produit.code_categorie:""),l.a.createElement(En,null,e.unite),l.a.createElement(En,{align:"right",sx:{color:parseFloat(e.quantite)<=parseFloat(e.quantite_min)?"red":"",fontWeight:600}},e.quantite),l.a.createElement(En,{align:"right"},e.quantite_min),l.a.createElement(En,{align:"right"},e.marge,"%"),l.a.createElement(En,{align:"right"},l.a.createElement(jn,null)))}),l.a.createElement(hn,{style:{height:35}},l.a.createElement(En,{align:"center"}),l.a.createElement(En,{align:"center"}),l.a.createElement(En,{component:"th",scope:"row"}),l.a.createElement(En,null),l.a.createElement(En,{align:"right"}),l.a.createElement(En,{align:"right"}),l.a.createElement(En,{align:"right"}),l.a.createElement(En,{align:"right"}),l.a.createElement(En,{align:"right"}))))))}var jn=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Boolean(a);return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{onClick:function(e){n(e.currentTarget)},sx:{p:0}},l.a.createElement(Ka.a,{fontSize:"small",color:"default"})),i&&l.a.createElement(tt,{anchorEl:a,open:i,handleClose:function(){n(null)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},l.a.createElement(on.a,null,l.a.createElement(un.a,null,l.a.createElement(sn.a,null,l.a.createElement(mn.a,null,l.a.createElement(cn.a,{fontSize:"small"})),l.a.createElement(dn.a,null,"Voir d\xe9tails")),l.a.createElement(sn.a,null,l.a.createElement(mn.a,null,l.a.createElement(rn.a,{fontSize:"small"})),l.a.createElement(dn.a,null,"Approvisionnemt")),l.a.createElement(x.a,null),l.a.createElement(sn.a,null,l.a.createElement(mn.a,null,l.a.createElement(en.a,{fontSize:"small"})),l.a.createElement(dn.a,null,"Modifier")),l.a.createElement(sn.a,null,l.a.createElement(mn.a,null,l.a.createElement(an.a,{fontSize:"small"})),l.a.createElement(dn.a,null,"Supprimer"))))))},On=a(277),yn=a.n(On),Sn=a(1123),kn=a(1147),Cn=a(1122),wn=function(e,t,a,n,r,l){var i=!0,c={};return l&&""!==l&&"3"===l[0]||(i=!1,c.numCompte="Le num\xe9ro de compte stock commence par 3"),""!==e&&e||(c.designation="La d\xe9signation du produit est r\xe9quise.",i=!1),""!==t&&t||(c.unite="La nature du produit est r\xe9quise.",i=!1),(null===a||void 0===a||a<=0)&&(c.marge="La marge b\xe9n\xe9ficiaire du produit est r\xe9quise.",i=!1),(!n||n<0)&&(c.qMin="Le stock de s\xe9curit\xe9 du produit est r\xe9quis.",i=!1),r&&""!==r||(c.code="Le code du produit est r\xe9quis.",i=!1),{valid:i,errors:c}},Nn=function(e){var t=e.dateExp,a=e.quantite,n=e.cout_unitaire,r=e.taux,l=e.pv_unitaire,i=e.devise,c=e.provenance,o=e.licence_url,u=e.factureId,s=e.produit,d=!0,m={},p=[];return s&&s.id||(m.produit="S\xe9l\xe9ctionnez un produit.",d=!1),(a<0||!a)&&(m.quantite="La quantit\xe9 du produit est r\xe9quise.",d=!1),(n<0||!n)&&(m.cu="Le co\xfbt unitaire du produit est r\xe9quis.",d=!1),(l<0||!l)&&(m.pv="Le prix de vente unitaire du produit est r\xe9quis.",d=!1),(r<0||!r)&&(p.push("Le taux est r\xe9quis."),d=!1),(c<0||!c)&&(p.push("Veillez sp\xe9cifier la source de l'entr\xe9e en stock"),d=!1),"licence"!==c||o&&""!==o||(p.push("Ajouter l'image de la licence d'importation"),d=!1),"facture"!==c||u&&""!==u||(p.push("Veillez s\xe9l\xe9ctionner la facture d'achat pour ce produit."),d=!1),""!==i&&i||(p.push("Veillez s\xe9l\xe9ctionner la devise utilis\xe9e."),d=!1),""!==t&&t&&(/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]|(?:Jan|Mar|May|Jul|Aug|Oct|Dec)))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2]|(?:Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)(?:0?2|(?:Feb))\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9]|(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep))|(?:1[0-2]|(?:Oct|Nov|Dec)))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/.test(t)||(m.dateExp="Mauvaise date",d=!1)),{valid:d,errors:m,defaultValueErrors:p}},Tn=a(367),zn=a.n(Tn),_n=Object(Te.a)("form")(function(){return{backgroundColor:"#fff",height:"100%",width:300,padding:20}}),In=Object(Te.a)("div")(function(){return{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:15,"& > h1":{fontSize:17}}});function An(e){var t=e.open,a=e.onClose,n=Object(r.useState)(""),i=Object(o.a)(n,2),c=i[0],u=i[1],s=Object(r.useState)(""),m=Object(o.a)(s,2),p=m[0],f=m[1],b=Object(r.useState)(""),E=Object(o.a)(b,2),x=E[0],j=E[1],O=Object(r.useState)({}),y=Object(o.a)(O,2),S=y[0],k=y[1],C=Object(r.useState)(!1),w=Object(o.a)(C,2),N=w[0],T=w[1],z=l.a.useRef(),_=function(){u(""),f(""),j(""),k({}),T(!1)},I=function(e,t){switch(k(Object(he.a)(Object(he.a)({},S),{},Object(M.a)({},t,null))),t){case"nom":u(e);break;case"code":f(e);break;case"description":j(e)}},A=function(){a(),_()},q=function(e,t){var a=!0;return""===e&&(a=!1,k(Object(he.a)(Object(he.a)({},S),{},{nom:"La valeur est r\xe9quise"}))),""===t&&(a=!1,k(Object(he.a)(Object(he.a)({},S),{},{nom:"La valeur est r\xe9quise"}))),a},R=Object(P.b)(),F=function(){var e=Object(L.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),q(c,p)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,T(!0),e.next=8,Q.a.post("/api/produits/categories",{nom:c,code:p,description:x});case 8:a=e.sent,n=a.data,console.log(n),"success"===n.state&&(R(Jt.appendCategorie(n.categorie)),_()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),T(!1),S.server="Une erreur s'est produite lors de l'enregistrement";case 19:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(Ge.a,{open:t,onClose:A},l.a.createElement(_n,{onSubmit:F},S.server>0&&l.a.createElement(nt.a,{severity:"error",color:"error",variant:"standard",sx:{fontSize:13}},S.server),l.a.createElement(In,null,l.a.createElement(v.a,{variant:"h1"},"Nouvelle cat\xe9gorie de produit"),l.a.createElement(g.a,{onClick:A},l.a.createElement(zn.a,{size:"small"}))),l.a.createElement(fe.a,{inputRef:z,label:"Nom de la cat\xe9gorie *",id:"categorie",name:"categorie",placeholder:"Cat\xe9gorie des produits",variant:"outlined",fullWidth:!0,type:"text",value:c,onChange:function(e){return I(e.target.value,"nom")},error:!!S.nom,helperText:S.nom}),l.a.createElement(fe.a,{inputRef:z,label:"Code de la cat\xe9gorie *",id:"categorie",name:"categorie",placeholder:"Code des produits",variant:"outlined",fullWidth:!0,type:"text",value:p,onChange:function(e){return I(e.target.value,"code")},error:!!S.code,helperText:S.code}),l.a.createElement(d.a,{mt:2},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"D\xe9scripton"),l.a.createElement(fe.a,{id:"description",name:"description",placeholder:"Une petite description du produit",variant:"outlined",fullWidth:!0,multiline:!0,value:x,onChange:function(e){return I(e.target.value,"description")},rows:4,error:!!S.description,helperText:S.description})),l.a.createElement("div",{className:"form-actions"},l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(h.a,{variant:"outlined",color:"default",size:"medium",disableElevation:!0,sx:{mr:2},onClick:A},"Annuler"),l.a.createElement(h.a,{variant:"contained",color:"primary",size:"medium",disableElevation:!0,type:"sumbit",sx:{minWidth:124.78,height:36.5}},N?l.a.createElement(Oe.a,{size:12,color:"inherit"}):"Enregistrer")))))}function qn(e){var t=e.taxes,a=void 0===t?[]:t,n=e.handleDelete;return l.a.createElement(Cn.a,{direction:"row",spacing:1,sx:{mb:2}},a.map(function(e){return l.a.createElement(kn.a,{key:e.label,label:"".concat(e.label," : ").concat(e.pourcentage,"%"),variant:"outlined",color:"primary",onDelete:function(){return n(e.label)}})}))}function Rn(e){var t=e.open,a=e.onClose,n=Object(r.useContext)(Si).createFeedback,i=Object(r.useContext)(ki),c=Object(r.useState)(""),u=Object(o.a)(c,2),s=u[0],m=u[1],p=Object(r.useState)(""),f=Object(o.a)(p,2),b=f[0],g=f[1],E=Object(r.useState)(0),j=Object(o.a)(E,2),O=j[0],y=j[1],S=Object(r.useState)(0),k=Object(o.a)(S,2),C=k[0],w=k[1],N=Object(r.useState)(""),T=Object(o.a)(N,2),z=T[0],_=T[1],I=Object(r.useState)(""),A=Object(o.a)(I,2),q=A[0],R=A[1],F=Object(r.useState)(""),W=Object(o.a)(F,2),D=W[0],M=W[1],B=Object(r.useState)(null),V=Object(o.a)(B,2),L=V[0],U=V[1],H=Object(r.useState)("31"),Q=Object(o.a)(H,2),G=Q[0],J=Q[1],X=Object(r.useState)(""),$=Object(o.a)(X,2),Y=$[0],K=$[1],Z=Object(r.useState)(""),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(r.useState)([]),re=Object(o.a)(ne,2),le=re[0],ie=re[1],ce=Object(r.useState)(!1),oe=Object(o.a)(ce,2),ue=oe[0],se=oe[1],de=Object(r.useState)({}),me=Object(o.a)(de,2),pe=me[0],be=me[1],ge=Object(r.useState)(!1),ve=Object(o.a)(ge,2),Ee=ve[0],xe=ve[1],ye=Object(P.c)(Kt),Se=Object(P.c)(Zt),ke=Object(r.useRef)(),Ce=function(){xe(!Ee)},we=function(e,t){switch(t){case"designation":m(e),be(Object(he.a)(Object(he.a)({},pe),{},{designation:null}));break;case"code":_(e),be(Object(he.a)(Object(he.a)({},pe),{},{code:null}));break;case"qMin":w(e),null===C&&""===C||be(Object(he.a)(Object(he.a)({},pe),{},{qMin:null}));break;case"unite":g(e),be(Object(he.a)(Object(he.a)({},pe),{},{unite:null}));break;case"marge":case"emballage":y(e),be(Object(he.a)(Object(he.a)({},pe),{},{marge:null}));break;case"taxeNom":K(e),be(Object(he.a)(Object(he.a)({},pe),{},{taxeNom:null}));break;case"taxeValue":ae(e),be(Object(he.a)(Object(he.a)({},pe),{},{taxeValue:null}));break;case"numCompte":J(e),be(Object(he.a)(Object(he.a)({},pe),{},{numCompte:null}));break;case"categorie":U(e),be(Object(he.a)(Object(he.a)({},pe),{},{categorie:null}));break;default:return}},Ne=function(){m(""),g(""),w(""),y(0),_(""),R(""),U(null),ie([]),K(""),ae(""),J("31"),M(""),ke.current&&ke.current.focus()},Te=Object(P.b)(),ze=function(){be(Object(he.a)(Object(he.a)({},pe),{},{server:null})),Te(Jt.initError())};return Object(r.useEffect)(function(){be(Object(he.a)(Object(he.a)({},pe),{},{server:ye}))},[ye]),Object(r.useEffect)(function(){Te(Vt())},[Te]),l.a.createElement(Ge.a,{open:t,onClose:a,BackdropProps:{style:{justifyContent:"flex-end",backgroundColor:"#00000005"}}},l.a.createElement(Fn,null,Ee&&l.a.createElement(An,{onClose:Ce,open:Ee}),l.a.createElement("form",{className:"produit-form",onSubmit:function(e){if(e.preventDefault(),!ue){var t=wn(s,b,O,C,z,G),a=t.valid,r=t.errors;if(a){se(!0);var l={designation:s,code_produit:z,description:q,emballage:D,unite:b,marge:O,taxes:le,quantite:0,q_min:C,categorieId:L?L.id:null};Te(Ht({data:l})).then(function(e){var t=e.payload;t&&"success"===t.state&&(Ne(),n("Un produit ajout\xe9 avec succ\xe8s !","cr\xe9ation-produit","success"),function(e,t,a){e.emit(t,a)}(i,"new_produit",{produitId:t.produit.id}))}).finally(function(){return se(!1)})}else be(r)}}},pe.server&&l.a.createElement(He,{title:"Erreur",open:!!ye,message:pe.server,onAgree:ze,onClose:ze,agreeBtnText:"Ok"}),l.a.createElement("header",null,l.a.createElement(v.a,{variant:"h1"},"Ajout des nouveaux produits/Articles"),l.a.createElement(h.a,{variant:"outlined",color:"default",size:"small",disableElevation:!0,onClick:function(){Ne(),a()}},"Annuler")),l.a.createElement("div",null,l.a.createElement("div",{className:"form-block"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"1. D\xe9tails"),l.a.createElement("div",null,l.a.createElement(fe.a,{inputRef:ke,label:"D\xe9signation du produit *",id:"designation",name:"designation",placeholder:"D\xe9signation du produit",variant:"outlined",fullWidth:!0,type:"text",value:s,onChange:function(e){return we(e.target.value,"designation")},error:!!pe.designation,helperText:pe.designation,sx:{backgroundColor:"#f6f8fa80"}}),l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(fe.a,{label:"Code Produit *",id:"code",name:"code",placeholder:"Code du produit",variant:"outlined",fullWidth:!0,type:"text",value:z,onChange:function(e){return we(e.target.value,"code")},error:!!pe.code,helperText:pe.code,sx:{backgroundColor:"#f6f8fa80"}}),l.a.createElement(fe.a,{label:"Quantit\xe9 minimale *",id:"q_min",name:"q_min",placeholder:"Quantit\xe9 minimale",variant:"outlined",fullWidth:!0,type:"number",value:C,onChange:function(e){return we(e.target.value,"qMin")},error:!!pe.qMin,helperText:pe.qMin,sx:{backgroundColor:"#f6f8fa80"}})),l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(fe.a,{label:"Unit\xe9 de m\xe9sure du produit *",id:"unite",name:"unite",placeholder:"Unit\xe9 de m\xe9sure du produit",variant:"outlined",type:"text",fullWidth:!0,value:b,onChange:function(e){return we(e.target.value,"unite")},error:!!pe.unite,helperText:pe.unite,sx:{backgroundColor:"#f6f8fa80"}}),l.a.createElement(fe.a,{label:"Marge de b\xe9n\xe9fice sur une unit\xe9 (%) *",id:"marge",name:"marge",placeholder:"Marge de b\xe9n\xe9fice sur une unit\xe9",variant:"outlined",fullWidth:!0,type:"number",value:O,onChange:function(e){return we(e.target.value,"marge")},error:!!pe.marge,helperText:pe.marge,sx:{backgroundColor:"#f6f8fa80"}})),l.a.createElement(fe.a,{label:"L'emballage du produit (Conteneur)",id:"emballage",name:"emballage",placeholder:"L'emballage du produit",variant:"outlined",fullWidth:!0,type:"text",value:D,onChange:function(e){return we(e.target.value,"emballage")},sx:{backgroundColor:"#f6f8fa80"}}),l.a.createElement(d.a,{mt:2},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"D\xe9scripton"),l.a.createElement(fe.a,{id:"description",name:"description",placeholder:"Une petite description du produit",variant:"outlined",fullWidth:!0,multiline:!0,value:q,onChange:function(e){return we(e.target.value,"description")},rows:4,error:!!pe.description,helperText:pe.description,sx:{backgroundColor:"#f6f8fa80"}})))),l.a.createElement(x.a,null),l.a.createElement("div",{className:"form-block"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"2. Cat\xe9gorie du produit (gamme)"),l.a.createElement("div",null,l.a.createElement(je,{label:"Cat\xe9gorie *",id:"Cat\xe9gorie",name:"Cat\xe9gorie",placeholder:"Cat\xe9gorie",variant:"outlined",type:"text",fullWidth:!0,options:Se.map(function(e){return Object(he.a)({label:e.nom_categorie},e)})||[],value:L,setValue:function(e){return U(e)},sx:{display:"block",backgroundColor:"#f6f8fa80"}}),l.a.createElement(h.a,{variant:"outlined",color:"primary",size:"medium",onClick:Ce},"Nouvelle cat\xe9gorie"))),l.a.createElement(x.a,null),l.a.createElement("div",{className:"form-block"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"3. Autres donn\xe9es"),l.a.createElement("div",null,l.a.createElement(fe.a,{label:"Num\xe9ro de compte stock *",placeholder:"Num\xe9ro de compte stock",name:"compte",id:"compte",inputProps:{maxLength:8},variant:"outlined",value:G,onChange:function(e){var t=e.target.value;""===t||"3"!==t[0]?be(Object(he.a)(Object(he.a)({},pe),{},{numCompte:"Mauvais num\xe9ro de compte"})):be(Object(he.a)(Object(he.a)({},pe),{},{numCompte:null})),J(t)},error:!!pe.numCompte,helperText:pe.numCompte,sx:{backgroundColor:"#f6f8fa80"}}),l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Autres taxes li\xe9es"),le.length>0&&l.a.createElement(qn,{taxes:le,handleDelete:function(e){var t=le.filter(function(t){return t.label!==e});ie(t)}}),l.a.createElement(d.a,{display:"flex",alignItems:"flex-start"},l.a.createElement(fe.a,{label:"Nom de la taxe",id:"nom_taxe",name:"nom_taxe",placeholder:"Taxe",variant:"outlined",type:"text",sx:{display:"block",mr:1,my:0,backgroundColor:"#f6f8fa80"},value:Y,onChange:function(e){return we(e.target.value,"taxeNom")},error:!!pe.taxeNom,helperText:pe.taxeNom}),l.a.createElement(fe.a,{label:"Valeur (%)",id:"taxe",name:"taxe",placeholder:"Taxe",variant:"outlined",type:"number",inputProps:{maxLength:5,minLength:0},sx:{display:"block",mr:1,my:0,backgroundColor:"#f6f8fa80"},value:te,onChange:function(e){return we(e.target.value,"taxeValue")},error:!!pe.taxeValue,helperText:pe.taxeValue}),l.a.createElement(h.a,{variant:"outlined",color:"primary",size:"medium",startIcon:l.a.createElement(Sn.a,null),onClick:function(){var e=!0,t=Object(he.a)({},pe);""===Y&&(e=!1,t.taxeNom="Valeure r\xe9quise."),""===te&&(e=!1,t.taxeValue="Valeure r\xe9quise."),le.some(function(e){return e.label===Y})&&(e=!1),e?(ie([].concat(Object(Nt.a)(le),[{label:Y,pourcentage:te}])),K(""),ae("")):be(t)}},"Ajouter")))))),l.a.createElement(x.a,null),l.a.createElement("div",{className:"form-actions"},l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(h.a,{variant:"contained",color:"primary",size:"medium",disableElevation:!0,type:"sumbit",sx:{minWidth:124.78,height:36.5}},ue?l.a.createElement(Oe.a,{size:12,color:"inherit"}):"Enregistrer"))))))}var Fn=Object(m.a)("div")(function(){return{backgroundColor:"#fff",width:"100%",height:"100vh",overflowY:"auto",maxWidth:600,float:"right",borderLeft:"1px solid #cccccc",boxShadow:"-5px 0px 20px 6px #52525229","& .form-actions":{padding:"20px"}}});function Wn(){var e=Object(P.b)(),t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],c=function(){i(!n)};return Object(r.useEffect)(function(){e(Lt())},[e]),l.a.createElement("div",{className:"module-page"},l.a.createElement("header",null,l.a.createElement(wt.a,{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#fff",padding:"5px 0",borderRadius:"5px"},l.a.createElement(v.a,{className:"module-title"},"Produits",l.a.createElement("span",{className:"small"},">> Liste des produits")),l.a.createElement(h.a,{variant:"text",color:"primary",startIcon:l.a.createElement(yn.a,null),onClick:c},"Nouveau produit"),n&&l.a.createElement(Rn,{open:n,onClose:c}))),l.a.createElement("section",{className:"produits"},l.a.createElement(wt.a,{sx:{transition:"all 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"}},l.a.createElement(xn,null))))}var Dn=a(1164),Pn=a(559),Mn=a.n(Pn),Bn=a(560),Vn=a.n(Bn),Ln=a(561),Un=a.n(Ln),Hn=a(223),Qn=a.n(Hn),Gn=a(558),Jn=a.n(Gn);function Xn(){var e=Object(r.useState)(!0),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(!0),c=Object(o.a)(i,2),u=c[0],s=c[1];return l.a.createElement("div",{className:"fleft-sidebar",style:{color:"#444",borderRight:"1px solid #ccc"}},l.a.createElement("div",{className:"inner-sidebar"},l.a.createElement("menu",null,l.a.createElement(Dn.a,{alignItems:"center",onClick:function(){return n(!a)},sx:{pr:2,"&:hover, &:focus":{}}},l.a.createElement(mn.a,{sx:{color:"inherit",minWidth:"fit-content",marginRight:1.5,marginTop:0}},l.a.createElement(Jn.a,{fontSize:"small"})),l.a.createElement(dn.a,{primary:"Produits",primaryTypographyProps:{fontSize:14,fontWeight:"medium",lineHeight:"20px",mb:"2px"},secondaryTypographyProps:{noWrap:!0,fontSize:12,lineHeight:"16px"},sx:{my:0}}),l.a.createElement(Qn.a,{sx:{opacity:a?1:0,transform:a?"rotate(-180deg)":"rotate(0)",transition:"0.2s"}})),a&&l.a.createElement(wt.a,{pl:4.5},l.a.createElement(f.c,{to:"produits",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(Dn.a,null,l.a.createElement(dn.a,{primary:"Liste des produits",primaryTypographyProps:{fontSize:13,fontWeight:"medium",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},sx:{mb:0}}))),l.a.createElement(f.c,{to:"nouveau_produit",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(Dn.a,null,l.a.createElement(dn.a,{primary:"Ajouter des produits",primaryTypographyProps:{fontSize:13,fontWeight:"medium",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})))),l.a.createElement(Dn.a,{alignItems:"center",onClick:function(){return s(!u)},sx:{pr:2,"&:hover, &:focus":{}}},l.a.createElement(mn.a,{sx:{color:"inherit",minWidth:"fit-content",marginRight:1.5}},l.a.createElement(Mn.a,{fontSize:"small"})),l.a.createElement(dn.a,{primary:"Approvisionnement",primaryTypographyProps:{fontSize:14,fontWeight:"medium",lineHeight:"20px",mb:"2px",textOverflow:"ellipsis",overflow:u?"hidden":"initial"},secondaryTypographyProps:{noWrap:!0,fontSize:12,lineHeight:"16px"},sx:{my:0}}),l.a.createElement(Qn.a,{sx:{opacity:u?1:0,transform:u?"rotate(-180deg)":"rotate(0)",transition:"0.2s"}})),u&&l.a.createElement(wt.a,{pl:4.5},l.a.createElement(f.c,{to:"approvisionnement",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(Dn.a,null,l.a.createElement(dn.a,{primary:"Nouvel approvisionnement",primaryTypographyProps:{fontSize:13,fontWeight:"medium",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},sx:{mb:0}}))),l.a.createElement(f.c,{to:"historique_approvisionnement",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(Dn.a,null,l.a.createElement(dn.a,{primary:"Historique",primaryTypographyProps:{fontSize:13,fontWeight:"medium",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})))),l.a.createElement(f.c,{to:"fiche_de_stock",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(Dn.a,{sx:{py:0,minHeight:40,color:"inherit"}},l.a.createElement(mn.a,{sx:{color:"inherit",minWidth:"fit-content",marginRight:1.5}},l.a.createElement(Vn.a,{fontSize:"small"})),l.a.createElement(dn.a,{primary:"Fiche de stock",primaryTypographyProps:{fontSize:14,fontWeight:"medium"}}))),l.a.createElement(f.c,{to:"alertes",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(Dn.a,{sx:{py:0,minHeight:40,color:"inherit"}},l.a.createElement(mn.a,{sx:{color:"inherit",minWidth:"fit-content",marginRight:1.5}},l.a.createElement(Un.a,{fontSize:"small"})),l.a.createElement(dn.a,{primary:"Alertes",primaryTypographyProps:{fontSize:14,fontWeight:"medium"}}))))))}var $n=a(1151),Yn=a(1149),Kn=a(278),Zn=a.n(Kn),er=a(564),tr=a.n(er),ar=a(1124);function nr(e){var t=e.open,a=e.onClose;return l.a.createElement(Ge.a,{onClose:a,open:t},l.a.createElement("form",{className:"multiple-form"},l.a.createElement("div",{className:"form-header"},l.a.createElement(wt.a,{borderBottom:"1px solid #eaeaea",mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Ent\xe9e des produits/marchandises en stock"),l.a.createElement(g.a,{onClick:a},l.a.createElement(ar.a,{fontSize:"small"}))),l.a.createElement(h.a,{variant:"contained",disableElevation:!0,type:"submit"},"Enregistrer")),l.a.createElement("div",{className:"form-rows"},l.a.createElement("div",{className:"form-row rows-header"},l.a.createElement(fe.a,{label:"Num",id:"quantite_si",name:"quantite_si",variant:"outlined",disabled:!0,inputProps:{style:{textAlign:"right"}},sx:{minWidth:60}}),l.a.createElement(fe.a,{id:"produit",name:"produit",label:"Produit",variant:"outlined",fullWidth:!0,sx:{minWidth:300},disabled:!0}),l.a.createElement(fe.a,{id:"quantite",name:"quantite",label:"Quantit\xe9",variant:"outlined",fullWidth:!0,disabled:!0}),l.a.createElement(fe.a,{id:"cu",name:"cu",label:"C.U.",placeholder:"C.U.",variant:"outlined",fullWidth:!0,disabled:!0}),l.a.createElement(Ee,{id:"exp",name:"exp",label:"Date d'expiration",variant:"outlined",fullWidth:!0,disabled:!0})),new Array(10).fill(0).map(function(e,t){return l.a.createElement(lr,{key:t,num:t+1})}))))}var rr,lr=function(e){e.setRowsHandler;var t=e.num,a=Object(r.useState)(0),n=Object(o.a)(a,2),i=n[0],c=n[1],u=Object(r.useState)(0),s=Object(o.a)(u,2),d=s[0],m=s[1],p=Object(r.useState)(),f=Object(o.a)(p,2),b=f[0],g=f[1];return l.a.createElement("div",{className:"form-row"},l.a.createElement(fe.a,{id:"quantite_si",name:"quantite_si",variant:"outlined",defaultValue:t,disabled:!0,inputProps:{style:{textAlign:"right"}},sx:{minWidth:60}}),l.a.createElement(je,{label:!1}),l.a.createElement(fe.a,{id:"quantite_si",name:"quantite_si",placeholder:"Quantit\xe9 stock initial",variant:"outlined",fullWidth:!0,type:"number",value:i,onChange:function(e){return c(e.target.value)}}),l.a.createElement(fe.a,{id:"cu",name:"cu",placeholder:"Co\xfbt unitaire du produit",variant:"outlined",fullWidth:!0,type:"number",value:d,onChange:function(e){return m(e.target.value)}}),l.a.createElement(Ee,{value:b,onChange:function(e){g(e.target.value)},id:"exp",name:"exp",placeholder:"_ _ /_ _ /20_ _",variant:"outlined",fullWidth:!0}))},ir=Object(U.c)({selectId:function(e){return e.id},sortComparer:function(e,t){return ee(e.date_emission,t.date_emission)}}),cr=ir.getInitialState({error:null,status:"idle"}),or=Object(U.b)("facture/get all",Object(L.a)(V.a.mark(function e(){var t,a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/entrees/factures");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}))),ur=Object(U.d)({name:"facture_achat",initialState:cr,reducers:{updateteOne:function(e,t){var a=t.payload,n=a.id,r=a.attribute,l=a.value;if(n){var i=e.entities[n];if(!i)return;i[r]=l}}},extraReducers:(rr={},Object(M.a)(rr,or.pending,function(e,t){e.status="loading"}),Object(M.a)(rr,or.fulfilled,function(e,t){var a=t.payload;a&&ir.upsertMany(e,a),e.status="fulfilled"}),Object(M.a)(rr,or.rejected,function(e,t){e.status="failed"}),rr)}),sr=ur.actions,dr=ur.reducer,mr=ir.getSelectors(function(e){return e.facturesAchat}),pr=mr.selectAll,fr=(mr.selectById,function(e){return e.facturesAchat.status}),br=a(562),gr=a.n(br),vr=a(563),Er=a.n(vr),hr=a(1125),xr=a(1148);function jr(e){var t=e.approvProduits,a=void 0===t?[]:t,n=e.numApprov,r=void 0===n?0:n,i=e.removeProduit;return l.a.createElement(yr,null,l.a.createElement(d.a,null,l.a.createElement(Sr,null,l.a.createElement("div",null,l.a.createElement(rn.a,{fontSize:"small"}),l.a.createElement("span",null,a.length," produits")),l.a.createElement("span",null,"N\xb0 ",r)),l.a.createElement(kr,null,a.map(function(e,t){return l.a.createElement(wr,{key:t},l.a.createElement(Cr,{className:"action"},l.a.createElement(xr.a,{title:"Enlever"},l.a.createElement(g.a,{onClick:function(){return i(e)}},l.a.createElement(Wt.a,{fontSize:"small"})))),l.a.createElement(Cr,{className:"fill"},e.designation),l.a.createElement(Cr,{className:"right"},e.quantite),l.a.createElement(Cr,{className:"right"},ae(e.cout_u)))}))))}var Or,yr=Object(m.a)("div")(function(){return{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),border:"1px solid #d9d9d9",borderRadius:5,margin:"15px 0",overflow:"hidden"}}),Sr=Object(m.a)("div")(function(){return{padding:"8px 16px",backgroundColor:"#f6f8fa",borderTopLeftRadius:6,borderTopRightRadius:6,display:"flex",justifyContent:"space-between",alignItems:"center","&>div":{display:"flex",alignItems:"center","&>*:first-of-type":{marginRight:10}}}}),kr=Object(m.a)("div")(function(){return{}}),Cr=Object(m.a)("div")(function(){return{width:"25%",padding:"8px 10px","&.fill":{width:"35%"},"&.right":{textAlign:"right"},"&.action":{width:"15%",padding:"0 10px"}}}),wr=Object(m.a)("div")(function(e){e.theme;return{display:"flex",alignItems:"baseline",borderTop:"1px solid #d0d7de"}}),Nr=Object(U.c)({selectId:function(e){return e.id}}),Tr=Nr.getInitialState({status:"idle",errors:null,count:0,numeros:[]}),zr=Object(U.b)("entree/creer",function(){var e=Object(L.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.produitId,n=t.data,e.next=3,Q.a.post("/api/entrees/".concat(a),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_r=Object(U.b)("entree/creation multiple",function(){var e=Object(L.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=t.factureId,e.next=3,Q.a.post("/api/entrees/facture/".concat(n),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Ir=Object(U.b)("entree/count",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/entrees/count");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),Ar=Object(U.b)("entree/liste des num\xe9ro",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/entrees/numeros");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),qr=Object(U.d)({name:"entrees",initialState:Tr,extraReducers:(Or={},Object(M.a)(Or,zr.pending,function(e){e.status="loading"}),Object(M.a)(Or,zr.fulfilled,function(e,t){"success"===t.payload.state?(e.status="fulfilled",Nr.upsertOne(e,t.payload.entree)):(e.status="fulfilled",e.errors=t.payload)}),Object(M.a)(Or,zr.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(Or,_r.pending,function(e){e.status="loading"}),Object(M.a)(Or,_r.fulfilled,function(e,t){"success"===t.payload.state?(e.status="fulfilled",Nr.addMany(e,t.payload.entrees)):(e.status="fulfilled",e.errors=t.payload)}),Object(M.a)(Or,_r.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(Or,Ir.pending,function(e){e.status="loading"}),Object(M.a)(Or,Ir.fulfilled,function(e,t){t.payload&&(e.status="fulfilled",t.payload.count&&(e.count=t.payload.count))}),Object(M.a)(Or,Ir.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Or)}),Rr=qr.reducer,Fr=(qr.actions,Nr.getSelectors(function(e){return e.entrees})),Wr=Fr.selectAll,Dr=(Fr.selectById,function(e){return e.entrees.status});function Pr(e){var t=e.facture,a=e.handleAppendProduits,n=e.handleRemoveProduct,i=e.handleClearSelection,c=e.produistApprovisionnes,u=e.clearSelectedFacture,s=Object(P.c)(ot),d=Object(P.c)(ct),m=Object(P.c)($t),p=Object(r.useState)(null),f=Object(o.a)(p,2),b=f[0],E=f[1],j=Object(r.useState)(null),O=Object(o.a)(j,2),y=O[0],S=O[1],k=Object(r.useState)(null),C=Object(o.a)(k,2),w=C[0],N=C[1],T=Boolean(b),z=l.a.useRef(),_=Object(P.b)(),I="loading"===Object(P.c)(Dr),A=Object(r.useContext)(Si).createFeedback,q=Object(r.useState)(null),R=Object(o.a)(q,2),F=R[0],W=R[1],D=function(e,t){E(e.currentTarget),S(t)},M=function(){E(null),S(null),N(null)};return l.a.createElement("div",{style:{width:"100%",display:"flex"},ref:z},F&&l.a.createElement(He,{title:"Erreur",open:!!F,message:F,onClose:function(){return W(null)},agreeBtnText:"Ok",onAgree:function(){return W(null)}}),l.a.createElement(Fa.a,{in:!0},l.a.createElement(Br,null,l.a.createElement(v.a,{variant:"h2"},"Facture #",t.reference_facture,l.a.createElement("span",{style:{float:"right"}},new Date(t.createdAt).toLocaleDateString())),l.a.createElement(Vr,null,l.a.createElement(v.a,{variant:"body2"},l.a.createElement("span",null,"Fournisseur : "),l.a.createElement("span",null,t.raison_sociale_fournisseur)),l.a.createElement(v.a,{variant:"body2"},l.a.createElement("span",null,"Bon decommande : "),l.a.createElement("span",null,t.bon_commande||"Non d\xe9finit")),l.a.createElement(v.a,{variant:"body2"},l.a.createElement("span",null,"Nombre produits : "),l.a.createElement("span",null,t.produitAchetes.length)),l.a.createElement(v.a,{variant:"body2"},l.a.createElement("span",null,"Autres Frais : "),l.a.createElement("span",null,t.total_charge||0," ",t.devise))),l.a.createElement(wt.a,{height:"calc(100vh - 265px)",minHeight:400},l.a.createElement(Ur,{className:"header",in:!0},l.a.createElement("div",null,l.a.createElement(g.a,{color:"primary"},l.a.createElement(hr.a,{fontSize:"small",htmlColor:"#fff"})),l.a.createElement(v.a,{variant:"caption",className:"fill"},"Produit"),l.a.createElement(v.a,{variant:"caption",className:"right"},"Quantit\xe9"),l.a.createElement(v.a,{variant:"caption",className:"right"},"Co\xfbt U."))),l.a.createElement(Lr,null,t.produitAchetes.map(function(e,a){var n=c.some(function(t){return t.id_achete===e.id});return l.a.createElement(Gr,{key:"".concat(e.designation,"_").concat(a),produit:e,onClick:D,devise:t.devise,selected:n})})),T&&l.a.createElement(tt,{anchorEl:b,open:T,handleClose:M,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},l.a.createElement(Qr,null,l.a.createElement(wt.a,{pb:2},l.a.createElement(v.a,{variant:"caption",sx:{mb:1,display:"block"}},"Produit Achet\xe9"),l.a.createElement(kn.a,{label:y.designation})),l.a.createElement(x.a,null),l.a.createElement(wt.a,{pt:2,pb:2},l.a.createElement(v.a,{variant:"caption",sx:{mb:1,display:"block"}},"Produit Approvisionn\xe9"),l.a.createElement(je,{value:w,placeholder:"Produit *",filterSelectedOptions:!0,label:"Produit",setValue:function(e){if(y)if(e){var t=ne(y.prix_ht,y.quantite,"number"),a=t*(1+e.marge/100),n=Object(he.a)(Object(he.a)({},e),{},{pv_unitaire:a,quantite:y.quantite,cout_unitaire:t,id_achete:y.id});N(n)}else N(e);else N(null)},options:m.map(function(e){return Object(he.a)({label:e.designation},e)})}),l.a.createElement(v.a,{variant:"caption",sx:{mb:1}},"Marge:"," ",l.a.createElement(kn.a,{sx:{minWidth:40},label:w?w.marge+"%":""})),l.a.createElement(fe.a,{label:"Prix de vente unitaire *",id:"pv",name:"pv",value:w?ae(w.pv_unitaire)+t.devise:"",placeholder:"Co\xfbt unitaire du produit",variant:"outlined",disabled:!0,fullWidth:!0,helperText:"Ce prix sera utilis\xe9 lors de la vente."})),l.a.createElement(h.a,{disabled:!w,variant:"contained",color:"primary",size:"small",disableElevation:!0,onClick:function(){a(w),M()}},"Confirmer"),l.a.createElement(h.a,{variant:"outlined",color:"default",size:"small",sx:{ml:2},onClick:M},"Annuler")))),l.a.createElement(Mr,null,l.a.createElement(Zn.a,{color:"info",fontSize:"medium",sx:{mr:2}}),l.a.createElement(v.a,{sx:{fontSize:14},variant:"caption"},"Pour s\xe9lectionner un produit cliquez sa ligne dans le tableaux des produits achet\xe9s et puis choisissez le produit \xe0 approvisionner dans la boite de dialogue.")))),l.a.createElement(Hr,null,l.a.createElement(v.a,{variant:"h2"},"Produits Approvisionn\xe9s"),0===c.length?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,null),l.a.createElement(wt.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",pt:3}},l.a.createElement(h.a,{variant:"outlined",color:"default",size:"small",onClick:function(){i()}},"Annuler"),l.a.createElement(h.a,{variant:"contained",color:"primary",size:"small",disableElevation:!0,onClick:function(){!function(){var e=t.produitAchetes;if(!c||c.length<0||!e||0===e.length)return!1;var a=!0;return e.forEach(function(e){c.some(function(t){return t.id_achete===e.id})||(a=!1)}),a}()?W("Verifiez que tous les produits de la facture sont bien s\xe9lectionn\xe9s."):_(_r({data:{devise:s,provenance:"facture",taux:d,produits:c},factureId:t.id})).then(function(e){var a=e.payload;a&&"success"===a.state&&(_(sr.updateteOne({id:t.id,attribute:"approvisionnee",value:!0})),i(),u(),A("Enregistrement fait avec succ\xe8s !","enregistrement-entrees-facture-multiple","success"))})},sx:{ml:2,minWidth:84,height:30.75}},I?l.a.createElement(Oe.a,{size:12,color:"inherit"}):"Enregistrer")),l.a.createElement(jr,{removeProduit:n,approvProduits:c}))))}var Mr=Object(Te.a)("div")(function(e){e.theme;return{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"#fff",padding:"10px 20px",borderTop:"1px solid #eaeaea",display:"flex",alignItems:"baseline"}}),Br=Object(Te.a)("div")(function(){return{position:"relative",flex:2,width:"100%",minWidth:400,maxWidth:530,padding:"30px 20px"}}),Vr=Object(Te.a)("div")(function(e){e.theme;return{marginBottom:20,"& > p":{fontSize:15,display:"flex","& > span":{flex:1}}}}),Lr=Object(Te.a)("div")(function(){return{border:"1px solid rgb(208, 215, 222)",maxHeight:"calc(100% - 35px)",overflowY:"auto"}}),Ur=Object(Te.a)(Fa.a)(function(e){var t=e.theme;return{display:"flex",alignItems:"center","&.header":{backgroundColor:t.palette.primary.main,color:t.palette.common.white},"&.body":{cursor:"pointer",transition:"background .2s","&:hover":{backgroundColor:"#dbdbdb"}},"& > *":{padding:"5px 10px"},"& > *:first-of-type":{width:"10%"},"& > .fill":{width:"30%",flex:1},"& .right":{width:"25%",textAlign:"right"},"&.body:nth-of-type(2n)":{backgroundColor:"#eaeaea"}}}),Hr=Object(Te.a)("div")(function(){return{flex:1,borderLeft:"2px solid #eaeaea",padding:"30px 15px"}}),Qr=Object(Te.a)("div")(function(){return{backgroundColor:"#fff",padding:10}}),Gr=function(e){var t=e.produit,a=e.devise,n=e.onClick,r=e.selected;return l.a.createElement(Ur,{in:!0,className:"body",onClick:function(e){return r?{}:n(e,t)}},l.a.createElement("div",null,l.a.createElement(mt.a,{size:"small",color:"primary",checked:r,onChange:function(e){},inputProps:{"aria-label":"select one"}}),l.a.createElement(v.a,{variant:"caption",className:"fill"},t.designation),l.a.createElement(v.a,{variant:"caption",className:"right"},t.quantite.toLocaleString("de-DE")),l.a.createElement(v.a,{variant:"caption",className:"right"},ne(t.prix_ht,t.quantite)," ",a)))};function Jr(e){var t=e.open,a=e.onClose,n="loading"===Object(P.c)(fr),i=Object(P.c)(pr).filter(function(e){return!e.approvisionnee}),c=Object(r.useState)(null),u=Object(o.a)(c,2),s=u[0],d=u[1],m=Object(r.useState)([]),p=Object(o.a)(m,2),f=p[0],b=p[1],E=function(e){d(e)},x=Object(P.b)();return Object(r.useEffect)(function(){x(or())},[x]),l.a.createElement(Ge.a,{open:t,onClose:a},l.a.createElement($r,null,0===i.length?l.a.createElement(al,null,l.a.createElement(wt.a,{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",alignSelf:"center",justifySelf:"center"},l.a.createElement(v.a,{variant:"h1",sx:{mb:7,fontSize:22}},"Factures d'achat non approvisionn\xe9e"),l.a.createElement("img",{style:{height:100,width:"auto"},src:Er.a,alt:"Aucune facture"}),l.a.createElement(v.a,{variant:"caption",sx:{mt:2}},"Aucune facture d'achat non approvisionn\xe9e"),l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:a,size:"medium",sx:{mt:4},disableElevation:!0},"Fermer"))):l.a.createElement(Kr,null,l.a.createElement(Zr,null,l.a.createElement(Yr,{justifyContent:"space-between",pl:2.5,pr:1},l.a.createElement(v.a,{variant:"h2"},"Factures d'achat non approvisionn\xe9e"),l.a.createElement(g.a,{onClick:a},l.a.createElement(ar.a,{fontSize:"small"}))),n?l.a.createElement(ye,{message:"Chargement...",sx:{height:"70%"},size:20}):l.a.createElement(el,null,i.map(function(e,t){return l.a.createElement(Xr,{onSelect:E,key:"".concat(e.reference_facture,"_").concat(t),facture:e,activeId:s&&s.id})}))),l.a.createElement(tl,{className:s?"active":""},s?l.a.createElement(Pr,{facture:s,produistApprovisionnes:f,handleClearSelection:function(){b([])},handleRemoveProduct:function(e){var t=f.filter(function(t){return t.id_achete!==e.id_achete});b(t)},clearSelectedFacture:function(){d(null)},handleAppendProduits:function(e){b([].concat(Object(Nt.a)(f),[e]))}}):l.a.createElement(wt.a,{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:130,alignSelf:"center",justifySelf:"center"},l.a.createElement("img",{src:gr.a,alt:"Aucune Selection"}),l.a.createElement(v.a,{variant:"caption",sx:{mt:2}},"S\xe9lectionnez une facture !"))))))}var Xr=function(e){var t=e.facture,a=e.activeId,n=e.onSelect;return l.a.createElement(nl,{className:a===t.id?"active":"",onClick:function(){return n(t)}},l.a.createElement("span",{className:"activeBar"}),l.a.createElement(v.a,{sx:{fontWeight:"600",fontSize:15}},l.a.createElement("span",null,"Facture : "),l.a.createElement("span",null,t.reference_facture," ",t.sigle_fournisseur)),l.a.createElement(v.a,{variant:"body2",sx:{fontSize:14}},l.a.createElement("span",null,"Qunatit\xe9 : ",t.quantite_total)),l.a.createElement(v.a,{variant:"caption",color:"GrayText",sx:{fontSize:12,width:"100%"}},t.produitAchetes.map(function(e){return l.a.createElement("span",{key:e.designation},e.quantite," ",e.designation,","," ")})))},$r=Object(Te.a)("div")(function(){return{width:"100%",backgroundColor:"#faf8ff",overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:1200,position:"fixed",top:0,outline:"currentcolor none 0px",left:0,color:"#444"}}),Yr=Object(Te.a)(wt.a)(function(){return{display:"flex",alignItems:"center"}}),Kr=Object(Te.a)("div")(function(){return{display:"flex"}}),Zr=Object(Te.a)(wt.a)(function(){return{width:"300px",padding:"15px 0 15px 20px",backgroundColor:"#f0f0f0",height:"100vh",overflowY:"auto"}}),el=Object(Te.a)("div")(function(){return{marginTop:10}}),tl=Object(Te.a)("div")(function(){return{maxWidth:1200,flex:1,display:"flex","&.active":{boxShadow:"-2px 0px 5px #2020200f"}}}),al=Object(Te.a)("div")(function(){return{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}),nl=Object(Te.a)("div")(function(e){return{padding:"5px 10px 5px 25px",marginBottom:10,borderRadius:5,backgroundColor:"#bbbbbb45",marginRight:20,cursor:"pointer",transition:"background .1s",position:"relative",overflow:"hidden","& > p":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},"& > span":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},"&:hover":{backgroundColor:"#faf8ff"},"&.active":{backgroundColor:"#faf8ff",marginRight:0,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"-1px 0px 0px rgba(0, 0, 0, 0.12),-1px 0px 0px rgba(0,0,0,0.14),-5px 0px 5px rgba(0,0,0,0.12)"},"&.active > .activeBar":{position:"absolute",top:0,bottom:0,left:0,backgroundColor:e.theme.palette.primary.main,width:5}}});function rl(){var e=Object(P.c)(ct),t=Object(P.c)(ot),a=Object(r.useContext)(Si).createFeedback,n=Object(P.c)($t),i=Object(r.useState)("interne"),c=Object(o.a)(i,2),u=c[0],s=c[1],d=Object(r.useState)(null),m=Object(o.a)(d,2),p=m[0],g=m[1],E=Object(r.useState)(""),x=Object(o.a)(E,2),j=x[0],O=x[1],y=Object(r.useState)(""),S=Object(o.a)(y,2),k=S[0],C=S[1],w=Object(r.useState)(0),N=Object(o.a)(w,2),T=N[0],z=N[1],_=Object(r.useState)(),I=Object(o.a)(_,2),A=I[0],q=I[1],R=Object(r.useState)(""),F=Object(o.a)(R,2),W=F[0],D=(F[1],Object(r.useState)(!1)),M=Object(o.a)(D,2),B=M[0],V=M[1],L=Object(r.useState)(!1),U=Object(o.a)(L,2),H=U[0],Q=U[1],G=Object(r.useState)({}),J=Object(o.a)(G,2),X=J[0],$=J[1],Y=Object(r.useState)([]),K=Object(o.a)(Y,2),Z=K[0],ee=K[1],te=Object(r.useState)(!1),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1],le=Object(r.useState)(""),ie=Object(o.a)(le,2),ce=ie[0],oe=ie[1],ue=Object(b.a)(),se=Object(P.b)(),de=Object(r.useCallback)(function(){g(null),O(""),C(""),z(""),oe(""),$({}),ee([])},[]),me=function(){V(!B)},pe=Object(r.useCallback)(function(){Q(!H)},[H]),be=Object(r.useCallback)(function(e){g(e),e&&z(e.marge)},[]);return Object(r.useEffect)(function(){0===n.length&&se(Lt())},[se,n]),l.a.createElement("form",{className:"form-approv",onSubmit:function(n){if(n.preventDefault(),!ne){var r={date_exp:A,num_entree:"",quantite:+j,cout_unitaire:+k,pv_unitaire:ce,taux:+e,devise:t,provenance:u,licence_url:W},l=Nn(Object(he.a)(Object(he.a)({},r),{},{produit:p})),i=l.errors,c=l.defaultValueErrors;if(!l.valid)return $(i),void ee(c);re(!0),se(zr({produitId:p.id,data:r})).then(function(e){e.payload&&"success"===e.payload.state&&(de(),a("Enregistrement fait avec succ\xe8s !","enregistrement-entrees","success"))}).finally(function(){return re(!1)})}}},l.a.createElement("header",null,l.a.createElement(v.a,{className:"module-title"},"Approvisionnement"," ",l.a.createElement("span",{className:"small"},">> Entr\xe9e des produits en stock")),l.a.createElement(f.b,{to:"/stock/historique_approvisionnement"},l.a.createElement(h.a,{color:"primary",variant:"text",size:"medium",startIcon:l.a.createElement(tr.a,null)},"Voir l'historique des entr\xe9es"))),H&&l.a.createElement(nr,{open:H,onClose:pe}),B&&l.a.createElement(Jr,{open:B,onClose:me}),l.a.createElement("div",{className:"form-body horizontal-align"},l.a.createElement("div",{className:"form-block"},Z.length>0&&l.a.createElement(nt.a,{severity:"error",color:"error",variant:"standard",sx:{fontSize:13}},Z.map(function(e,t){return l.a.createElement("span",{key:t},e,l.a.createElement("br",null))})),l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Provenance"),l.a.createElement(v.a,{variant:"caption",className:"small helper-text"},"Sp\xe9cifiez la provenance des produits/articles"),l.a.createElement($n.a,{component:"fieldset",style:{display:"block"}},l.a.createElement(Yn.a,{"aria-label":"provenance",name:"provenance des produits ou marchandises",value:u,onChange:function(e){return s(e.target.value)}},l.a.createElement("div",{style:{margin:ue.spacing(0,0,1.5,0)}},l.a.createElement(Re,{value:"licence",label:"A partir d'une licence d'importation",sx:{fontSize:15}}),l.a.createElement("label",{htmlFor:"licence",className:"file-input decale-20 ".concat("licence"!==u&&"disabled"),disabled:"licence"!==u},l.a.createElement("input",{id:"licence",name:"licence",type:"file",disabled:"licence"!==u,style:{visibility:"hidden",display:"none"}}),"Shoisir un fichier")),l.a.createElement("div",{style:{margin:ue.spacing(0,0,1.5,0)}},l.a.createElement(Re,{value:"facture",label:"A partir d'une facture d'achat"}),l.a.createElement(h.a,{variant:"outlined",color:"default",className:"decale-20",disabled:"facture"!==u,sx:{borderRadius:0,mt:1,display:"flex"},onClick:me},"S\xe9lectionnez la facture")),l.a.createElement(Re,{value:"interne",label:"Productions internes"}))),l.a.createElement(dt,null)),l.a.createElement("div",{className:"form-block"},l.a.createElement(wt.a,{display:"flex",justifyContent:"space-between",alignItems:"baseline",mb:2},l.a.createElement(v.a,{variant:"h2",className:"block-title",sx:{mb:"0!important"}},"Produits/Articles ",l.a.createElement("span",{className:"small helper-text"},">> Production interne")),l.a.createElement(f.b,{to:"/stock/nouveau_produit"},l.a.createElement(h.a,{variant:"text",color:"primary",size:"small",startIcon:l.a.createElement(yn.a,null)},"Nouveau produit"))),l.a.createElement("div",null,l.a.createElement("div",{className:"horizontal-align",style:{marginBottom:15}},l.a.createElement(je,{value:p,placeholder:"Produit",filterSelectedOptions:!0,label:"Produit",setValue:be,disabled:"interne"!==u,options:n.map(function(e){return{id:e.id,label:e.designation,marge:e.marge}}),error:!!X.produit,helperText:X.produit}),l.a.createElement(fe.a,{label:"Marge *",id:"marge",name:"marge",placeholder:"Marge de b\xe9n\xe9fice sur une unit\xe9",variant:"outlined",fullWidth:!0,disabled:!0,style:{maxWidth:100},value:"".concat(T,"%"),onChange:function(e){return z(e.target.value)},error:!!X.marge,helperText:X.marge})),l.a.createElement("div",{className:"horizontal-align",style:{marginBottom:15}},l.a.createElement(fe.a,{label:"Quantit\xe9 *",id:"quantite_si",name:"quantite_si",placeholder:"Quantit\xe9 stock initial",variant:"outlined",fullWidth:!0,disabled:"interne"!==u,type:"number",value:j,onChange:function(e){return O(e.target.value)},error:!!X.quantite,helperText:X.quantite}),l.a.createElement(fe.a,{label:"Co\xfbt unitaire *",id:"cu",name:"cu",placeholder:"Co\xfbt unitaire du produit",variant:"outlined",disabled:!p,fullWidth:!0,type:"number",value:k,onChange:function(e){var t=e.target.value;C(t),oe((t=+t)?Math.floor(t*(1+p.marge/100)):"")},error:!!X.cu,helperText:X.cu})),l.a.createElement("div",{className:"horizontal-align",style:{marginBottom:15}},l.a.createElement(fe.a,{label:"Prix de vente unitaire *",id:"pv",name:"pv",placeholder:"Co\xfbt unitaire du produit",variant:"outlined",fullWidth:!0,disabled:!p,type:"number",value:ce,onChange:function(e){return oe(e.target.value)},error:!!X.pv,helperText:X.pv}),l.a.createElement(Ee,{label:"Date d'expiration",value:A,onChange:function(e){q(e.target.value)},id:"exp",name:"exp",disabled:!p,placeholder:"jj/mm/aaaa",variant:"outlined",fullWidth:!0,error:!!X.dateExp,helperText:X.dateExp}))),l.a.createElement("div",{className:"form-actions"},l.a.createElement(h.a,{variant:"contained",disableElevation:!0,type:"submit",disabled:"interne"!==u,sx:{minWidth:113.19,height:36.5}},ne?l.a.createElement(Oe.a,{size:12,color:"inherit"}):"Enregistrer"),l.a.createElement(h.a,{variant:"text",color:"primary",disableElevation:!0,sx:{ml:1},onClick:pe,disabled:"interne"!==u},"Enregistrement multiple")),l.a.createElement("div",{style:{marginTop:15}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:1.5}},l.a.createElement(Zn.a,{fontSize:"small",color:"default",style:{marginRight:5}}),l.a.createElement(v.a,{variant:"caption",className:"small"},"Utilisez la touche tabulation pour passer de champs \xe0 champs.")),l.a.createElement(v.a,{variant:"caption",className:"small"},"(*) veut dire que le champs est r\xe9quis.")))))}var ll,il=Object(Te.a)(Ga.a)(function(e){var t,a=e.theme;return t={},Object(M.a)(t,"&.".concat(Ja.a.head),{backgroundColor:"#307ecc",color:a.palette.common.white,fontSize:15,padding:"7px 10px"}),Object(M.a)(t,"&.".concat(Ja.a.body),{fontSize:14,padding:"7px 10px"}),t}),cl=Object(Te.a)(Ya.a)(function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function ol(){var e=Object(b.a)(),t=Object(P.c)(Wr);return r.createElement(Xa.a,{component:on.a,style:{boxShadow:"rgb(0 0 0 / 20%) 0px 1px 3px -2px, rgb(0 0 0 / 14%) 0px 1px 2px 0px, rgb(213 213 213 / 12%) 0px -1px 1px 0px"}},r.createElement(Ha.a,{sx:{minWidth:700},"aria-label":"customized table"},r.createElement($a.a,null,r.createElement(Ya.a,null,r.createElement(il,{padding:"checkbox"},r.createElement(mt.a,{color:"warning",inputProps:{"aria-label":"select all desserts"}})),r.createElement(il,{align:"right"},"N\xb0"),r.createElement(il,null,"entree/marchandises"),r.createElement(il,null,"Code"),r.createElement(il,null,"Nature"),r.createElement(il,{align:"right"},"Quantit\xe9"),r.createElement(il,{align:"right"},"C.U."),r.createElement(il,{align:"right"},"C.T."))),r.createElement(Qa.a,null,t&&t.map(function(t,a){return r.createElement(cl,{key:t.id},r.createElement(il,{padding:"checkbox"},r.createElement(mt.a,{size:"small",color:"primary",inputProps:{"aria-label":"select all desserts"}})),r.createElement(il,{align:"right"},a+1),r.createElement(il,{style:{color:e.palette.primary.main},component:"th",scope:"row"},t.produit.designation),r.createElement(il,null,t.produit.code_produit),r.createElement(il,null,t.produit.unite),r.createElement(il,{align:"right"},t.quantite_entree),r.createElement(il,{align:"right"},t.cout_unitaire),r.createElement(il,{align:"right"},parseFloat(t.cout_unitaire)*parseFloat(t.quantite_entree)))}),r.createElement(cl,{style:{height:35}},r.createElement(il,{align:"left"}),r.createElement(il,{align:"center"}),r.createElement(il,null),r.createElement(il,null),r.createElement(il,{align:"right"}),r.createElement(il,{align:"right"}),r.createElement(il,{align:"right"}),r.createElement(il,{align:"right"})))))}var ul=Object(U.c)({selectId:function(e){return e.id}}),sl=ul.getInitialState({status:"idle",errors:null,currentStock:null,stockPrincipal:null}),dl=Object(U.b)("stocks/get-for-entreprise",function(){var e=Object(L.a)(V.a.mark(function e(t){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/stock/"+t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ml=Object(U.b)("stocks/get-one",function(){var e=Object(L.a)(V.a.mark(function e(t,a){var n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/stock/"+t+"/"+a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),pl=Object(U.b)("stocks/creer",function(){var e=Object(L.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.eseId,n=t.data,e.next=3,Q.a.post("/api/stock/"+a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),fl=Object(U.d)({name:"stock",initialState:sl,reducers:{ajouterProduit:function(e,t){var a=t.payload;e.produits=[].concat(Object(Nt.a)(e.produits),[Object(he.a)({id:e.produits.length+1},a)])}},extraReducers:(ll={},Object(M.a)(ll,dl.pending,function(e){e.status="loading"}),Object(M.a)(ll,dl.fulfilled,function(e,t){e.status="fulfilled",ul.upsertMany(e,t.payload);var a=t.payload.find(function(e){return"1"===e.num_stock});e.stockPrincipal=a}),Object(M.a)(ll,dl.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(ll,ml.pending,function(e,t){e.status="loading"}),Object(M.a)(ll,ml.fulfilled,function(e,t){e.status="fulfilled",e.currentStock=t.payload}),Object(M.a)(ll,ml.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(ll,pl.pending,function(e){e.status="loading"}),Object(M.a)(ll,pl.fulfilled,function(e,t){"success"===t.payload.state?(e.status="fulfilled",ul.upsertOne(e,t.payload.stock)):(e.status="fulfilled",e.errors=t.payload)}),Object(M.a)(ll,pl.rejected,function(e,t){e.status="failed",e.errors=t.payload}),ll)}),bl=fl.reducer,gl=(fl.actions,ul.getSelectors(function(e){return e.stocks})),vl=(gl.selectAll,gl.selectById,function(e){return e.stocks.stockPrincipal});function El(){var e=Object(P.c)(vl),t=Object(P.b)();return Object(r.useEffect)(function(){e&&t(Ar())},[t,e]),l.a.createElement("div",{className:"approv-container"},l.a.createElement(rl,null),l.a.createElement(d.a,{mt:2,p:"0 10px"},l.a.createElement(ol,null)))}var hl=[{id:"date",label:"Date",minWidth:80},{id:"ref",label:"R\xe9f\xe9rence",minWidth:80,link:!0,path:"#"},{id:"libele",label:"Libel\xe9",minWidth:150},{id:"qte",label:"Qt\xe9",minWidth:80,align:"right",format:function(e){return e.toLocaleString("en-US")}},{id:"pue",label:"C.U.",minWidth:100,align:"right",format:function(e){return e.toLocaleString("en-US")}},{id:"pte",label:"Montant",minWidth:100,align:"right",format:function(e){return e.toFixed(2)}},{id:"qts",label:"Qt\xe9",minWidth:80,align:"right",format:function(e){return e.toLocaleString("en-US")}},{id:"pus",label:"P.U.",minWidth:100,align:"right",format:function(e){return e.toLocaleString("en-US")}},{id:"pts",label:"Montant",minWidth:100,align:"right",format:function(e){return e.toFixed(2)}}];var xl=function(e){return e.num_entree?"Entr\xe9e":"Sortie"};function jl(e){var t=e.data,a=r.useState(0),n=Object(o.a)(a,2),l=n[0],i=(n[1],r.useState(12)),c=Object(o.a)(i,2),u=c[0],s=(c[1],t.map(function(e){var t,a,n,r,l,i=xl(e);return t=new Date(e.createdAt).toLocaleDateString(),a="Entr\xe9e"===i?e.reference_bon_entree:e.reference_facture,n=i+" "+e["produit.designation"],l="Sortie"===i&&e,(r="Entr\xe9e"===i&&e)?{date:t,ref:a,libele:n,qte:r.quantite_entree,pue:r.cout_unitaire,pte:r.quantite_entree*r.cout_unitaire,qts:"",pus:"",pts:""}:l?{date:t,ref:a,libele:n,qte:"",pue:"",pte:"",qts:l.quantite_sortie,pus:l.prix_unitaire,pts:l.prix_unitaire*l.quantite_sortie}:void 0}));return r.createElement(yl,null,r.createElement(Ha.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},r.createElement($a.a,null,r.createElement(Ya.a,null,r.createElement(Sl,{className:"bl",align:"center",colSpan:3}),r.createElement(Sl,{className:"bl",align:"center",colSpan:3},"Entr\xe9es"),r.createElement(Sl,{align:"center",colSpan:3},"Sorties")),r.createElement(Ya.a,null,hl.map(function(e){return r.createElement(Sl,{key:e.id,align:e.align,style:{minWidth:e.minWidth},className:"bl"},e.label)}))),r.createElement(Qa.a,null,s.slice(l*u,l*u+u).map(function(e,t){return r.createElement(Ya.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t+"_"+e.date},hl.map(function(t){var a=e[t.id];return t.link?r.createElement(Sl,{key:t.id,align:t.align,className:"bl"},r.createElement(f.b,{to:t.path+a},t.format&&"number"===typeof a?t.format(a):a)):r.createElement(Sl,{key:t.id,align:t.align,className:"bl"},t.format&&"number"===typeof a?t.format(a):a)}))}))))}var Ol,yl=Object(m.a)("div")(function(){return{marginTop:10,width:"100%",border:"1px solid #eaeaea",borderRadius:5,overflow:"hidden",overflowX:"auto"}}),Sl=Object(m.a)(Ga.a)(function(e){return{fontSize:14,"&.bl:not(:last-child)":{borderRight:"1px solid #eaeaea"},"& > a":{color:e.theme.palette.primary.main,"&:hover":{textDecoration:"underline"}}}}),kl=a(582),Cl=a.n(kl),wl=a(580),Nl=a.n(wl),Tl=a(581),zl=a.n(Tl),_l=a(50),Il=a(51),Al=a(58),ql=a(59),Rl=a(1126),Fl=a(1127),Wl=a(578),Dl=a(579),Pl=a(237),Ml=a(229),Bl=a(589),Vl=[{name:"L",uv:4e3,pv:2400,amt:2400},{name:"M",uv:3e3,pv:1398,amt:2210},{name:"Me",uv:2e3,pv:9800,amt:2290},{name:"J",uv:2780,pv:3908,amt:2e3},{name:"V",uv:1890,pv:4800,amt:2181},{name:"S",uv:2390,pv:3800,amt:2500},{name:"D",uv:3490,pv:4300,amt:2100}],Ll=function(e){Object(Al.a)(a,e);var t=Object(ql.a)(a);function a(){return Object(_l.a)(this,a),t.apply(this,arguments)}return Object(Il.a)(a,[{key:"render",value:function(){return l.a.createElement(Rl.a,{width:"100%",height:"100%"},l.a.createElement(Fl.a,{width:500,height:100,data:Vl,margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(Wl.a,{dataKey:"name"}),l.a.createElement(Dl.a,null),l.a.createElement(Pl.a,null),l.a.createElement(Ml.a,null),l.a.createElement(Bl.a,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),l.a.createElement(Bl.a,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})))}}]),a}(r.PureComponent);Ll.demoUrl="https://codesandbox.io/s/simple-line-chart-kec3v";var Ul=Object(U.c)({selectId:function(e){return e.id}}),Hl=Ul.getInitialState({status:"idle",errors:null,nombreEntrees:0,nombreSorties:0}),Ql=Object(U.b)("fiche-stocks/get-initial-data",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/fiche_stocks");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),Gl=Object(U.b)("fiche-stocks/get-fiche-stocks-data",Object(L.a)(V.a.mark(function e(){var t;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/api/fiche_stocks/mouvement");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))),Jl=Object(U.d)({name:"fiche_stock",initialState:Hl,reducers:{ajouterMovementSock:function(e,t){var a=t.payload;a instanceof Array&&Ul.upsertMany(a)}},extraReducers:(Ol={},Object(M.a)(Ol,Ql.pending,function(e){e.status="loading"}),Object(M.a)(Ol,Ql.fulfilled,function(e,t){var a=t.payload;e.status="fulfilled",e.nombreEntrees=a.entrees,e.nombreSorties=a.sorties}),Object(M.a)(Ol,Ql.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Object(M.a)(Ol,Gl.pending,function(e){e.status="loading"}),Object(M.a)(Ol,Gl.fulfilled,function(e,t){e.status="fulfilled",Ul.upsertMany(e,t.payload)}),Object(M.a)(Ol,Gl.rejected,function(e,t){e.status="failed",e.errors=t.payload}),Ol)}),Xl=Jl.reducer,$l=(Jl.actions,Ul.getSelectors(function(e){return e.ficheStocks})),Yl=$l.selectAll,Kl=($l.selectById,function(e){return e.ficheStocks.nombreEntrees}),Zl=function(e){return e.ficheStocks.nombreSorties};function ei(){var e=Object(P.c)(Yl),t=Object(P.c)(Kl),a=Object(P.c)(Zl);console.log(t,a);var n=Object(P.b)();return Object(r.useEffect)(function(){n(Ql())},[n]),Object(r.useEffect)(function(){0===e.length&&n(Gl())},[e,n]),l.a.createElement(ri,null,l.a.createElement(ii,null,l.a.createElement("div",null,l.a.createElement(v.a,{className:"module-title"},"Mouvement des stocks")),l.a.createElement(Ot,{value:new Date,onChange:function(){}})),l.a.createElement("div",null,l.a.createElement(ui,null,l.a.createElement(wt.a,null,l.a.createElement(v.a,{variant:"h2",sx:{mb:2}},"Transactions"),l.a.createElement(wt.a,{display:"flex"},l.a.createElement("div",null,l.a.createElement(li,null,l.a.createElement("div",null,l.a.createElement(v.a,{variant:"caption",color:"primary",className:"large"},t),l.a.createElement(v.a,{variant:"caption",color:"GrayText"},"Entr\xe9es stock")),l.a.createElement(rn.a,{fontSize:"small",color:"primary"})),l.a.createElement(li,null,l.a.createElement("div",null,l.a.createElement(v.a,{variant:"caption",color:"secondary",className:"large"},a),l.a.createElement(v.a,{variant:"caption",color:"GrayText"},"Sorties stock")),l.a.createElement(Nl.a,{fontSize:"small",color:"secondary"}))),l.a.createElement("div",{className:"chart"},l.a.createElement(Ll,null)))),l.a.createElement(ti,null)),l.a.createElement(jl,{data:e})))}var ti=function(){var e=Object(P.c)($t),t="loading"===Object(P.c)(Yt),a=Object(r.useState)(!1),n=Object(o.a)(a,2),i=n[0],c=n[1],u=Object(r.useState)(null),s=Object(o.a)(u,2),d=s[0],m=s[1],p=Object(P.b)();return l.a.createElement(si,null,l.a.createElement(v.a,{variant:"h2",sx:{mb:"0px!important"}},"Filtres"),l.a.createElement(di,null,l.a.createElement(ni,null),l.a.createElement(wt.a,{mb:1,mt:2,display:"flex",alignItems:"center"},l.a.createElement(vt,{color:"default",checked:i,onChange:function(t){c(!i),0===e.length&&p(Lt())},label:"Produits"}),t&&l.a.createElement(Oe.a,{size:10,sx:{ml:1.5}})),l.a.createElement(wt.a,{ml:3},l.a.createElement(je,{value:d,placeholder:"S\xe9l\xe9ctionnez un produit",filterSelectedOptions:!0,label:"S\xe9l\xe9ctionnez un produit",setValue:function(e){m(e)},disabled:!i||t,minWidth:150,options:e.map(function(e){return{id:e.id,label:e.designation,marge:e.marge}})}))))},ai=[{id:1,name:"24h"},{id:2,name:"3 jours"},{id:3,name:"1 semaine"},{id:4,name:"1 mois"}],ni=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)({id:4,name:"1 mois"}),c=Object(o.a)(i,2),u=c[0],s=c[1],d=!!a,m=function(e){n(a?null:e.currentTarget)},p=d&&Boolean(a)?"transition-popper":void 0;return l.a.createElement(ci,null,l.a.createElement("button",{"aria-describedby":p,type:"button",onClick:m},"P\xe9riode :",l.a.createElement("span",null,u.name),l.a.createElement(zl.a,{fontSize:"small"})),l.a.createElement(Ze.a,{id:p,open:d,anchorEl:a,onClose:m,elevation:3,anchorOrigin:{vertical:"bottom",horizontal:"left"},BackdropProps:{sx:{backgroundColor:"rgba(0,0,0,0)"}}},l.a.createElement(oi,null,l.a.createElement(v.a,{variant:"caption"},"S\xe9l\xe9ctionner la p\xe9riode"),l.a.createElement("ul",null,ai.map(function(e){return l.a.createElement("li",{key:e.id,onClick:function(){return s(e),void n(null)}},l.a.createElement("span",null,e.id===u.id&&l.a.createElement(Cl.a,{fontSize:"small",color:"default"})),l.a.createElement(v.a,{variant:"caption"},e.name))})))))},ri=Object(m.a)("div")(function(){return{}}),li=Object(m.a)("div")(function(e){e.theme;return{display:"flex",alignItems:"center",width:150,border:"1px solid #eaeaea",borderRadius:5,padding:10,"&:not(:last-child)":{marginBottom:10},"& > div":{flex:1,display:"flex",flexDirection:"column","& > span":{fontSize:12},"& > .large":{fontSize:25,fontWeight:"bold"}}}}),ii=Object(m.a)("header")(function(){return{display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #eaeaea",padding:"10px 0"}}),ci=Object(m.a)("div")(function(){return{display:"flex",alignItems:"center","& > button":{display:"flex",alignItems:"center",cursor:"pointer",padding:"8px 14px",border:"1px solid #b1d8ff33",backgroundColor:"#91bfed14",borderRadius:5,outline:"none",color:"#666","& > span":{color:"#333",fontWeight:600}}}}),oi=Object(m.a)("div")(function(){return{display:"flex",flexDirection:"column",backgroundColor:"#fff",border:"1px solid #eaeaea",borderRadius:5,width:300,"& > span:first-of-type":{borderBottom:"1px solid #eaeaea",padding:"7px 10px"},"& > span, & li":{fontSize:12},"& li":{cursor:"pointer",display:"flex",alignItems:"center",padding:"0px 10px",transition:"background .2s","& > span":{padding:"7px 0px",fontSize:12},"& > span:first-of-type":{width:"10%",padding:0},"&:hover":{backgroundColor:"#eaeaea"}},"& li:not(:last-child)":{borderBottom:"1px solid #eaeaea"}}}),ui=Object(m.a)("div")(function(e){return{display:"flex",padding:"20px 0","& > div":{flex:1},"& .chart":{height:210,backgroundColor:"#fff",borderRadius:5,padding:10,border:"1px solid #eaeaea",width:500,marginLeft:15},"& h2":{padding:"8px 16px",backgroundColor:e.theme.palette.primary.main,fontWeight:"bold",color:"#fff",borderTopLeftRadius:6,borderTopRightRadius:6,borderBottom:"1px solid #eaeaea"}}}),si=Object(m.a)("div")(function(e){return{backgroundColor:"#fff",borderRadius:5,border:"1px solid #eaeaea",marginLeft:15,"& > h2":{padding:"8px 16px",backgroundColor:e.theme.palette.primary.main,color:"#fff",fontWeight:"bold",borderTopLeftRadius:6,borderTopRightRadius:6,borderBottom:"1px solid #eaeaea"}}}),di=Object(m.a)("div")(function(){return{padding:"15px 16px"}}),mi=a(1131);function pi(e){var t=e.taxes,a=void 0===t?[]:t,n=e.handleDelete;return l.a.createElement(Cn.a,{direction:"row",spacing:1,sx:{mb:2}},a.map(function(e){return l.a.createElement(kn.a,{key:e.label,label:"".concat(e.label," : ").concat(e.pourcentage,"%"),variant:"outlined",color:"primary",onDelete:function(){return n(e.label)}})}))}function fi(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(""),c=Object(o.a)(i,2),u=c[0],s=c[1],m=Object(r.useState)(0),p=Object(o.a)(m,2),b=p[0],g=p[1],E=Object(r.useState)(0),x=Object(o.a)(E,2),j=x[0],O=x[1],y=Object(r.useState)(""),S=Object(o.a)(y,2),k=S[0],C=S[1],w=Object(r.useState)(""),N=Object(o.a)(w,2),T=N[0],z=N[1],_=Object(r.useState)(""),I=Object(o.a)(_,2),A=I[0],q=I[1],R=Object(r.useState)(null),F=Object(o.a)(R,2),W=F[0],D=F[1],M=Object(r.useState)("31"),B=Object(o.a)(M,2),V=B[0],L=B[1],U=Object(r.useState)(""),H=Object(o.a)(U,2),Q=H[0],G=H[1],J=Object(r.useState)(""),X=Object(o.a)(J,2),$=X[0],Y=X[1],K=Object(r.useState)([]),Z=Object(o.a)(K,2),ee=Z[0],te=Z[1],ae=Object(r.useState)(!1),ne=Object(o.a)(ae,2),re=ne[0],le=ne[1],ie=Object(r.useState)({}),ce=Object(o.a)(ie,2),oe=ce[0],ue=ce[1],se=Object(r.useState)(!1),de=Object(o.a)(se,2),me=de[0],pe=de[1],be=Object(P.c)(Kt),ge=Object(P.c)(Zt),ve=Object(r.useRef)(),Ee=function(){pe(!me)},xe=function(e,t){switch(t){case"designation":n(e),ue(Object(he.a)(Object(he.a)({},oe),{},{designation:null}));break;case"code":C(e),ue(Object(he.a)(Object(he.a)({},oe),{},{code:null}));break;case"qMin":O(e),null===j&&""===j||ue(Object(he.a)(Object(he.a)({},oe),{},{qMin:null}));break;case"unite":s(e),ue(Object(he.a)(Object(he.a)({},oe),{},{unite:null}));break;case"marge":case"emballage":g(e),ue(Object(he.a)(Object(he.a)({},oe),{},{marge:null}));break;case"taxeNom":G(e),ue(Object(he.a)(Object(he.a)({},oe),{},{taxeNom:null}));break;case"taxeValue":Y(e),ue(Object(he.a)(Object(he.a)({},oe),{},{taxeValue:null}));break;case"numCompte":L(e),ue(Object(he.a)(Object(he.a)({},oe),{},{numCompte:null}));break;case"categorie":D(e),ue(Object(he.a)(Object(he.a)({},oe),{},{categorie:null}));break;default:return}},ye=Object(P.b)(),Se=function(){ue(Object(he.a)(Object(he.a)({},oe),{},{server:null})),ye(Jt.initError())};return Object(r.useEffect)(function(){ue(Object(he.a)(Object(he.a)({},oe),{},{server:be}))},[be]),Object(r.useEffect)(function(){ye(Vt())},[ye]),l.a.createElement(l.a.Fragment,null,me&&l.a.createElement(An,{onClose:Ee,open:me}),l.a.createElement("form",{className:"produit-form",onSubmit:function(e){if(e.preventDefault(),!re){var t=wn(a,u,b,j,k,V),r=t.valid,l=t.errors;if(r){le(!0);var i={designation:a,code_produit:k,description:T,emballage:A,unite:u,marge:b,taxes:ee,quantite:0,q_min:j,categorieId:W?W.id:null};ye(Ht({data:i})).then(function(e){"success"===e.payload.state&&(n(""),s(""),O(""),g(0),C(""),z(""),D(null),te([]),G(""),Y(""),L("31"),q(""),ve.current&&ve.current.focus())}).finally(function(){return le(!1)})}else ue(l)}}},oe.server&&l.a.createElement(He,{title:"Erreur",open:!!be,message:oe.server,onAgree:Se,onClose:Se,agreeBtnText:"Ok"}),l.a.createElement("header",null,l.a.createElement(v.a,{variant:"h1"},"Ajout des nouveaux produits/Articles"),l.a.createElement(f.c,{to:"/stock/produits",className:function(e){return e.isActive?"active-navlink":"navlink"}},l.a.createElement(h.a,{variant:"text",startIcon:l.a.createElement(mi.a,null),color:"primary"},"Liste des produits"))),l.a.createElement("div",null,l.a.createElement("div",{className:"form-block"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"1. G\xe9n\xe9ralit\xe9s"),l.a.createElement("div",null,l.a.createElement(fe.a,{inputRef:ve,label:"D\xe9signation du produit *",id:"designation",name:"designation",placeholder:"D\xe9signation du produit",variant:"outlined",fullWidth:!0,type:"text",value:a,onChange:function(e){return xe(e.target.value,"designation")},error:!!oe.designation,helperText:oe.designation}),l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(fe.a,{label:"Code Produit *",id:"code",name:"code",placeholder:"Code du produit",variant:"outlined",fullWidth:!0,type:"text",value:k,onChange:function(e){return xe(e.target.value,"code")},error:!!oe.code,helperText:oe.code}),l.a.createElement(fe.a,{label:"Quantit\xe9 minimale *",id:"q_min",name:"q_min",placeholder:"Quantit\xe9 minimale",variant:"outlined",fullWidth:!0,type:"number",value:j,onChange:function(e){return xe(e.target.value,"qMin")},error:!!oe.qMin,helperText:oe.qMin})),l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(fe.a,{label:"Unit\xe9 de m\xe9sure du produit *",id:"unite",name:"unite",placeholder:"Unit\xe9 de m\xe9sure du produit",variant:"outlined",type:"text",fullWidth:!0,value:u,onChange:function(e){return xe(e.target.value,"unite")},error:!!oe.unite,helperText:oe.unite}),l.a.createElement(fe.a,{label:"Marge de b\xe9n\xe9fice sur une unit\xe9 (%) *",id:"marge",name:"marge",placeholder:"Marge de b\xe9n\xe9fice sur une unit\xe9",variant:"outlined",fullWidth:!0,type:"number",value:b,onChange:function(e){return xe(e.target.value,"marge")},error:!!oe.marge,helperText:oe.marge})),l.a.createElement(fe.a,{label:"L'emballage du produit (Conteneur)",id:"emballage",name:"emballage",placeholder:"L'emballage du produit",variant:"outlined",fullWidth:!0,type:"text",value:A,onChange:function(e){return xe(e.target.value,"emballage")}}),l.a.createElement(d.a,{mt:2},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"D\xe9scripton"),l.a.createElement(fe.a,{id:"description",name:"description",placeholder:"Une petite description du produit",variant:"outlined",fullWidth:!0,multiline:!0,value:T,onChange:function(e){return xe(e.target.value,"description")},rows:4,error:!!oe.description,helperText:oe.description})))),l.a.createElement("div",{className:"form-block"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"2. Cat\xe9gorie du produit (gamme)"),l.a.createElement("div",null,l.a.createElement(je,{label:"Cat\xe9gorie *",id:"Cat\xe9gorie",name:"Cat\xe9gorie",placeholder:"Cat\xe9gorie",variant:"outlined",type:"text",fullWidth:!0,options:ge.map(function(e){return Object(he.a)({label:e.nom_categorie},e)})||[],value:W,setValue:function(e){return D(e)},sx:{display:"block"}}),l.a.createElement(h.a,{variant:"outlined",color:"primary",size:"medium",onClick:Ee},"Nouvelle cat\xe9gorie"))),l.a.createElement("div",{className:"form-block"},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"3. Autres donn\xe9es"),l.a.createElement("div",null,l.a.createElement(fe.a,{label:"Num\xe9ro de compte stock *",placeholder:"Num\xe9ro de compte stock",name:"compte",id:"compte",inputProps:{maxLength:8},variant:"outlined",value:V,onChange:function(e){var t=e.target.value;""===t||"3"!==t[0]?ue(Object(he.a)(Object(he.a)({},oe),{},{numCompte:"Mauvais num\xe9ro de compte"})):ue(Object(he.a)(Object(he.a)({},oe),{},{numCompte:null})),L(t)},error:!!oe.numCompte,helperText:oe.numCompte}),l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(v.a,{variant:"h2",className:"block-title"},"Autres taxes li\xe9es"),ee.length>0&&l.a.createElement(pi,{taxes:ee,handleDelete:function(e){var t=ee.filter(function(t){return t.label!==e});te(t)}}),l.a.createElement(d.a,{display:"flex",alignItems:"flex-start"},l.a.createElement(fe.a,{label:"Nom de la taxe",id:"nom_taxe",name:"nom_taxe",placeholder:"Taxe",variant:"outlined",type:"text",sx:{display:"block",mr:1,my:0},value:Q,onChange:function(e){return xe(e.target.value,"taxeNom")},error:!!oe.taxeNom,helperText:oe.taxeNom}),l.a.createElement(fe.a,{label:"Valeur (%)",id:"taxe",name:"taxe",placeholder:"Taxe",variant:"outlined",type:"number",inputProps:{maxLength:5,minLength:0},sx:{display:"block",mr:1,my:0},value:$,onChange:function(e){return xe(e.target.value,"taxeValue")},error:!!oe.taxeValue,helperText:oe.taxeValue}),l.a.createElement(h.a,{variant:"outlined",color:"primary",size:"medium",startIcon:l.a.createElement(Sn.a,null),onClick:function(){var e=!0,t=Object(he.a)({},oe);""===Q&&(e=!1,t.taxeNom="Valeure r\xe9quise."),""===$&&(e=!1,t.taxeValue="Valeure r\xe9quise."),ee.some(function(e){return e.label===Q})&&(e=!1),e?(te([].concat(Object(Nt.a)(ee),[{label:Q,pourcentage:$}])),G(""),Y("")):ue(t)}},"Ajouter")))))),l.a.createElement("div",{className:"form-actions"},l.a.createElement("div",{className:"horizontal-align"},l.a.createElement(h.a,{variant:"outlined",color:"default",size:"medium",disableElevation:!0,sx:{mr:2}},"Annuler"),l.a.createElement(h.a,{variant:"contained",color:"primary",size:"medium",disableElevation:!0,type:"sumbit",sx:{minWidth:124.78,height:36.5}},re?l.a.createElement(Oe.a,{size:12,color:"inherit"}):"Enregistrer")))))}var bi=a(1165),gi=a(583),vi=a.n(gi);function Ei(e,t,a,n,r,l){return{name:e,calories:t,fat:a,carbs:n,protein:r,price:l,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]}}function hi(e){var t=e.row,a=r.useState(!1),n=Object(o.a)(a,2),l=n[0],i=n[1];return r.createElement(r.Fragment,null,r.createElement(Ya.a,{sx:{"& > *":{borderBottom:"unset"}}},r.createElement(Ga.a,null,r.createElement(g.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!l)}},l?r.createElement(vi.a,null):r.createElement(Qn.a,null))),r.createElement(Ga.a,{component:"th",scope:"row"},t.name),r.createElement(Ga.a,{align:"right"},t.calories),r.createElement(Ga.a,{align:"right"},t.fat),r.createElement(Ga.a,{align:"right"},t.carbs),r.createElement(Ga.a,{align:"right"},t.protein)),r.createElement(Ya.a,null,r.createElement(Ga.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.createElement(bi.a,{in:l,timeout:"auto",unmountOnExit:!0},r.createElement(d.a,{sx:{margin:1}},r.createElement(v.a,{variant:"h6",gutterBottom:!0,component:"div"},"History"),r.createElement(Ha.a,{size:"small","aria-label":"purchases"},r.createElement($a.a,null,r.createElement(Ya.a,null,r.createElement(Ga.a,null,"Date"),r.createElement(Ga.a,null,"Customer"),r.createElement(Ga.a,{align:"right"},"Amount"),r.createElement(Ga.a,{align:"right"},"Total price ($)"))),r.createElement(Qa.a,null,t.history.map(function(e){return r.createElement(Ya.a,{key:e.date},r.createElement(Ga.a,{component:"th",scope:"row"},e.date),r.createElement(Ga.a,null,e.customerId),r.createElement(Ga.a,{align:"right"},e.amount),r.createElement(Ga.a,{align:"right"},Math.round(e.amount*t.price*100)/100))}))))))))}var xi=[Ei("Frozen yoghurt",159,6,24,4,3.99),Ei("Ice cream sandwich",237,9,37,4.3,4.99),Ei("Eclair",262,16,24,6,3.79),Ei("Cupcake",305,3.7,67,4.3,2.5),Ei("Gingerbread",356,16,49,3.9,1.5)];function ji(){return r.createElement(Xa.a,{component:on.a},r.createElement(Ha.a,{"aria-label":"collapsible table"},r.createElement($a.a,null,r.createElement(Ya.a,null,r.createElement(Ga.a,null),r.createElement(Ga.a,null,"Dessert (100g serving)"),r.createElement(Ga.a,{align:"right"},"Calories"),r.createElement(Ga.a,{align:"right"},"Fat\xa0(g)"),r.createElement(Ga.a,{align:"right"},"Carbs\xa0(g)"),r.createElement(Ga.a,{align:"right"},"Protein\xa0(g)"))),r.createElement(Qa.a,null,xi.map(function(e){return r.createElement(hi,{key:e.name,row:e})}))))}a(1135);function Oi(){return l.a.createElement("div",{className:"historique-page"},l.a.createElement("header",null,l.a.createElement(d.a,{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#fff",padding:"5px 15px",borderRadius:"5px"},l.a.createElement(v.a,{className:"module-title"},"Historique des entr\xe9es"),l.a.createElement(f.b,{to:"/stock/nouveau_produit"},l.a.createElement(h.a,{variant:"text",color:"primary"},"Ajouter un produit")))),l.a.createElement("div",null,l.a.createElement(ji,null)))}function yi(){var e=Object(r.useContext)(ki);return La(e,"gestion_stock"),l.a.createElement("div",null,l.a.createElement(Xn,null),l.a.createElement("main",{className:"main-stock"},l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/produits",element:l.a.createElement(Wn,null)}),l.a.createElement(u.b,{path:"/nouveau_produit",element:l.a.createElement(fi,null)}),l.a.createElement(u.b,{path:"approvisionnement",element:l.a.createElement(El,null)}),l.a.createElement(u.b,{path:"/historique_approvisionnement",element:l.a.createElement(Oi,null)}),l.a.createElement(u.b,{path:"fiche_de_stock",element:l.a.createElement(ei,null)}),l.a.createElement(u.b,{path:"/",element:l.a.createElement(Wn,null)}))))}var Si=Object(r.createContext)({}),ki=Object(r.createContext)(),Ci=Object(s.a)("http://localhost:8082");var wi=function(){var e="loading"===Object(P.c)(Z),t=Object(P.c)(K),a=Object(P.b)(),n=Object(r.useState)(!1),i=Object(o.a)(n,2),c=i[0],s=i[1],d=Object(r.useState)(""),m=Object(o.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)(),g=Object(o.a)(b,2),v=g[0],E=g[1],h=Object(r.useState)("global-feed-back"),x=Object(o.a)(h,2),j=x[0],O=x[1],y={onClose:function(){s(!1),f("")},createFeedback:function(e,t,a){s(!0),f(e),O(t),E(a)},getFeedback:function(){return{messageState:p,openState:c,idState:j,typeState:v}}};return Object(r.useEffect)(function(){a(G()).then(function(e){var t=e.payload;if(!t||!t.connected){var a=te();window.location.href=a}})},[a]),l.a.createElement(l.a.Fragment,null,e||!t?l.a.createElement(ye,{message:"Chargement...",sx:{minHeight:"100vh"}}):l.a.createElement(ki.Provider,{value:Ci},l.a.createElement(Si.Provider,{value:y},l.a.createElement("div",null,l.a.createElement(re,null),l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/stock/*",element:l.a.createElement(yi,null)}),l.a.createElement(u.b,{path:"/facturation/*",element:l.a.createElement(Ua,null)}),l.a.createElement(u.b,{path:"/facture/:numFacture",element:l.a.createElement(Je,null)}),l.a.createElement(u.b,{path:"*",element:l.a.createElement(u.a,{to:"/stock"})}))),l.a.createElement(rt,null))))},Ni=Object(U.a)({reducer:{produits:Gt,entrees:Rr,stocks:bl,ventes:ca,assujetti:X,factures:Ia,facturesAchat:dr,configs:it,ficheStocks:Xl}}),Ti=a(381),zi=Object(Ti.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),title:{fontSize:"clamp(3.625rem, 1.2857rem + 3.5714vw, 4rem)"},h1:{fontSize:"1.3rem",fontWeight:"400"},h2:{fontSize:"1rem",fontWeight:"400",marginBottom:"10px!important"},h3:{fontSize:28},h4:{fontSize:26},h5:{fontSize:24},h6:{fontSize:22},body1:{fontSize:20},body2:{fontSize:18},caption:{fontSize:16}}}),_i=Object(Ti.a)({palette:{primary:{main:"#307ECC",light:"#6FAED9",dark:"#0b222f"},secondary:{main:"#fd7e14"},default:{main:"#555",light:"#B6B6B6",dark:"#333"},blackish:{main:"#001320",light:"#00406c"},background:{main:"#E4E6E9"}},typography:zi.typography,components:{MuiButton:{defaultProps:{size:"medium"},styleOverrides:{root:{borderRadius:5,textTransform:"initial"}}},MuiTextField:{defaultProps:{size:"small"},styleOverrides:{root:{fontSize:14,borderRadius:0,margin:"5px 0 10px 0"}}},MuiInputLabel:{styleOverrides:{root:{fontSize:15}}},MuiOutlinedInput:{styleOverrides:{root:{borderRadius:3},input:{fontSize:15}}},MuiPaper:{defaultProps:{elevation:3}},MuiTableContainer:{styleOverrides:{root:{borderRadius:5,boxShadow:"none"}}},MuiTable:{styleOverrides:{root:{borderRadius:5}}},MuiFormHelperText:{styleOverrides:{root:{fontSize:10}}},MuiCheckbox:{defaultProps:{size:"small"},styleOverrides:{root:{padding:0}}},MuiRadio:{defaultProps:{size:"small"},styleOverrides:{root:{padding:0}}},MuiFormControlLabel:{styleOverrides:{root:{marginLeft:0},label:{fontSize:16,marginLeft:5}}},MuiBackdrop:{styleOverrides:{root:{background:"#00000042"}}}}}),Ii=a(1166);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P.a,{store:Ni},l.a.createElement(Ii.a,{theme:_i},l.a.createElement(f.a,null,l.a.createElement(wi,null))))),document.getElementById("root"))},562:function(e,t,a){e.exports=a.p+"static/media/nodata.ad17058e.svg"},563:function(e,t,a){e.exports=a.p+"static/media/void.c7678f08.svg"},631:function(e,t,a){e.exports=a(1049)},636:function(e,t,a){},639:function(e,t,a){},663:function(e,t,a){},665:function(e,t){},667:function(e,t){},694:function(e,t){},695:function(e,t){},770:function(e,t){},917:function(e,t,a){},918:function(e,t,a){},919:function(e,t,a){}},[[631,1,2]]]);
//# sourceMappingURL=main.d40bebaa.chunk.js.map