{"version":3,"sources":["assets/nodata.svg","assets/void.svg","app/reducers/assujetti.js","utilities/helpers.js","Components/Topbar.js/index.js","Components/Inputs/DateMaskInput.js","app/reducers/produit.js","Components/Inputs/Search.js","Components/Table/ProduitTableau.js","Components/Inputs/ComboBox.js","Components/Loading/Chargement.js","Components/Inputs/NumberFormat.js","Components/Inputs/Radio.js","Components/Dialogs/LargeDialog.js","Components/Facture/index.js","Components/Dialogs/MenuPoppover.js","Components/Dialogs/Feedback.js","app/reducers/config.js","Components/Card/TauxDevise.js","modules/Facturation/utilities/helpers.js","modules/Facturation/components/DefaultValues.js","app/reducers/vente.js","modules/Facturation/components/ResulutTable.js","modules/Facturation/components/ProduitListStyledComponents.js","modules/Facturation/components/SelectedProduitStyledComponents.js","modules/Facturation/utilities/validators.js","modules/Facturation/components/FactureModal.js","app/reducers/facture.js","modules/Facturation/utilities/hooks.js","modules/Facturation/components/FactureRecente.js","modules/Facturation/pages/index.js","modules/Facturation/navigation.js","modules/Stock/pages/Produit.js","modules/Stock/components/SideBar.js","modules/Stock/components/MultipleFormApprov.js","app/reducers/factureAchat.js","modules/Stock/components/ApprovProduitList.js","app/reducers/entree.js","modules/Stock/components/SelectedApprovFacture.js","modules/Stock/components/ListeFacturesAchat.js","modules/Stock/utilities/validators/produit.js","modules/Stock/components/FormApprovisionnement.js","modules/Stock/components/TableApprovisionnement.js","app/reducers/stock.js","modules/Stock/pages/Approvisionnement.js","modules/Stock/pages/FicheStock.js","modules/Stock/components/CategorieForm.js","modules/Stock/pages/NouveauProduit.js","modules/Stock/components/ApprovHistoryTable.js","modules/Stock/pages/Historique.js","modules/Stock/navigation.js","App.js","app/store.js","app/theme.js","index.js"],"names":["module","exports","__webpack_require__","p","getUserData","createAsyncThunk","Object","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","_createSlice","createSlice","name","initialState","assujetti","user","auth","status","extraReducers","_extraReducers","defineProperty","pending","state","fulfilled","action","payload","connected","rejected","error","reducer","actions","getAssujetti","getUser","getAuth","getreqState","dateCompare","b","x","y","Date","valueOf","isFinite","NaN","getLoginRedirectUrl","href","window","location","protocol","slice","indexOf","baseUrl","length","split","console","log","formatNumber","number","toLocaleString","getPrixUnitaire","prixTotal","quantite","type","pu","Topbar","useSelector","theme","useTheme","_useState","useState","_useState2","slicedToArray","openMenu","setOpenMenu","toggleMenu","event","key","react_default","createElement","className","style","backgroundColor","palette","grey","padding","spacing","borderBottom","primary","light","Box","display","alignItems","IconButton","sx","mr","onClick","Apps_default","fontSize","Topbar_js_MainAppMenu","open","Typography","color","variant","fontWeight","Topbar_js_User","User","_ref","Avatar","width","height","prenom","ArrowDropDown_default","StyledMainMenuHeader","styled","position","justifyContent","StyledContentContainer","StyledMenuList","flexDirection","StyledMenuCard","_ref2","cursor","borderRadius","transition","&:not(:last-child)","marginBottom","& > svg","marginRight","& > span","&.menu-card:hover","boxShadow","shadows","StyledFooter","bottom","left","right","& > .copy-right","MainAppMenu","_ref3","SwipeableDrawer","anchor","onClose","onOpen","BackdropProps","Button","endIcon","ArrowForward_default","mb","pl","LocalGroceryStore_default","react_router_dom","to","target","Inventory_default","Receipt_default","CreditCard_default","Groups_default","Settings_default","raison_sociale","Divider","TextMaskCustom","React","props","ref","onChange","other","objectWithoutProperties","_excluded","react","esm","assign","mask","definitions","#","inputRef","onAccept","value","overwrite","label","id","_excluded2","TextField","InputProps","inputComponent","produitEntity","createEntityAdapter","selectId","item","getInitialState","venteRequestStatus","errors","categories","getCategoriesProduit","post","_x","apply","this","arguments","_callee2","_context2","getProduits","_callee3","_context3","getVenteDataProduits","_callee4","_context4","creerProduit","_ref6","_callee5","_ref5","_context5","_x2","produit_createSlice","reducers","initError","appendCategorie","concat","toConsumableArray","produit_extraReducers","upsertMany","upsertOne","produit","err","message","_produitEntity$getSel","getSelectors","produits","selectAll","getErrors","selectById","getCategories","getFilterdProduits","categorieId","filter","values","entities","prod","categorieProduitId","quantite_min","SearchAuctoComplete","minWidth","setValue","options","placeholder","textFieldXs","helperText","Autocomplete","objectSpread2","newValue","popupIcon","Search","isOptionEqualToValue","option","autoHighlight","getOptionLabel","renderInput","params","memo","StyledBox","border","common","white","StyledInput","outline","flex","undefined","StyledContainer","StyledHorizontal","&.top > div","& > *:last-child","marginLeft","StyledFilters","StyledTab","&.active","main","StyledTableCell","TableCell","_ref4","tableCellClasses","head","black","body","&.prodLink","textDecoration","&:hover","StyledTableRow","TableRow","&:nth-of-type(odd)","hover","&:last-child td, &:last-child th","ProduitTableau","_React$useState","_React$useState2","selected","setSelected","categorie","setCategorie","_useState3","_useState4","setFilter","_useState5","_useState6","searchText","setSearchText","dispatch","useDispatch","handleFilterClick","useEffect","ProduitTableau_StyledContainer","Search_SearchAuctoComplete","map","designation","mt","size","disableElevation","disabled","Inputs_ComboBox","cat","nom_categorie","TableContainer","marginTop","Table","aria-label","TableHead","Checkbox","indeterminate","checked","newSelecteds","n","inputProps","align","TableBody","i","isItemSelected","e","selectedIndex","newSelected","handleClick","code_produit","component","scope","categorie_produit","code_categorie","unite","parseFloat","Warning","marge","Chargement","textAlign","CircularProgress","NumberFormatCustom","prefix","suffix","NumberFormat_excluded","react_number_format_es","getInputRef","onValueChange","thousandSeparator","isNumericString","maxLength","NumberFormat_excluded2","BpIcon","mode","backgroundImage",".Mui-focusVisible &","outlineOffset","input:hover ~ &","input:disabled ~ &","background","BpCheckedIcon","&:before","content","BpRadio","Radio","bgcolor","disableRipple","checkedIcon","icon","FormControlLabel","control","LargeDialog","title","onAgree","disagreeBtnText","agreeBtnText","onDisagree","Dialog","aria-labelledby","aria-describedby","& .MuiDialog-container","& h2","& .MuiDialogContent-root","& p","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","MyDocument","numFacture","useParams","facture","setFacture","loading","setLoading","then","catch","finally","Modal","styles","frameContainer","Fragment","react_pdf_browser_es","header","headerSide","headerText","alignH","text","num_facture","date","toLocaleDateString","toLocaleTimeString","table","Facture_TabHeader","tabBody","Facture_TabRow","Facture_TabFooter","totalHT","total_ht","tva","total_tva","TabHeader","tabHeader","tabRow","tabCol","total","TabRow","prix_unitaire","q_sortie","TabFooter","tabFooter","footerContent","labelContainer","footerRow","borderTopColor","borderStyle","borderTopWidth","valueContainer","StyleSheet","create","paddingTop","paddingBottom","paddingHorizontal","fontFamily","marginVertical","borderBottomColor","borderBottomWidth","fontStyle","paddingVertical","flexBasis","MenuPopover","handleClose","anchorEl","children","anchorOrigin","MenuPoppover_excluded","Popover","vertical","horizontal","Feedback","autoHideDuration","_useContext","useContext","FeedbackContext","getFeedback","_getFeedback","openState","messageState","idState","typeState","reason","Snackbar","TransitionProps","onExited","Alert","severity","elevation","config_createSlice","taux","devise","setTaux","setDevise","getTaux","configs","getDevise","StyledInfo","&","& .value","TauxDevise","TauxDevise_StyledContainer","getClientData","numDef","cb","nD","compareNumDef","num_def","replaceAll","numero_def","d","_x3","def1","def2","fifo","entrees","qSortie","qSparEntree","qS","es","entreeSortie","pT","sorted","sort","createdAt","_loop","quantite_entree","entreeId","reste","Math","abs","push","q_entree","entree","pv_unitaire","newEntrees","calculeFacture","remise","q","st","forEach","quantiteSortie","prixTot","isNaN","sousTotal","netAPayer","Default","handleChangeClient","autreTaxes","setAutreTaxes","setDefValue","clientError","def","setDef","client","setClient","loadingClient","setLoadingClient","_useState7","_useState8","foundState","setFoundState","_useState9","_useState10","assujettiError","setAssujettiError","setTimeout","Box_Box","CheckCircle_default","Cancel_default","NumberFormat","venteEntity","count","nouvelleVente","getVenteCount","vente_createSlice","addFactureCourante","factureRecente","vente_extraReducers","ventes","_venteEntity$getSelec","getReqState","getCount","join","&.body","&.body > span","&.qt","&.header","&.total","&.total.body > span","StyledTableInputCell","StyledTableCol","StyledDisplay","maxWidth","ResultDesplay","qT","sT","nP","setRemise","ResulutTable_StyledTableCell","ButtonBase","focus","&>div","&>div:first-of-type","&>div:last-child","&>*","&>div:first-of-type ","&.body > div:first-of-type > div > div","InputQuantite","singleValue","onSingleChange","SelectedProduitStyledComponents_excluded","SelectedProduitStyledComponents_StyledTableInputCell","inputMode","v","find","validerDefaultValues","clientDef","valid","validerVente","selectedProduits","some","sP","ProduitModal","closeHandler","submitHandler","selectProduits","notSelected","setNotSelected","setSelectedProduits","setQT","setST","setTva","_useState11","_useState12","setNP","_useState13","_useState14","produitVenteStock","setProduitVenteStock","_useState15","alert","_useState16","canContinue","setCanContinue","_useState17","_useState18","_useState19","_useState20","validationError","setValidationError","saving","_useState21","_useState22","produitValue","setProduitValue","_useState23","_useState24","qValue","setQValue","_useState25","_useState26","pTotal","setPTotal","handleCloseAlert","handleRemoveProduit","index","newProduitsList","_","handleQuantiteChange","produitId","_fifo2","venteStock","_calculeFacture2","_fifo3","_calculeFacture3","_validerVente","net_payer","Inputs_Search","ProduitListStyledComponents_StyledTableRow","ProduitListStyledComponents_StyledTableCell","newProds","_fifo","_calculeFacture","nS","handleSelectFromProduitList","SelectedProduitStyledComponents_StyledTableRow","SelectedProduitStyledComponents_StyledTableCell","tabIndex","DeleteOutline_default","SelectedProduitStyledComponents_InputQuantite","m","onSubmit","preventDefault","q_min","margin","Check_default","currentFacture","printFacture","getCurrentFacture","facture_createSlice","setCurrentFacture","setPrintFacture","facture_extraReducers","getTodayFactureRecente","factures","useGetVenteData","selectAllProduits","getData","useCallback","useGetNumFacture","FactureRecente","& > h2","StyledCard","StyledCardHeader","StyledCardBody","& > ul","& > li","minHeight","& > ul:first-of-type","Fade","in","getHours","getMinutes","rel","Print_default","Mail_default","total_quantite","mode_payement","FacturationHome","addProduits","setAddProduits","modePay","etatFact","searchingClient","setSearchingClient","validationErrors","setValidationErrors","toggleProduits","_validerDefaultValues","venteData","factureRef","etat_facture","NavigationFacturation","_useGetVenteData","navigate","useNavigate","handleReturn","hasStock","react_router","path","element","Produits","startIcon","Add_default","StockSideBar","openProduit","setOpenProduit","openApprov","setOpenApprov","borderRight","ListItemButton","pr","&:hover, &:focus","ListItemIcon","Inventory2_default","ListItemText","primaryTypographyProps","lineHeight","secondaryTypographyProps","noWrap","my","KeyboardArrowDown_default","opacity","transform","isActive","overflow","whiteSpace","textOverflow","FileDownload_default","py","ListAlt_default","NotificationImportant_default","MultipleFormApprov","Close","fullWidth","Inputs_DateMaskInput","Array","fill","arr","MultipleFormApprov_Row","num","Row","setRowsHandler","setQuantite","cu","setCu","dateExp","setDateExp","defaultValue","factureAchatEntity","sortComparer","date_emission","getFacturesAchat","_yield$axios$get","factureAchat_createSlice","updateteOne","_action$payload","attribute","found","factureAchat_extraReducers","_factureAchatEntity$g","facturesAchat","getReqStatus","ApprovProduitList","_ref$approvProduits","approvProduits","_ref$numApprov","numApprov","removeProduit","ApprovProduitList_StyledContainer","StyledHeader","Download_default","StyledList","pApprov","StyledRow","StyledCol","Tooltip","cout_u","borderTopLeftRadius","borderTopRightRadius","&>*:first-of-type","&.fill","&.right","&.action","borderTop","entreeEntity","numeros","creerEntree","creerEntreeMultiple","factureId","getEntreeCount","getEntreeNumeros","entree_createSlice","entree_extraReducers","addMany","_entreeEntity$getSele","SelectedFacture","handleAppendProduits","handleRemoveProduct","handleClearSelection","produistApprovisionnes","clearSelectedFacture","setAnchorEl","produitAchete","setProduitAchete","produitApprov","setProduitApprov","Boolean","containerRef","useRef","getSavingState","createFeedback","submitError","setSubmitError","handleOpenDialog","currentTarget","StyledFacture","reference_facture","float","StyledFactureHeader","raison_sociale_fournisseur","bon_commande","produitAchetes","total_charge","SelectedApprovFacture_StyledRow","Circle","htmlColor","StyledFactureBody","pAchete","isSelected","pApp","id_achete","SelectedApprovFacture_Row","transformOrigin","StyledMenu","pb","Chip","pt","filterSelectedOptions","prix_ht","pV_u","pA","ml","StyledMessage","Info_default","StyledProduitApprov","pAchetes","submit","canSubmit","provenance","& > p","maxHeight","overflowY","& > *","& > *:first-of-type","& > .fill","& .right","&.body:nth-of-type(2n)","borderLeft","ListeFacturesAchat","fA","approvisionnee","active","setActive","setProduitsApprovisionnes","handleSelectFacture","ListeFacturesAchat_StyledContainer","StyledNoContent","alignSelf","justifySelf","src","noData","alt","ListeFacturesAchat_StyledContentContainer","StyledAside","ListeFacturesAchat_StyledHorizontal","ListeFacturesAchat_StyledList","ListeFacturesAchat_FactureCard","onSelect","activeId","StyledDisplaySelected","prods","noSelectedImage","FactureCard","StyledFactureCard","sigle_fournisseur","quantite_total","zIndex","top","borderBottomRightRadius","&.active > .activeBar","validerNouveauProduit","qMin","code","numCompte","validerEntree","cout_unitaire","licence_url","defaultValueErrors","test","FormApprovisionnement","setProvenance","setProduit","setMarge","licence","openFactureList","setOpenFactureList","multiple","setMultiple","setErrors","setDefaultValueErrors","pv","setPv","initAll","toggleFactureList","toggleMultiple","handleChangeProduit","date_exp","num_entree","_validerEntree","History_default","FormControl","RadioGroup","Inputs_Radio","htmlFor","visibility","val","floor","ApprovisionnementTableau","donnees","selectEntrees","Paper","TableApprovisionnement_StyledTableCell","TableApprovisionnement_StyledTableRow","stockEntity","currentStock","stockPrincipal","getStocks","eseId","getOneStock","stockId","creerStock","_x4","stock_createSlice","ajouterProduit","stock_extraReducers","stock","num_stock","_stockEntity$getSelec","stocks","getStockPrincipal","Approvisionnement","FicheStock","& > h1","CategorieForm","nom","setNom","setCode","description","setDescription","nomRef","handleInputChange","validateData","handleSubmit","t0","CategorieForm_StyledContainer","server","CategorieForm_StyledHeader","Close_default","multiline","rows","AutresTaxes","_ref$taxes","taxes","handleDelete","Stack","direction","taxe","pourcentage","onDelete","NouveauProduit","setDesignation","setUnite","setQMin","emballage","setEmballage","setNumCompte","taxeNom","setTaxeNom","taxeValue","setTaxeValue","setTaxes","_useState27","_useState28","_useState29","_useState30","addCategory","setAddCategory","serverError","designRef","toggleAddCategory","handleClearServerErrors","_validerNouveauProdui","valid1","errors1","current","FormatListBulleted","t","minLength","esm_Add","errs","createData","calories","fat","carbs","protein","price","history","customerId","amount","row","setOpen","KeyboardArrowUp_default","colSpan","Collapse","timeout","unmountOnExit","gutterBottom","historyRow","round","CollapsibleTable","ApprovHistoryTable_Row","Historique","NavigationStock","createContext","App","isAuth","setOpenState","setMessageState","setTypeState","setIdState","feedbackContextValue","Provider","Topbar_js_Topbar","store","configureStore","productReducer","entreeReducer","stockReducer","venteReducer","assujettiReducer","factureReducer","factureAchatReducer","ConfigReducer","typographyTheme","createTheme","typography","h1","h2","h3","h4","h5","h6","body1","body2","caption","dark","secondary","default","blackish","components","MuiButton","defaultProps","styleOverrides","root","textTransform","MuiTextField","MuiInputLabel","MuiOutlinedInput","input","MuiPaper","MuiTableContainer","MuiFormHelperText","MuiCheckbox","MuiRadio","MuiFormControlLabel","MuiBackdrop","ReactDOM","render","StrictMode","react_redux_es","ThemeProvider","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.eb1e3294.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nodata.ad17058e.svg\";","module.exports = __webpack_public_path__ + \"static/media/void.c7678f08.svg\";","import {createSlice, createAsyncThunk} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    assujetti: null,\r\n    user: null,\r\n    auth: false,\r\n    status: 'idle',\r\n}\r\n\r\n// Thunc de recuperation des données de l'utilisateur\r\nexport const getUserData = createAsyncThunk(\r\n    \"assujetti/entreprise-data\",\r\n    async () => {\r\n        const res = await axios.get('/api/user');\r\n        return res.data;\r\n    }\r\n);\r\n\r\n// Redux Slice pour l'assujetti\r\nexport const {actions, reducer} = createSlice({\r\n    name: 'assujetti',\r\n    initialState,\r\n    extraReducers: {\r\n        [getUserData.pending]: (state) => {\r\n            state.status = 'loading'\r\n        },\r\n        [getUserData.fulfilled]: (state, action) => {\r\n            state.status = 'fulfilled'; // Reponse de succes\r\n            const data = action.payload; // Recuperation de la reponse du serveur\r\n            if (data && data.connected) {\r\n                state.user = data.user;\r\n                state.assujetti = data.assujetti;\r\n                state.auth = true;\r\n            }\r\n        },\r\n        [getUserData.rejected]: (state, action) => {\r\n            state.status = 'failed'\r\n            state.error = action.payload;\r\n            state.user = null;\r\n            state.assujetti = null;\r\n            state.auth = false;\r\n        },\r\n    }\r\n});\r\n\r\nexport const getAssujetti = state => state.assujetti.assujetti;\r\nexport const getUser = state => state.assujetti.user;\r\nexport const getAuth = state => state.assujetti.auth;\r\nexport const getreqState = state => state.assujetti.status;\r\nexport const getErrors = state => state.assujetti.errors ","/**\r\n * Compares two date\r\n * @param {date} a First date\r\n * @param {date} b Second date\r\n * @returns (a > b) - (a < b) or NAN if either a or be is not in a good Date format\r\n */\r\nexport function dateCompare(a, b) {\r\n\tlet x = a,\r\n\t\ty = b;\r\n\tx = new Date(x).valueOf();\r\n\ty = new Date(y).valueOf();\r\n\treturn isFinite(x) && isFinite(y) ? (x > y) - (x < y) : NaN;\r\n}\r\n\r\n/**\r\n * Get the redirect string url from the current url\r\n * @returns The Url string\t\r\n */\r\nexport const getLoginRedirectUrl = () => {\r\n\t// Retrieve the current url\r\n\tconst href = window.location.href;\r\n\tconst protocol = href.slice(0, href.indexOf(\"//\") + 2); // Get the protocal (http:// or https://)\r\n\t// Split the rest of the url into array to find the hostname (the first element of the array)\r\n\tlet baseUrl = href.slice(protocol.length).split(\":\"); \r\n\tconsole.log(baseUrl);\r\n\tif (baseUrl.length <= 1) {\r\n\t\tbaseUrl = href.slice(protocol.length).split(\"/\");\r\n\t}\r\n\tconsole.log(baseUrl[0]);\r\n\t// Return the url string\r\n\treturn protocol + baseUrl[0] + \"/php\";\r\n};\r\n\r\n/**\r\n * Reçoit un number et retourne le nombre formaté\r\n * @param {number} number The number to format\r\n * @returns formated number string\r\n */\r\nexport const formatNumber = (number) => {\r\n\tconst str = number.toLocaleString(\"fr\");\r\n\treturn str\r\n}\r\n\r\n/**\r\n * Calcule le prix unitaire et retourn le prix unitaire formaté\r\n * @param {number} prixTotal Total price\r\n * @param {number} quantite quantity\r\n * @param {string} type type retourné\r\n * @returns P.U\r\n */\r\nexport const getPrixUnitaire = (prixTotal, quantite, type) => {\r\n\tconst pu = prixTotal / quantite;\r\n\tif (type === \"number\") {\r\n\t\treturn pu;\r\n\t}\r\n\treturn formatNumber(pu);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./Topbar.css\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { styled } from \"@mui/styles\";\r\nimport SwipeableDrawer from \"@mui/material/SwipeableDrawer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n\tAvatar,\r\n\tIconButton,\r\n\tTypography,\r\n\tuseTheme,\r\n\tButton,\r\n\tDivider,\r\n} from \"@mui/material\";\r\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\r\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\r\nimport StockIcon from \"@mui/icons-material/Inventory\";\r\nimport CommandIcon from \"@mui/icons-material/LocalGroceryStore\";\r\nimport VenteIcon from \"@mui/icons-material/Receipt\";\r\nimport CpteIcon from \"@mui/icons-material/CreditCard\";\r\nimport PartenairesIcon from \"@mui/icons-material/Groups\";\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport AppsIcon from \"@mui/icons-material/Apps\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getUser, getAssujetti } from \"../../app/reducers/assujetti\";\r\nimport { getLoginRedirectUrl } from \"../../utilities/helpers\";\r\n\r\nexport default function Topbar() {\r\n\tconst user = useSelector(getUser);\r\n\tconst assujetti = useSelector(getAssujetti);\r\n\tconst theme = useTheme();\r\n\tconst [openMenu, setOpenMenu] = useState(false);\r\n\r\n\tconst toggleMenu = (event) => {\r\n\t\tif (\r\n\t\t\tevent &&\r\n\t\t\tevent.type === \"keydown\" &&\r\n\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetOpenMenu(!openMenu);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"appbar\"\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t\t\tpadding: theme.spacing(1, 2),\r\n\t\t\t\tborderBottom: \"2px solid \" + theme.palette.primary.light,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Box display=\"flex\" alignItems=\"center\">\r\n\t\t\t\t<IconButton sx={{ mr: 2 }} onClick={toggleMenu}>\r\n\t\t\t\t\t<AppsIcon fontSize=\"small\" />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t{openMenu && (\r\n\t\t\t\t\t<MainAppMenu open={openMenu} toggleMenu={toggleMenu} assujetti={assujetti} />\r\n\t\t\t\t)}\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\tsx={{ fontWeight: 500 }}\r\n\t\t\t\t>\r\n\t\t\t\t\tDEF | RDC\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<User theme={theme} user={user} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n// Le composant utilisateur\r\nconst User = ({ user }) => {\r\n\treturn (\r\n\t\t<div className=\"user\">\r\n\t\t\t<Avatar style={{ width: 25, height: 25, color: \"#000\" }} />\r\n\t\t\t<div className=\"user-detailes\">\r\n\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t{user && <span>{user.prenom}</span>}\r\n\t\t\t\t</Typography>\r\n\t\t\t</div>\r\n\t\t\t<ArrowDropDownIcon fontSize=\"small\" color=\"inherit\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst StyledMainMenuHeader = styled(\"div\")(() => ({\r\n\tposition: 'relative',\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\tjustifyContent: \"space-between\",\r\n}));\r\n\r\nconst StyledContentContainer = styled(\"div\")(() => ({\r\n\twidth: 300,\r\n\tpadding: \"20px 10px\",\r\n}));\r\n\r\nconst StyledMenuList = styled(\"div\")(() => ({\r\n\tdisplay: 'flex',\r\n\tflexDirection: 'column',\r\n\tpadding: '20px 0'\r\n}));\r\n\r\nconst StyledMenuCard = styled(\"div\")(({theme}) => ({\r\n\tpadding: \"10px 7px\",\r\n\tdisplay: 'flex',\r\n\talignItems: 'center',\r\n\tcursor: 'pointer',\r\n\twidth: 'fit-content',\r\n\tborderRadius: 5,\r\n\ttransition: 'all .2s',\r\n\t\"&:not(:last-child)\": {\r\n\t\tmarginBottom: 7,\r\n\t},\r\n\t\"& > svg\": {\r\n\t\tmarginRight: 10\r\n\t},\r\n\t\"& > span\": {\r\n\t\tfontSize: 14\r\n\t},\r\n\t\"&.menu-card:hover\": {\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tpadding: \"10px 20px\",\r\n\t}\r\n}));\r\n\r\nconst StyledFooter = styled('div')(() => ({\r\n\tposition: 'absolute',\r\n\tbottom: 0,\r\n\tleft: 0,\r\n\tright: 0,\r\n\t\"& > .copy-right\": {\r\n\t\tdisplay: 'block',\r\n\t\tfontSize: 14,\r\n\t\tpadding: '15px 10px',\r\n\t}\r\n}));\r\n\r\n// Drop down Menu principal\r\nconst MainAppMenu = ({ open, assujetti, toggleMenu }) => {\r\n\treturn (\r\n\t\t<SwipeableDrawer\r\n\t\t\tanchor={\"left\"}\r\n\t\t\topen={open}\r\n\t\t\tonClose={toggleMenu}\r\n\t\t\tonOpen={toggleMenu}\r\n\t\t\tBackdropProps={{\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0)'\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<StyledContentContainer>\r\n\t\t\t\t<StyledMainMenuHeader>\r\n\t\t\t\t\t<IconButton sx={{ mr: 2 }} onClick={toggleMenu}>\r\n\t\t\t\t\t\t<AppsIcon fontSize=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<a href={getLoginRedirectUrl()}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tendIcon={<ArrowForwardIcon />}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAccueil\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</StyledMainMenuHeader>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<StyledMenuList>\r\n\t\t\t\t\t\t<Typography variant=\"h1\" sx={{mb: 3, fontWeight: 600, pl: 1}}>Modules du DEF</Typography>\r\n\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\r\n\t\t\t\t\t\t\t<CommandIcon color=\"success\" />\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\tGestion des commandes\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</StyledMenuCard>\r\n\t\t\t\t\t\t<Link to=\"/stock\" target=\"_blank\">\r\n\t\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\r\n\t\t\t\t\t\t\t\t<StockIcon color=\"secondary\" />\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\t\tGestion des stocks\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</StyledMenuCard>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/facturation\" target=\"_blank\">\r\n\t\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\r\n\t\t\t\t\t\t\t\t<VenteIcon color=\"default\" />\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\t\tVente et facturation\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</StyledMenuCard>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\r\n\t\t\t\t\t\t\t<CpteIcon color=\"primary\" />\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\tComptabilité et caisse\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</StyledMenuCard>\r\n\t\t\t\t\t\t<StyledMenuCard className=\"menu-card\">\r\n\t\t\t\t\t\t\t<PartenairesIcon color=\"info\" />\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\tPartenaires de commerce\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</StyledMenuCard>\r\n\t\t\t\t\t</StyledMenuList>\r\n\t\t\t\t</Box>\r\n\t\t\t</StyledContentContainer>\r\n\t\t\t<StyledFooter>\r\n\t\t\t\t<StyledMenuCard>\r\n\t\t\t\t\t<SettingsIcon color=\"info\" />\r\n\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t{assujetti.raison_sociale}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</StyledMenuCard>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Typography variant=\"caption\" className=\"copy-right\" color=\"GrayText\">&copy; DGI RDC tous droits reservés.</Typography>\r\n\t\t\t</StyledFooter>\r\n\t\t</SwipeableDrawer>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { IMaskInput } from 'react-imask';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nconst TextMaskCustom = React.forwardRef(function TextMaskCustom(props, ref) {\r\n  const { onChange, ...other } = props;\r\n  return (\r\n    <IMaskInput\r\n      {...other}\r\n      mask=\"00/00/0000\"\r\n      definitions={{\r\n        '#': /[1-9]/,\r\n      }}\r\n      inputRef={ref}\r\n      onAccept={(value) => onChange({ target: { name: props.name, value } })}\r\n      overwrite\r\n    />\r\n  );\r\n});\r\n\r\nTextMaskCustom.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction DateMaskInput({label, value, onChange, name, id, variant, ...other}) {\r\n  return (\r\n      <TextField\r\n        {...other}\r\n        label={label}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name || \"numberformat\"}\r\n        id={id}\r\n        InputProps={{\r\n          inputComponent: TextMaskCustom,\r\n        }}\r\n        variant={variant || \"standard\"}\r\n      />\r\n  );\r\n}\r\n\r\nexport default React.memo(DateMaskInput);","import {\r\n\tcreateSlice,\r\n\tcreateAsyncThunk,\r\n\tcreateEntityAdapter,\r\n} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst produitEntity = createEntityAdapter({\r\n\tselectId: (item) => item.id,\r\n});\r\n\r\nconst initialState = produitEntity.getInitialState({\r\n\tstatus: \"idle\",\r\n\tventeRequestStatus: \"idle\",\r\n\terrors: null,\r\n\tcategories: [],\r\n});\r\n\r\nexport const creerCategoriesProduit = createAsyncThunk(\r\n\t\"produits/get-categories-produit\",\r\n\tasync (data) => {\r\n\t\tconst res = await axios.post(\"/api/produits/categories\", data);\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const getCategoriesProduit = createAsyncThunk(\r\n\t\"produits/get-categories-produit\",\r\n\tasync () => {\r\n\t\tconst res = await axios.get(\"/api/produits/categories\");\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const getProduits = createAsyncThunk(\r\n\t\"produits/get-for-entreprise\",\r\n\tasync () => {\r\n\t\tconst res = await axios.get(\"/api/produits\");\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const getVenteDataProduits = createAsyncThunk(\r\n\t\"produits/get-for-entreprise-vente\",\r\n\tasync () => {\r\n\t\tconst res = await axios.get(\"/api/ventes/data\");\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const creerProduit = createAsyncThunk(\r\n\t\"produits/creer\",\r\n\tasync ({ data }) => {\r\n\t\tconst res = await axios.post(\"/api/produits\", data);\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const { reducer, actions } = createSlice({\r\n\tname: \"produit\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tinitError: (state) => {\r\n\t\t\tstate.errors = null;\r\n\t\t},\r\n\t\tappendCategorie: (state, action) => {\r\n\t\t\tif (action.payload) {\r\n\t\t\t\tstate.categories = [...state.categories, action.payload];\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\textraReducers: {\r\n\t\t[getCategoriesProduit.pending]: (state) => {\r\n\t\t\tstate.status = \"loading\";\r\n\t\t},\r\n\t\t[getCategoriesProduit.fulfilled]: (state, action) => {\r\n\t\t\tstate.status = \"fulfilled\";\r\n\t\t\tstate.categories = action.payload;\r\n\t\t},\r\n\t\t[getCategoriesProduit.rejected]: (state, action) => {\r\n\t\t\tstate.status = \"failed\";\r\n\t\t\tstate.errors = action.payload;\r\n\t\t},\r\n\t\t[getProduits.pending]: (state) => {\r\n\t\t\tstate.status = \"loading\";\r\n\t\t},\r\n\t\t[getProduits.fulfilled]: (state, action) => {\r\n\t\t\tstate.status = \"fulfilled\";\r\n\t\t\tproduitEntity.upsertMany(state, action.payload);\r\n\t\t},\r\n\t\t[getProduits.rejected]: (state, action) => {\r\n\t\t\tstate.status = \"failed\";\r\n\t\t\tstate.errors = action.payload;\r\n\t\t},\r\n\t\t[getVenteDataProduits.pending]: (state) => {\r\n\t\t\tstate.venteRequestStatus = \"loading\";\r\n\t\t},\r\n\t\t[getVenteDataProduits.fulfilled]: (state, action) => {\r\n\t\t\tstate.venteRequestStatus = \"fulfilled\";\r\n\t\t\tproduitEntity.upsertMany(state, action.payload);\r\n\t\t},\r\n\t\t[getVenteDataProduits.rejected]: (state, action) => {\r\n\t\t\tstate.venteRequestStatus = \"failed\";\r\n\t\t\tstate.errors = action.payload;\r\n\t\t},\r\n\t\t[creerProduit.pending]: (state) => {\r\n\t\t\tstate.status = \"loading\";\r\n\t\t},\r\n\t\t[creerProduit.fulfilled]: (state, action) => {\r\n\t\t\tif (action.payload.state === \"success\") {\r\n\t\t\t\tstate.status = \"fulfilled\";\r\n\t\t\t\tproduitEntity.upsertOne(state, action.payload.produit);\r\n\t\t\t} else {\r\n\t\t\t\tstate.status = \"failed\";\r\n\t\t\t\tconst err = action.payload;\r\n\t\t\t\tif (err && err.message) {\r\n\t\t\t\t\tstate.errors = err.message;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstate.errors =\r\n\t\t\t\t\t\t\"Une erreur est survenue lors de l'enregistrement du produit. Veuillez réesayer.\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[creerProduit.rejected]: (state, action) => {\r\n\t\t\tstate.status = \"failed\";\r\n\t\t\tstate.errors = action.payload;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { selectAll, selectById } = produitEntity.getSelectors(\r\n\t(state) => state.produits\r\n);\r\n\r\nexport const getReqState = (state) => state.produits.status;\r\nexport const getErrors = (state) => state.produits.errors;\r\nexport const getVenteRequestStatus = (state) =>\r\n\tstate.produits.venteRequestStatus;\r\nexport const getCategories = (state) => state.produits.categories;\r\nexport const getFilterdProduits = (state, categorieId, filter) => {\r\n\tlet produits = Object.values(state.produits.entities);\r\n\r\n    if (categorieId && categorieId !== \"\") {\r\n        produits = Object.values(produits).filter(\r\n            (prod) => prod.categorieProduitId === categorieId)\r\n    }\r\n\r\n\tif (filter === \"tous\") {\r\n\t\treturn produits;\r\n\t} else if (filter === \"dispo\") {\r\n        return produits.filter(prod => prod.quantite > 0);\r\n    } else if (filter === \"indispo\") {\r\n        return produits.filter(prod => prod.quantite <= 0);\r\n    } else if (filter === \"alert\") {\r\n        return produits.filter(prod => prod.quantite <= prod.quantite_min);\r\n    }\r\n};\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { Box } from \"@mui/material\";\r\nimport { Search } from \"@mui/icons-material\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\n\r\nconst SearchInput = ({ mb, value, onChange }) => {\r\n\tconst StyledBox = styled(Box)(({ theme }) => ({\r\n\t\tborder: \"1px solid #eaeaea\",\r\n\t\tborderRadius: 5,\r\n\t\tpadding: \"6.5px 14px\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t}));\r\n\r\n\tconst StyledInput = styled(\"input\")(() => ({\r\n\t\tborder: \"none\",\r\n\t\toutline: 0,\r\n\t\tfontSize: 15,\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: \"inherit\",\r\n\t}));\r\n\treturn (\r\n\t\t<StyledBox mb={mb !== null || mb !== undefined ? mb : 2}>\r\n\t\t\t<StyledInput\r\n\t\t\t\tplaceholder=\"Rechercher...\"\r\n\t\t\t\tclassName=\"search-input\"\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<Search fontSize=\"small\" color=\"disabled\" />\r\n\t\t</StyledBox>\r\n\t);\r\n};\r\n\r\nexport const SearchAuctoComplete = ({\r\n\tminWidth,\r\n\tsx,\r\n\tvalue,\r\n\tsetValue,\r\n\toptions,\r\n\tplaceholder,\r\n\tlabel,\r\n\ttextFieldXs,\r\n\terror,\r\n\thelperText,\r\n}) => {\r\n\treturn (\r\n\t\t<Autocomplete\r\n\t\t\tid=\"combo-box\"\r\n\t\t\tsx={{ minWidth: minWidth ? minWidth : 300, ...sx }}\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={(event, newValue) => {\r\n\t\t\t\tsetValue(newValue);\r\n\t\t\t}}\r\n            popupIcon={<Search />}\r\n\t\t\toptions={options || []}\r\n\t\t\tisOptionEqualToValue={(option, value) => option.id === value.id}\r\n\t\t\tautoHighlight\r\n\t\t\tgetOptionLabel={(option) => option.label}\r\n\t\t\trenderInput={(params) => (\r\n\t\t\t\t<TextField\r\n                    placeholder={placeholder || \"\"}\r\n\t\t\t\t\t{...params}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\tsx={textFieldXs}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\thelperText={helperText}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default React.memo(SearchInput);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell, { tableCellClasses } from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getFilterdProduits } from \"../../app/reducers/produit\";\r\nimport { Button, Typography, useTheme } from \"@mui/material\";\r\nimport { Warning } from \"@mui/icons-material\";\r\nimport { SearchAuctoComplete } from \"../Inputs/Search\";\r\nimport { Box } from \"@mui/system\";\r\nimport { ComboBox } from \"..\";\r\nimport {\r\n\tgetCategories,\r\n\tgetCategoriesProduit,\r\n} from \"../../app/reducers/produit\";\r\n\r\n// Quelques composants\r\nconst StyledContainer = styled(\"div\")(() => ({\r\n\t// border: \"1px solid #eaeaea\",\r\n\tborderRadius: 5,\r\n}));\r\nconst StyledHorizontal = styled(Box)(() => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\t\"&.top > div\": {\r\n\t\tpadding: \"10px 0\",\r\n\t\t\"& > *:last-child\": {\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t},\r\n}));\r\nconst StyledFilters = styled(\"div\")(({ theme }) => ({\r\n\tbackgroundColor: theme.palette.primary.light,\r\n\tcolor: \"#fff\",\r\n}));\r\nconst StyledTab = styled(Button)(({ theme }) => ({\r\n\tborderRadius: 0,\r\n\t\"&.active\": {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: theme.palette.common.white,\r\n\t},\r\n}));\r\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n\t[`&.${tableCellClasses.head}`]: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: theme.palette.common.black,\r\n\t\tfontSize: 15,\r\n\t\tpadding: \"7px 10px\",\r\n\t},\r\n\t[`&.${tableCellClasses.body}`]: {\r\n\t\tfontSize: 14,\r\n\t\tpadding: \"7px 10px\",\r\n\t\t\"&.prodLink\": {\r\n\t\t\ttextDecoration: 'none',\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\ttextDecoration: 'underline',\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n}));\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n\t\"&:nth-of-type(odd)\": {\r\n\t\tbackgroundColor: theme.palette.action.hover,\r\n\t},\r\n\t\"&:last-child td, &:last-child th\": {\r\n\t\tborder: 0,\r\n\t},\r\n}));\r\n\r\nexport default function ProduitTableau() {\r\n\t// declaration des variables d'étas\r\n\tconst categories = useSelector(getCategories) || [];\r\n\tconst theme = useTheme();\r\n\tconst [selected, setSelected] = React.useState([]);\r\n\tconst [categorie, setCategorie] = useState(null);\r\n\tconst [filter, setFilter] = useState(\"tous\");\r\n\tconst [searchText, setSearchText] = useState(null);\r\n\tconst produits = useSelector((state) =>\r\n\t\tgetFilterdProduits(state, categorie ? categorie.id : null, filter)\r\n\t);\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// Fonction de recuperation du filtre\r\n\tconst handleFilterClick = (filter) => {\r\n\t\tsetFilter(filter);\r\n\t};\r\n\r\n\t// Fonction de séléction multiple\r\n\tconst handleSelectAllClick = (event) => {\r\n\t\tif (event.target.checked) {\r\n\t\t\tconst newSelecteds = produits.map((n) => n.id);\r\n\t\t\tsetSelected(newSelecteds);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetSelected([]);\r\n\t};\r\n\r\n\t// Fonction de séléction d'une seule ligne du tableau\r\n\tconst handleClick = (event, id) => {\r\n\t\tconst selectedIndex = selected.indexOf(id);\r\n\t\tlet newSelected = [];\r\n\r\n\t\tif (selectedIndex === -1) {\r\n\t\t\tnewSelected = newSelected.concat(selected, id);\r\n\t\t} else if (selectedIndex === 0) {\r\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\r\n\t\t} else if (selectedIndex === selected.length - 1) {\r\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\r\n\t\t} else if (selectedIndex > 0) {\r\n\t\t\tnewSelected = newSelected.concat(\r\n\t\t\t\tselected.slice(0, selectedIndex),\r\n\t\t\t\tselected.slice(selectedIndex + 1)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetSelected(newSelected);\r\n\t};\r\n\r\n\t// Fonction de verification de la séléction d'une ligne du tableau\r\n\tconst isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n\tuseEffect(() => {\r\n\t\t// Recharger les categories\r\n\t\tif (!categories || categories.length === 0) {\r\n\t\t\tdispatch(getCategoriesProduit());\r\n\t\t}\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<div>\r\n\t\t\t\t<StyledHorizontal\r\n\t\t\t\t\tclassName=\"top\"\r\n\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<StyledHorizontal className=\"header\">\r\n\t\t\t\t\t\t<SearchAuctoComplete\r\n\t\t\t\t\t\t\toptions={produits.map((prod) => ({\r\n\t\t\t\t\t\t\t\tlabel: prod.designation,\r\n\t\t\t\t\t\t\t\tid: prod.id,\r\n\t\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\t\tmb={0}\r\n\t\t\t\t\t\t\tvalue={searchText}\r\n\t\t\t\t\t\t\tsetValue={(value) => setSearchText(value)}\r\n\t\t\t\t\t\t\tplaceholder=\"Recherche...\"\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 200,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttextFieldXs={{\r\n\t\t\t\t\t\t\t\tmt: 0,\r\n\t\t\t\t\t\t\t\tmb: 0,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\tdisabled={selected.length === 0}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSupprimer\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</StyledHorizontal>\r\n\t\t\t\t\t<StyledHorizontal>\r\n\t\t\t\t\t\t<Typography variant=\"caption\">Catégorie</Typography>\r\n\t\t\t\t\t\t<ComboBox\r\n\t\t\t\t\t\t\tplaceholder=\"Sélectionnez\"\r\n\t\t\t\t\t\t\toptions={categories.map((cat) => ({\r\n\t\t\t\t\t\t\t\tlabel: cat.nom_categorie,\r\n\t\t\t\t\t\t\t\t...cat,\r\n\t\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\t\tvalue={categorie}\r\n\t\t\t\t\t\t\tsetValue={(value) => setCategorie(value)}\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 200,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttextFieldXs={{\r\n\t\t\t\t\t\t\t\tmt: 0,\r\n\t\t\t\t\t\t\t\tmb: 0,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</StyledHorizontal>\r\n\t\t\t\t</StyledHorizontal>\r\n\t\t\t\t<StyledFilters>\r\n\t\t\t\t\t<StyledTab\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tclassName={filter === \"tous\" && \"active\"}\r\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"tous\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTous\r\n\t\t\t\t\t</StyledTab>\r\n\t\t\t\t\t<StyledTab\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tclassName={filter === \"dispo\" && \"active\"}\r\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"dispo\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDisponnible\r\n\t\t\t\t\t</StyledTab>\r\n\t\t\t\t\t<StyledTab\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tclassName={filter === \"indispo\" && \"active\"}\r\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"indispo\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tIndisponible\r\n\t\t\t\t\t</StyledTab>\r\n\t\t\t\t\t<StyledTab\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tclassName={filter === \"alert\" && \"active\"}\r\n\t\t\t\t\t\tonClick={() => handleFilterClick(\"alert\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAlerte\r\n\t\t\t\t\t</StyledTab>\r\n\t\t\t\t</StyledFilters>\r\n\t\t\t</div>\r\n\t\t\t<TableContainer style={{marginTop: 10}}>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tsx={{ minWidth: 700 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\taria-label=\"customized table\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tindeterminate={\r\n\t\t\t\t\t\t\t\t\t\tselected.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\tselected.length < produits.length\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\tproduits.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\tselected.length === produits.length\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonChange={handleSelectAllClick}\r\n\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\"aria-label\": \"select all desserts\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell>Code</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell>Désignation</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell>Catégorie</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell>Unité</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\tQuantité\r\n\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\tQ. min\r\n\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\tMarge\r\n\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{produits &&\r\n\t\t\t\t\t\t\tproduits.map((produit, i) => {\r\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(produit.id);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<StyledTableRow key={produit.id}>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleClick(e, produit.id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"aria-label\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"select all desserts\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.code_produit}\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.primary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.main,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"prodLink\"\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent=\"th\"\r\n\t\t\t\t\t\t\t\t\t\t\tscope=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={produit.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration: \"inherit\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{produit.designation}\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.categorie_produit\r\n\t\t\t\t\t\t\t\t\t\t\t\t? produit.categorie_produit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.code_categorie\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.unite}\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: \"end\",\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"8px 14px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"15px!important\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.quantite}\r\n\t\t\t\t\t\t\t\t\t\t\t{parseFloat(produit.quantite) <=\r\n\t\t\t\t\t\t\t\t\t\t\t\tparseFloat(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduit.quantite_min\r\n\t\t\t\t\t\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Warning\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"1rem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmr: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.quantite_min}\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.marge}%\r\n\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t<StyledTableRow style={{ height: 35 }}>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell\r\n\t\t\t\t\t\t\t\tcomponent=\"th\"\r\n\t\t\t\t\t\t\t\tscope=\"row\"\r\n\t\t\t\t\t\t\t></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</StyledContainer>\r\n\t);\r\n}\r\n","import * as React from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\n\r\nfunction ComboBox({\r\n\toptions,\r\n\tlabel,\r\n\tminWidth,\r\n\tvalue,\r\n\tsetValue,\r\n\tplaceholder,\r\n\ttextFieldXs,\r\n\terror,\r\n\thelperText,\r\n\tsx,\r\n\tdisabled\r\n}) {\r\n\treturn (\r\n\t\t<Autocomplete\r\n\t\t\tid=\"combo-box\"\r\n\t\t\tsx={{ minWidth: minWidth ? minWidth : 300, ...sx }}\r\n\t\t\tdisabled={disabled}\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={(event, newValue) => {\r\n\t\t\t\tsetValue(newValue);\r\n\t\t\t}}\r\n\t\t\toptions={options || []}\r\n\t\t\tisOptionEqualToValue={(option, value) => option.id === value.id}\r\n\t\t\tautoHighlight\r\n\t\t\tgetOptionLabel={(option) => option.label}\r\n\t\t\trenderInput={(params) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tplaceholder={placeholder || \"\"}\r\n\t\t\t\t\t{...params}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\tsx={textFieldXs}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\thelperText={helperText}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default React.memo(ComboBox);\r\n","import React from \"react\";\r\nimport { Typography, Box, CircularProgress } from \"@mui/material\";\r\n\r\nexport default function Chargement({ message, sx, size }) {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\ttextAlign=\"center\"\r\n\t\t\tdisplay=\"flex\"\r\n\t\t\tjustifyContent=\"center\"\r\n\t\t\talignItems=\"center\"\r\n\t\t\tflexDirection=\"column\"\r\n            sx={sx}\r\n\t\t>\r\n\t\t\t<Typography variant=\"body1\" color=\"GrayText\" sx={{ mb: 2 }}>\r\n\t\t\t\t{message}\r\n\t\t\t</Typography>\r\n\t\t\t<CircularProgress size={size || 40} color=\"primary\" />\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import * as React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport TextField from \"@mui/material/TextField\";\r\n\r\nexport const NumberFormatCustom = React.forwardRef(function NumberFormatCustom(\r\n\tprops,\r\n\tref\r\n) {\r\n\tconst { onChange, prefix, suffix, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<NumberFormat\r\n\t\t\t{...other}\r\n\t\t\tgetInputRef={ref}\r\n\t\t\tonValueChange={(values) => {\r\n\t\t\t\tonChange({\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tname: props.name,\r\n\t\t\t\t\t\tvalue: values.value,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}}\r\n\t\t\tthousandSeparator\r\n\t\t\tisNumericString\r\n\t\t\tprefix={prefix || \"\"}\r\n\t\t\tsuffix={suffix || \"\"}\r\n\t\t/>\r\n\t);\r\n});\r\n\r\nNumberFormatCustom.propTypes = {\r\n\tname: PropTypes.string.isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction FormatedInputs({ prefix, suffix, variant, value, onChange, placeholder, label, maxLength, ...other }) {\r\n\treturn (\r\n\t\t<TextField\r\n            {...other}\r\n\t\t\tlabel={label}\r\n            placeholder={placeholder}\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={onChange}\r\n\t\t\tname=\"numberformat\"\r\n\t\t\tid=\"formatted-numberformat-input\"\r\n            inputProps={{maxLength: maxLength}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputComponent: NumberFormatCustom\r\n\t\t\t}}\r\n\t\t\tvariant={variant}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default React.memo(FormatedInputs);","import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\n\r\nconst BpIcon = styled('span')(({ theme }) => ({\r\n  borderRadius: '50%',\r\n  width: 16,\r\n  height: 16,\r\n  boxShadow:\r\n    theme.palette.mode === 'dark'\r\n      ? '0 0 0 1px rgb(16 22 26 / 40%)'\r\n      : 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\r\n  backgroundColor: theme.palette.mode === 'dark' ? '#394b59' : '#f5f8fa',\r\n  backgroundImage:\r\n    theme.palette.mode === 'dark'\r\n      ? 'linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))'\r\n      : 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\r\n  '.Mui-focusVisible &': {\r\n    outline: '2px auto rgba(19,124,189,.6)',\r\n    outlineOffset: 2,\r\n  },\r\n  'input:hover ~ &': {\r\n    backgroundColor: theme.palette.mode === 'dark' ? '#30404d' : '#ebf1f5',\r\n  },\r\n  'input:disabled ~ &': {\r\n    boxShadow: 'none',\r\n    background:\r\n      theme.palette.mode === 'dark' ? 'rgba(57,75,89,.5)' : 'rgba(206,217,224,.5)',\r\n  },\r\n}));\r\n\r\nconst BpCheckedIcon = styled(BpIcon)({\r\n  backgroundColor: '#137cbd',\r\n  backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\r\n  '&:before': {\r\n    display: 'block',\r\n    width: 16,\r\n    height: 16,\r\n    backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\r\n    content: '\"\"',\r\n  },\r\n  'input:hover ~ &': {\r\n    backgroundColor: '#106ba3',\r\n  },\r\n});\r\n\r\n// Inspired by blueprintjs\r\nfunction BpRadio(props) {\r\n  return (\r\n    <Radio\r\n      sx={{\r\n        '&:hover': {\r\n          bgcolor: 'transparent',\r\n        },\r\n      }}\r\n      disableRipple\r\n      color=\"default\"\r\n      checkedIcon={<BpCheckedIcon />}\r\n      icon={<BpIcon />}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CustomizedRadios({label, disabled, value}) {\r\n  return (\r\n        <FormControlLabel\r\n          value={value}\r\n          disabled={disabled}\r\n          control={<BpRadio />}\r\n          label={label}\r\n        />\r\n  );\r\n}\r\n\r\nexport default React.memo(CustomizedRadios);","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { Box } from \"@mui/material\";\r\n\r\nexport default function LargeDialog({\r\n\ttitle,\r\n\tmessage,\r\n\tonAgree,\r\n\tdisagreeBtnText,\r\n\tagreeBtnText,\r\n\tonDisagree,\r\n\topen,\r\n\tonClose,\r\n\tcolor\r\n}) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-message\"\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsx={{\r\n\t\t\t\t\t\"& .MuiDialog-container\": {\r\n\t\t\t\t\t\talignItems: 'baseline',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"& h2\": {\r\n\t\t\t\t\t\tfontSize: 18,\r\n\t\t\t\t\t\tpadding: '7px 10px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"& .MuiDialogContent-root\": {\r\n\t\t\t\t\t\tpadding: '7px 10px',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"& p\": {\r\n\t\t\t\t\t\tfontSize: 14\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-message\">\r\n                        {message}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n                    {disagreeBtnText &&\r\n                        <Button onClick={onDisagree}>{disagreeBtnText}</Button>\r\n                    }\r\n                    {agreeBtnText &&\r\n                        <Button onClick={onAgree} autoFocus>\r\n                            {agreeBtnText}\r\n                        </Button>\r\n                    }\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n\tPage,\r\n\tText,\r\n\tPDFViewer,\r\n\tDocument,\r\n\tView,\r\n\tStyleSheet,\r\n} from \"@react-pdf/renderer\";\r\nimport { Modal } from \"@mui/material\";\r\nimport axios from \"axios\";\r\n\r\n// Create Document Component\r\nexport default function MyDocument() {\r\n\tconst {numFacture} = useParams();\r\n\tconst [facture, setFacture] = useState(null);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (numFacture) {\r\n\t\t\taxios\r\n\t\t\t\t.get(`/api/ventes/factures/${numFacture}`)\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tsetFacture(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}, [numFacture]);\r\n\tconsole.log(facture);\r\n\treturn (\r\n\t\t<Modal open={true}>\r\n\t\t\t<div style={styles.frameContainer}>\r\n\t\t\t\t{(loading || !facture) ? (\r\n\t\t\t\t\t<></>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<PDFViewer width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<Document>\r\n\t\t\t\t\t\t\t<Page style={styles.body}>\r\n\t\t\t\t\t\t\t\t<View style={styles.header}>\r\n\t\t\t\t\t\t\t\t\t<View style={styles.headerSide}>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tSte New Four Ways SARL-Mini\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tDEF-012334\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tAv: UBANGI NO.2 C/LEMBA\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\t0971178768 - 0890011442\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tsamkin1997@gmail.com\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tRCCM 14-B-01702 IDNAT\r\n\t\t\t\t\t\t\t\t\t\t\t01-F4300-N34731P\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tNIMPOT A0909296Q\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t<View style={styles.headerSide}>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tSte New Four Ways SARL-Mini\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tDEF-012334\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tAv: UBANGI NO.2 C/LEMBA\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\t0971178768 - 0890011442\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tsamkin1997@gmail.com\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tRCCM 14-B-01702 IDNAT\r\n\t\t\t\t\t\t\t\t\t\t\t01-F4300-N34731P\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.headerText}>\r\n\t\t\t\t\t\t\t\t\t\t\tNIMPOT A0909296Q\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t<View style={styles.alignH}>\r\n\t\t\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\tstyles.text,\r\n\t\t\t\t\t\t\t\t\t\t\t{ marginRight: 10 },\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t#{facture.num_facture}\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\tstyles.text,\r\n\t\t\t\t\t\t\t\t\t\t\t{ marginRight: 10 },\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{(new Date(facture.date)).toLocaleDateString()}\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t<Text style={styles.text}>\r\n\t\t\t\t\t\t\t\t\t\t{(new Date(facture.date)).toLocaleTimeString()}\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t<View style={styles.table}>\r\n\t\t\t\t\t\t\t\t\t<TabHeader />\r\n\t\t\t\t\t\t\t\t\t<View style={styles.tabBody}>\r\n\t\t\t\t\t\t\t\t\t\t{facture.produits.map(produit => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TabRow produit={produit} key={produit.designation} />\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t<TabFooter totalHT={facture.total_ht} tva={facture.total_tva} />\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t</Page>\r\n\t\t\t\t\t\t</Document>\r\n\t\t\t\t\t</PDFViewer>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\nconst TabHeader = () => {\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={{\r\n\t\t\t\t...styles.tabHeader,\r\n\t\t\t\t...styles.tabRow,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...styles.tabCol,\r\n\t\t\t\t\t...styles.designation,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tArticle/Iteme\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...styles.tabCol,\r\n\t\t\t\t\t...styles.pu,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tPrix U\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...styles.tabCol,\r\n\t\t\t\t\t...styles.quantite,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tQté\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...styles.tabCol,\r\n\t\t\t\t\t...styles.total,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tTotal\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst TabRow = ({produit}) => {\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={{\r\n\t\t\t\t...styles.tabRow,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Text style={[styles.tabCol, styles.designation]}>\r\n\t\t\t\t{produit.designation}\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...styles.tabCol,\r\n\t\t\t\t\t...styles.pu,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{produit.prix_unitaire}\r\n\t\t\t</Text>\r\n\t\t\t<Text style={[styles.tabCol, styles.quantite]}>\r\n\t\t\t\t{produit.q_sortie}\r\n\t\t\t</Text>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\t...styles.tabCol,\r\n\t\t\t\t\t...styles.total,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{produit.total}\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\nconst TabFooter = ({totalHT, tva}) => {\r\n\treturn (\r\n\t\t<View style={styles.tabFooter}>\r\n\t\t\t<View style={styles.footerContent}>\r\n\t\t\t\t<View style={styles.labelContainer}>\r\n\t\t\t\t\t<Text style={styles.footerRow}>Total HT</Text>\r\n\t\t\t\t\t<Text style={styles.footerRow}>TVA (16%)</Text>\r\n\t\t\t\t\t<Text style={styles.footerRow}>Autres taxes</Text>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\tstyles.footerRow,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tfontSize: 15,\r\n\t\t\t\t\t\t\t\tborderTopColor: \"#333\",\r\n\t\t\t\t\t\t\t\tborderStyle: \"dashed\",\r\n\t\t\t\t\t\t\t\tborderTopWidth: 1,\r\n\t\t\t\t\t\t\t\tmarginTop: 10,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTotal à payer\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.valueContainer}>\r\n\t\t\t\t\t<Text style={styles.footerRow}>{totalHT}</Text>\r\n\t\t\t\t\t<Text style={styles.footerRow}>{tva}</Text>\r\n\t\t\t\t\t<Text style={styles.footerRow}>0</Text>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\tstyles.footerRow,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tfontSize: 15,\r\n\t\t\t\t\t\t\t\tborderTopColor: \"#333\",\r\n\t\t\t\t\t\t\t\tborderStyle: \"dashed\",\r\n\t\t\t\t\t\t\t\tborderTopWidth: 1,\r\n\t\t\t\t\t\t\t\tmarginTop: 10,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{totalHT + tva}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n\tframeContainer: {\r\n\t\theight: \"100vh\",\r\n\t\twidth: \"100vw\",\r\n\t},\r\n\tbody: {\r\n\t\tpaddingTop: 35,\r\n\t\tpaddingBottom: 65,\r\n\t\tpaddingHorizontal: 35,\r\n\t},\r\n\talignH: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"flex-end\",\r\n\t\tmarginTop: 20,\r\n\t},\r\n\theader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t},\r\n\theaderSide: {\r\n\t\ttextAlign: \"center\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\theaderText: {\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t},\r\n\ttext: {\r\n\t\tmarginVertical: 11,\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t},\r\n\ttable: {\r\n\t\tmarginTop: 20,\r\n\t\twidth: \"100%\",\r\n\t},\r\n\ttabHeader: {\r\n\t\tborderBottomColor: \"#333\",\r\n\t\tborderStyle: \"dashed\",\r\n\t\tborderBottomWidth: 1,\r\n\t\tfontStyle: \"bold\",\r\n\t},\r\n\ttabRow: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t},\r\n\tdesignation: {\r\n\t\tpaddingVertical: 5,\r\n\t\tflexBasis: \"40%\",\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t\ttextAlign: \"left\",\r\n\t},\r\n\tpu: {\r\n\t\tpaddingVertical: 5,\r\n\t\tflexBasis: \"20%\",\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\tquantite: {\r\n\t\tpaddingVertical: 5,\r\n\t\tflexBasis: \"20%\",\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\ttotal: {\r\n\t\tpaddingVertical: 5,\r\n\t\tflexBasis: \"20%\",\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\ttabFooter: {\r\n\t\tflexDirection: \"row\",\r\n\t\tborderTopColor: \"#333\",\r\n\t\tborderStyle: \"dashed\",\r\n\t\tborderTopWidth: 1,\r\n\t\tjustifyContent: \"flex-end\",\r\n\t\tpaddingTop: 10,\r\n\t},\r\n\tfooterContent: {\r\n\t\tflexDirection: \"row\",\r\n\t\talignItems: \"center\",\r\n\t\tfontFamily: \"Times-Roman\",\r\n\t},\r\n\tfooterRow: {\r\n\t\tfontSize: 12,\r\n\t\tpadding: 3,\r\n\t},\r\n\tlabelContainer: {\r\n\t\tflexBasis: \"20%\",\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\tvalueContainer: {\r\n\t\tflexBasis: \"20%\",\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n});\r\n","import * as React from \"react\";\r\nimport Popover from \"@mui/material/Popover\";\r\n\r\nexport default function MenuPopover({ open, handleClose, anchorEl, children, anchorOrigin, ...other }) {\r\n\tconst id = open ? \"menu-popover\" : undefined;\r\n\treturn (\r\n\t\t<Popover\r\n\t\t\t{...other}\r\n\t\t\tid={id}\r\n\t\t\topen={open}\r\n\t\t\tanchorEl={anchorEl}\r\n\t\t\tonClose={handleClose}\r\n\t\t\tanchorOrigin={anchorOrigin || {\r\n\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\thorizontal: \"left\",\r\n\t\t\t}}\r\n            BackdropProps={{sx: {backgroundColor: 'rgba(0,0,0,0)'}}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Popover>\r\n\t);\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { FeedbackContext } from \"../../App\";\r\n\r\nexport default function Feedback({ autoHideDuration }) {\r\n\tconst { getFeedback, onClose } = useContext(FeedbackContext);\r\n\tconst {\r\n\t\topenState: open,\r\n\t\tmessageState: message,\r\n\t\tidState: id,\r\n\t\ttypeState: type,\r\n\t} = getFeedback();\r\n\tconst handleClose = (event, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tonClose();\r\n\t};\r\n\r\n\tconst handleExited = () => {\r\n\t\tonClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Snackbar\r\n\t\t\t\tkey={id}\r\n\t\t\t\topen={open}\r\n\t\t\t\tautoHideDuration={autoHideDuration || 6000}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tTransitionProps={{ onExited: handleExited }}\r\n\t\t\t>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\tseverity={type || \"info\"}\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n                    variant=\"filled\"\r\n                    elevation={6}\r\n\t\t\t\t>\r\n\t\t\t\t\t{message}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {createSlice} from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n    taux: 2000,\r\n    devise: 'CDF',\r\n    status: 'idle',\r\n}\r\n\r\n// Redux Slice pour l'assujetti\r\nexport const {actions, reducer} = createSlice({\r\n    name: 'configs',\r\n    initialState,\r\n    reducers: {\r\n        setTaux: (state, action) => {\r\n            state.taux = action.taux;\r\n        },\r\n        setDevise: (state, action) => {\r\n            state.devise = action.devise;\r\n        }\r\n    }\r\n});\r\n\r\nexport const getTaux = state => state.configs.taux;\r\nexport const getDevise = state => state.configs.devise;","import React from \"react\";\r\nimport { Box, Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/styles\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getTaux, getDevise } from \"../../app/reducers/config\";\r\nimport { formatNumber } from \"../../utilities/helpers\";\r\n\r\nconst StyledContainer = styled(Box)(() => ({\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"column\",\r\n\tflex: 1,\r\n}));\r\nconst StyledInfo = styled(Typography)(() => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\tcolor: \"#666\",\r\n\t\"&\": {\r\n\t\tfontSize: 14,\r\n\t},\r\n\t\"& .value\": {\r\n\t\tfontSize: 20,\r\n\t\tfontWeight: \"600\",\r\n        marginLeft: 10\r\n\t},\r\n}));\r\nexport default function TauxDevise() {\r\n\tconst taux = useSelector(getTaux);\r\n\tconst devise = useSelector(getDevise);\r\n\treturn (\r\n\t\t<div style={{ marginTop: 24 }}>\r\n\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\tDevise et taux\r\n\t\t\t</Typography>\r\n\t\t\t<StyledContainer\r\n\t\t\t\taria-label=\"provenance\"\r\n\t\t\t\tname=\"provenance des produits ou marchandises\"\r\n\t\t\t\tvalue={devise}\r\n\t\t\t\tclassName=\"devise\"\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<StyledInfo>\r\n\t\t\t\t\t<span>Devise :  </span><span className=\"value\">{devise}</span>\r\n\t\t\t\t</StyledInfo>\r\n\t\t\t\t<StyledInfo>\r\n\t\t\t\t\t<span>Taux : </span><span className=\"value\">{formatNumber(taux)}Fc</span>\r\n\t\t\t\t</StyledInfo>\r\n\t\t\t</StyledContainer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport { dateCompare } from '../../../utilities/helpers';\r\n\r\n/**\r\n * La function qui recupere les donnees du client\r\n * @param {string} numDef Le num def du client\r\n * @param {function} cb Callback function. Params: loading, client, error\r\n * @returns null if no numDef oththerwise void;\r\n */\r\nexport const getClientData = async (numDef, assujetti, cb) => {\r\n    let nD = numDef;\r\n    if (!nD || nD === '' || nD.length < 5) return;\r\n    if (compareNumDef(nD, assujetti.num_def)) return;\r\n\r\n    nD = nD.replaceAll('/', '').replaceAll('-', '');\r\n\r\n    cb(true);\r\n    axios\r\n    .post(`/api/assujetti/by_def/${nD}`, {numero_def: numDef})\r\n    .then(res => {\r\n        const d = res.data;\r\n        if (!d.numero_def) {\r\n            cb(false, null, d.message);\r\n        } else {\r\n            cb(false, d, null);\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        cb(false, null, error);\r\n    }); \r\n}\r\n\r\n/**\r\n * Compare two num def\r\n * @param {string} def1 \r\n * @param {string} def2 \r\n * @returns true if equal false if not equal\r\n */\r\nexport const compareNumDef = (def1, def2) => {\r\n    if ((def1 === def2)) return true;\r\n    return false;\r\n}\r\n\r\n/**\r\n * Methode Fifo pour la gestion des stocks \r\n * @param {array} entrees \r\n * @param {number} qSortie \r\n * @returns object {\r\n\t\tprixTotal,\r\n\t\tentreeSortie,\r\n\t\tnewEntrees,\r\n\t}\r\n */\r\nexport function fifo(entrees = [], qSortie) {\r\n\tlet i = 0,\r\n\t\tqSparEntree = 0,\r\n\t\tqS = qSortie,\r\n\t\tes = [],\r\n\t\tentreeSortie = [],\r\n\t\tpT = 0;\r\n\r\n\tlet sorted = [...entrees].sort((a, b) =>\r\n\t\tdateCompare(a.createdAt, b.createdAt)\r\n\t);\r\n\r\n\twhile (qS > 0 && i < entrees.length) {\r\n\t\tconst e = sorted[i];\r\n\t\tqS = qS - e.quantite_entree;\r\n\t\tentreeSortie = entreeSortie.filter((es) => es.entreeId !== e.id);\r\n\t\tif (qS < 0) {\r\n\t\t\tconst reste = Math.abs(qS);\r\n\t\t\tqSparEntree = qSortie;\r\n\t\t\tentreeSortie.push({\r\n\t\t\t\tentreeId: e.id,\r\n\t\t\t\tq_sortie: qSparEntree,\r\n\t\t\t\tq_entree: reste,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tqSparEntree = e.quantite_entree;\r\n\t\t\tentreeSortie.push({\r\n\t\t\t\tentreeId: e.id,\r\n\t\t\t\tq_sortie: qSparEntree,\r\n\t\t\t\tq_entree: 0,\r\n\t\t\t});\r\n\t\t\tes = entrees.filter((entree) => entree.id !== e.id);\r\n\t\t}\r\n\r\n\t\tpT = pT + qSparEntree * e.pv_unitaire;\r\n\r\n\t\ti++;\r\n\t}\r\n\r\n\treturn {\r\n\t\tprixTotal: pT,\r\n\t\tentreeSortie,\r\n\t\tnewEntrees: es,\r\n\t};\r\n}\r\n\r\n/**\r\n * Calcule la facture\r\n * @param {array} produits Tableaux des produits\r\n * @param {number} remise La remise appliquée \r\n * @returns object of {q, sousTotal, tva, netAPayer}\r\n */\r\nexport function calculeFacture(produits = [], remise) {\r\n\tlet q = 0;\r\n\tlet st = 0;\r\n\tproduits.forEach((p) => {\r\n\t\tq = p.quantiteSortie + q;\r\n\t\tst = st + p.prixTot;\r\n\t});\r\n\r\n\tif (remise && !isNaN(+remise)) {\r\n\t\tst = st * (1 - +remise / 100);\r\n\t}\r\n\tconst tva = st * 0.16;\r\n\tconst netAPayer = st + tva;\r\n\r\n\treturn {\r\n\t\tq,\r\n\t\tsousTotal: st,\r\n\t\ttva,\r\n\t\tnetAPayer,\r\n\t};\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n\tTypography,\r\n\tTextField,\r\n\tRadioGroup,\r\n\tDivider,\r\n\tCircularProgress,\r\n} from \"@mui/material\";\r\nimport CancelIcon from \"@mui/icons-material/Cancel\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport { NumberFormat, InputRadio, TauxDevise } from \"../../../Components\";\r\nimport { Box } from \"@mui/system\";\r\nimport { compareNumDef, getClientData } from \"../utilities/helpers\";\r\nimport { getAssujetti } from \"../../../app/reducers/assujetti\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function Default(props) {\r\n\tconst {\r\n\t\thandleChangeClient,\r\n\t\tautreTaxes,\r\n\t\tsetAutreTaxes,\r\n\t\tsetDefValue,\r\n\t\tclientError,\r\n\t} = props;\r\n\r\n\tconst assujetti = useSelector(getAssujetti);\r\n\tconst [def, setDef] = useState(\"\");\r\n\tconst [client, setClient] = useState({});\r\n\tconst [loadingClient, setLoadingClient] = useState(false);\r\n\tconst [foundState, setFoundState] = useState(\"idle\");\r\n\tconst [assujettiError, setAssujettiError] = useState(null);\r\n\r\n\tconst handleChangeInputText = (e) => {\r\n\t\tsetDef(e.target.value);\r\n\t\tsetDefValue(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (assujetti && compareNumDef(def, assujetti.numero_def)) {\r\n\t\t\tsetAssujettiError(\"Opération refusée.\");\r\n\t\t} else {\r\n\t\t\tsetAssujettiError(null);\r\n\t\t}\r\n\t\tsetFoundState(\"idle\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tgetClientData(def, assujetti.numero_def, (loading, client, err) => {\r\n\t\t\t\tsetLoadingClient(loading);\r\n\r\n\t\t\t\tsetClient(client ? client : {});\r\n\t\t\t\thandleChangeClient(client, loading);\r\n\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tsetFoundState(\"unfound\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetFoundState(\"found\");\r\n\t\t\t});\r\n\t\t}, 200);\r\n\t}, [def, assujetti, handleChangeClient]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (def === \"\" && foundState !== \"idle\") {\r\n\t\t\tsetFoundState(\"idle\");\r\n\t\t}\r\n\t}, [def, foundState]);\r\n\r\n\treturn (\r\n\t\t<div className=\"default-values\">\r\n\t\t\t<form>\r\n\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\tClient\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box display=\"flex\" alignItems=\"center\" mb={1.5}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tlabel=\"Numéro DEF\"\r\n\t\t\t\t\t\tvalue={def}\r\n\t\t\t\t\t\tonChange={handleChangeInputText}\r\n\t\t\t\t\t\tplaceholder=\"Numéro DEF du client\"\r\n\t\t\t\t\t\tsx={{ mr: 2 }}\r\n\t\t\t\t\t\terror={clientError || assujettiError ? true : false}\r\n\t\t\t\t\t\thelperText={clientError || assujettiError}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{loadingClient ? (\r\n\t\t\t\t\t\t<CircularProgress size={12} color=\"primary\" />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{foundState === \"found\" && (\r\n\t\t\t\t\t\t\t\t<CheckCircleIcon\r\n\t\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{foundState === \"unfound\" && (\r\n\t\t\t\t\t\t\t\t<CancelIcon fontSize=\"small\" color=\"error\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\tclassName=\"small\"\r\n\t\t\t\t\tstyle={{ display: \"block\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\tDénomination solciale du client\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div className=\"denomination\">\r\n\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t{client.raison_sociale}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<Divider sx={{ mt: 2, mb: 2 }} />\r\n\t\t\t<TauxDevise />\r\n\t\t\t<Divider sx={{ mt: 2, mb: 2 }} />\r\n\t\t\t<Box mt={2}>\r\n\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\tTaxes\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<ul className=\"taxes\">\r\n\t\t\t\t\t<li className=\"taxe\">\r\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" className=\"small\">\r\n\t\t\t\t\t\t\tTVA : <span className=\"tva\">16%</span>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"taxe autre-taxe\">\r\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" className=\"small\">\r\n\t\t\t\t\t\t\tAutre taxe :\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<NumberFormat\r\n\t\t\t\t\t\t\tsuffix=\"%\"\r\n\t\t\t\t\t\t\tvalue={autreTaxes}\r\n\t\t\t\t\t\t\tonChange={(e) => setAutreTaxes(e.target.value)}\r\n\t\t\t\t\t\t\tlabel=\"Taxe en %\"\r\n\t\t\t\t\t\t\tmaxLength={parseFloat(autreTaxes) > 100 ? 3 : 7}\r\n\t\t\t\t\t\t\terror={parseFloat(autreTaxes) > 100}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tparseFloat(autreTaxes) > 100 &&\r\n\t\t\t\t\t\t\t\t\"Le pourcentage ne doit pas dépasser 100\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {\r\n\tcreateSlice,\r\n\tcreateAsyncThunk,\r\n\tcreateEntityAdapter,\r\n} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst venteEntity = createEntityAdapter({\r\n\tselectId: (item) => item.id,\r\n});\r\n\r\nconst initialState = venteEntity.getInitialState({\r\n\tstatus: \"idle\",\r\n\terrors: null,\r\n\tcount: null,\r\n});\r\n\r\nexport const nouvelleVente = createAsyncThunk(\r\n\t\"ventes/nouvelle vente\",\r\n\tasync (data) => {\r\n\t\tconst res = await axios.post(`/api/ventes`, data);\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const getVenteCount = createAsyncThunk(\r\n\t\"ventes/nombre des ventes\",\r\n\tasync () => {\r\n\t\tconst res = await axios.get(`/api/ventes/count`);\r\n\t\treturn res.data;\r\n\t}\r\n);\r\n\r\nexport const { reducer, actions } = createSlice({\r\n\tname: \"vente\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\taddFactureCourante: (state, action) => {\r\n\t\t\tstate.factureRecente = action.payload;\r\n\t\t},\r\n\t},\r\n\textraReducers: {\r\n\t\t[getVenteCount.pending]: (state) => {\r\n\t\t\tstate.status = \"loading\";\r\n\t\t},\r\n\t\t[getVenteCount.fulfilled]: (state, action) => {\r\n\t\t\tstate.status = \"fulfilled\";\r\n\t\t\tstate.count = action.payload.count;\r\n\t\t},\r\n\t\t[getVenteCount.rejected]: (state, action) => {\r\n\t\t\tstate.status = \"failed\";\r\n\t\t\tstate.errors = action.payload;\r\n\t\t},\r\n\t\t[nouvelleVente.pending]: (state) => {\r\n\t\t\tstate.status = \"loading\";\r\n\t\t},\r\n\t\t[nouvelleVente.fulfilled]: (state, action) => {\r\n\t\t\tif (action.payload.state === \"success\") {\r\n\t\t\t\tstate.status = \"fulfilled\";\r\n\t\t\t\tconst facture = {\r\n\t\t\t\t\t...action.payload.facture,\r\n\t\t\t\t\tventes: action.payload.ventes,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tstate.factureRecente = facture;\r\n\t\t\t} else {\r\n\t\t\t\tstate.status = \"fulfilled\";\r\n\t\t\t\tstate.errors = action.payload;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[nouvelleVente.rejected]: (state, action) => {\r\n\t\t\tstate.status = \"failed\";\r\n\t\t\tstate.errors = action.payload;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { selectAll, selectById } = venteEntity.getSelectors(\r\n\t(state) => state.ventes\r\n);\r\n\r\nexport const getReqState = (state) => state.ventes.status;\r\nexport const getErrors = (state) => state.ventes.errors;\r\nexport const getCount = (state) => state.ventes.count;","import React from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { formatNumber } from \"../../../utilities/helpers\";\r\n\r\nconst StyledTableCell = styled(\"div\")(({ theme }) => ({\r\n\tfontFamily: [\r\n\t\t\"-apple-system\",\r\n\t\t\"BlinkMacSystemFont\",\r\n\t\t'\"Segoe UI\"',\r\n\t\t\"Roboto\",\r\n\t\t'\"Helvetica Neue\"',\r\n\t\t\"Arial\",\r\n\t\t\"sans-serif\",\r\n\t\t'\"Apple Color Emoji\"',\r\n\t\t'\"Segoe UI Emoji\"',\r\n\t\t'\"Segoe UI Symbol\"',\r\n\t].join(\",\"),\r\n\tpadding: \"0px 0px 0px 10px\",\r\n\tfontWeight: 600,\r\n\t\"&.body\": {\r\n\t\tbackgroundColor: \"#fff\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tborder: \"1px solid #eaeaea\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t},\r\n\t\"&.body > span\": {\r\n\t\tfontSize: 13,\r\n\t\tpadding: \"5px 10px\",\r\n\t\tbackgroundColor: \"#eaeaea\",\r\n\t\tminWidth: 43.94\r\n\t},\r\n\t\"&.qt\": {\r\n\t\tpadding: \"5px 10px\",\r\n\t},\r\n\t\"&.header\": {\r\n\t\ttextAlign: \"right\",\r\n\t\tpadding: \"5px 0px\",\r\n\t},\r\n\t\"&.total\": {\r\n\t\tfontSize: 25,\r\n\t},\r\n\t\"&.total.body > span\": {\r\n\t\tfontSize: 20,\r\n\t},\r\n}));\r\n\r\nconst StyledTableInputCell = styled(\"input\")(() => ({\r\n\tfontSize: 16,\r\n\tborder: \"none\",\r\n\toutline: \"none\",\r\n}));\r\n\r\nconst StyledTableCol = styled(\"div\")(() => ({\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"column\",\r\n\twidth: \"100%\",\r\n\ttextAlign: \"left\",\r\n\t\"&.body\": {\r\n\t\tborder: \"1px solid #eaeaea\",\r\n\t\tborderRadius: 5,\r\n\t\tmarginLeft: 15,\r\n\t},\r\n\t\"&:last-child td, &:last-child th\": {\r\n\t\tborder: 0,\r\n\t},\r\n}));\r\n\r\nconst StyledDisplay = styled(\"div\")(() => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\tmaxWidth: 400,\r\n\t\"&.total\": {\r\n\t\twidth: \"100%\",\r\n\t\tmarginTop: 20,\r\n\t},\r\n}));\r\n\r\nexport default function ResultDesplay({\r\n\tqT,\r\n\tsT,\r\n\ttva,\r\n\tnP,\r\n\tdevise,\r\n\tremise,\r\n\tsetRemise,\r\n}) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<StyledDisplay>\r\n\t\t\t\t<StyledTableCol className=\"header\">\r\n\t\t\t\t\t<StyledTableCell className=\"header\">\r\n\t\t\t\t\t\tQuantité totale\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t<StyledTableCell className=\"header\">\r\n\t\t\t\t\t\tSous-total(H.T)\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t<StyledTableCell className=\"header\">Rémise</StyledTableCell>\r\n\t\t\t\t\t<StyledTableCell className=\"header center\">\r\n\t\t\t\t\t\tT.V.A (16%)\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t</StyledTableCol>\r\n\t\t\t\t<StyledTableCol className=\"body\">\r\n\t\t\t\t\t<StyledTableCell className=\"body qt\">{qT}</StyledTableCell>\r\n\t\t\t\t\t<StyledTableCell className=\"body\">\r\n\t\t\t\t\t\t{formatNumber(sT)}\r\n\t\t\t\t\t\t<span>{devise}</span>\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t<StyledTableCell className=\"body\">\r\n\t\t\t\t\t\t<StyledTableInputCell\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\tvalue={remise}\r\n\t\t\t\t\t\t\tonChange={(e) => setRemise(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"Remise globale (0)\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span>%</span>\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t<StyledTableCell className=\"body\">\r\n\t\t\t\t\t\t{formatNumber(tva)}\r\n\t\t\t\t\t\t<span>{devise}</span>\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t</StyledTableCol>\r\n\t\t\t</StyledDisplay>\r\n\t\t\t<StyledDisplay className=\"total\">\r\n\t\t\t\t<StyledTableCol className=\"header total\">\r\n\t\t\t\t\t<StyledTableCell className=\"header total\">\r\n\t\t\t\t\t\tNet à payer\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t</StyledTableCol>\r\n\t\t\t\t<StyledTableCol className=\"body total\">\r\n\t\t\t\t\t<StyledTableCell className=\"body total\">\r\n\t\t\t\t\t\t{formatNumber(nP)}\r\n\t\t\t\t\t\t<span>{devise}</span>\r\n\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t</StyledTableCol>\r\n\t\t\t</StyledDisplay>\r\n\t\t</>\r\n\t);\r\n}\r\n","import { styled } from \"@mui/material/styles\";\r\nimport {ButtonBase} from '@mui/material';\r\n\r\nexport const StyledTableCell = styled(\"div\")(({ theme }) => ({\r\n\tfontFamily: [\r\n\t\t\"-apple-system\",\r\n\t\t\"BlinkMacSystemFont\",\r\n\t\t'\"Segoe UI\"',\r\n\t\t\"Roboto\",\r\n\t\t'\"Helvetica Neue\"',\r\n\t\t\"Arial\",\r\n\t\t\"sans-serif\",\r\n\t\t'\"Apple Color Emoji\"',\r\n\t\t'\"Segoe UI Emoji\"',\r\n\t\t'\"Segoe UI Symbol\"',\r\n\t].join(\",\"),\r\n\tpadding: \"10px 10px\",\r\n\t[`&.header`]: {\r\n\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\tcolor: theme.palette.common.white,\r\n        padding: \"5px 10px\",\r\n\t},\r\n\t[`&.body`]: {\r\n\t\tfontSize: 16,\r\n        padding: \"10px 10px\",\r\n\t},\r\n\t[`&.right`]: {\r\n        textAlign: 'right'\r\n\t},\r\n\t[`&.left`]: {\r\n        textAlign: 'left'\r\n\t},\r\n\t[`&.center`]: {\r\n        textAlign: 'center'\r\n\t},\r\n}));\r\n\r\nexport const StyledTableRow = styled(ButtonBase)(({ theme }) => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n    cursor: 'pointer',\r\n    width: '100%',\r\n    textAlign: 'left',\r\n    \"&.header\": {\r\n\t\tbackgroundColor: `${theme.palette.primary.light}!important`,\r\n    },\r\n\t\"&:nth-of-type(odd)\": {\r\n\t\tbackgroundColor: theme.palette.grey[100],\r\n        boxShadow: '0px 1px 0px 0px rgb(0 0 0 / 20%)'\r\n\t},\r\n\t// hide last border\r\n\t\"&:last-child td, &:last-child th\": {\r\n\t\tborder: 0,\r\n\t},\r\n\t\"&:hover\": {\r\n\t\tbackgroundColor: theme.palette.action.focus,\r\n\t},\r\n\t\"&>div\": {\r\n\t\twidth: \"25%\",\r\n\t},\r\n\t\"&>div:first-of-type\": {\r\n\t\twidth: \"40%\",\r\n\t},\r\n\t\"&>div:last-child\": {\r\n\t\twidth: \"10%\",\r\n\t},\r\n}));\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\n\r\nexport const StyledTableCell = styled(\"div\")(({ theme }) => ({\r\n\tfontFamily: [\r\n\t\t\"-apple-system\",\r\n\t\t\"BlinkMacSystemFont\",\r\n\t\t'\"Segoe UI\"',\r\n\t\t\"Roboto\",\r\n\t\t'\"Helvetica Neue\"',\r\n\t\t\"Arial\",\r\n\t\t\"sans-serif\",\r\n\t\t'\"Apple Color Emoji\"',\r\n\t\t'\"Segoe UI Emoji\"',\r\n\t\t'\"Segoe UI Symbol\"',\r\n\t].join(\",\"),\r\n\t[`&.header`]: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\tpadding: \"5px 2px\",\r\n\t},\r\n\t[`&.body:not(:last-child)`]: {\r\n\t\tfontSize: 16,\r\n\t\tborder: \"1px solid #eaeaea\",\r\n\t\tpadding: \"4px 10px\",\r\n\t},\r\n\t[`&.right`]: {\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\t[`&.left`]: {\r\n\t\ttextAlign: \"left\",\r\n\t},\r\n\t[`&.center`]: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n}));\r\n\r\nexport const StyledTableInputCell = styled(\"input\")(({ theme }) => ({\r\n\tfontSize: 16,\r\n\tpadding: \"6px 10px\",\r\n\tborder: \"1px solid #eaeaea\",\r\n\toutline: \"none\",\r\n}));\r\n\r\nexport const StyledTableRow = styled(\"div\")(({ theme }) => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\twidth: \"100%\",\r\n\ttextAlign: \"left\",\r\n\t\"&.header\": {\r\n\t\tbackgroundColor: `${theme.palette.primary.main}!important`,\r\n\t},\r\n\t\"&:last-child td, &:last-child th\": {\r\n\t\tborder: 0,\r\n\t},\r\n\t\"&>*\": {\r\n\t\twidth: \"25%\",\r\n\t},\r\n\t\"&>div:first-of-type \": {\r\n\t\twidth: \"40%\",\r\n\t},\r\n\t\"&>div:last-child\": {\r\n\t\twidth: \"fit-content\",\r\n\t},\r\n\t\"&.body > div:first-of-type > div > div\": {\r\n\t\tpadding: \"2px 6px\",\r\n\t},\r\n}));\r\n\r\nexport const InputQuantite = ({\r\n\tproduit,\r\n\tproduits,\r\n\tonChange,\r\n\tsingleValue,\r\n\tonSingleChange,\r\n\t...other\r\n}) => {\r\n\tconst [value, setValue] = useState(0);\r\n\tconst handleChange = (e) => {\r\n\t\tconst v = parseFloat(\r\n\t\t\te.target.value > 0\r\n\t\t\t\t? e.target.value\r\n\t\t\t\t: 0\r\n\t\t);\r\n\t\tif (produit && e.target.value >= 0) {\r\n\t\t\tconst p = produits.find((prod) => prod.id === produit.id);\r\n\t\t\tif (p && v > p.quantite) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetValue(e.target.value);\r\n\t\t\tif (typeof onChange === \"function\") {\r\n\t\t\t\tonChange(produit.id, v);\r\n\t\t\t}\r\n\t\t\tif (typeof onSingleChange === \"function\") {\r\n\t\t\t\tonSingleChange(v);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tReact.useEffect(() => {\r\n\t\tif (produit) {\r\n\t\t\tsetValue(produit.quantiteSortie);\r\n\t\t}\r\n\t}, [produit]);\r\n\tReact.useEffect(() => {\r\n\t\tif ((singleValue !== null || singleValue !== undefined) && !produit) {\r\n\t\t\tsetValue(singleValue);\r\n\t\t}\r\n\t}, [produit, singleValue]);\r\n\treturn (\r\n\t\t<StyledTableInputCell\r\n\t\t\t{...other}\r\n\t\t\tinputMode=\"numeric\"\r\n\t\t\ttype=\"number\"\r\n\t\t\tvalue={value}\r\n\t\t\tmaxLength={10}\r\n\t\t\tonChange={handleChange}\r\n\t\t/>\r\n\t);\r\n};\r\n","/**\r\n * Valide Les information générales de la vente\r\n * @param {object} client\r\n * @param {string} clientDef Num def du client\r\n * @param {numeric} taux Le taux de change\r\n * @param {string} devise Monaie\r\n * @returns valid as boolean, errors as object\r\n */\r\nexport const validerDefaultValues = (client, clientDef, taux, devise) => {\r\n\tlet valid = true;\r\n\tlet errors = {};\r\n\r\n\tif (!client && (clientDef !== \"\" || clientDef !== null || clientDef !== undefined)) {\r\n\t\tvalid = false;\r\n\t\terrors[\"client\"] = \"Le numéro DEF du client est invalide\";\r\n\t}\r\n\r\n\tif (!taux || taux === \"\" || +taux <= 0) {\r\n\t\tvalid = false;\r\n\t\terrors[\"taux\"] = \"Le taux de vente est réquis en Fc\";\r\n\t}\r\n\r\n\tif (devise !== \"USD\" && devise !== \"CDF\") {\r\n\t\tvalid = false;\r\n\t\terrors[\"devise\"] = \"Spécifiez la devise\";\r\n\t}\r\n\r\n\treturn {\r\n\t\tvalid,\r\n\t\terrors,\r\n\t};\r\n};\r\n\r\n/**\r\n * Valide les produits et qauntités vendues\r\n * @param {array} selectedProduits\r\n * @returns valid as boolean and error as string\r\n */\r\nexport const validerVente = (selectedProduits) => {\r\n\tlet valid = true;\r\n\tlet error = null;\r\n\r\n\tif (!selectedProduits || selectedProduits.length === 0) {\r\n\t\terror = \"Séléctionnez au moins un produit.\";\r\n\t\tvalid = false;\r\n\t} else {\r\n\t\tvalid = !selectedProduits.some((sP) => sP.quantiteSortie <= 0);\r\n\t\tif (!valid) {\r\n\t\t\terror = \"Toutes les quantités doivent être superieur à zéro.\";\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tvalid,\r\n\t\terror,\r\n\t};\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n\tTypography,\r\n\tModal,\r\n\tDivider,\r\n\tButton,\r\n\tCircularProgress,\r\n} from \"@mui/material\";\r\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tselectAll as selectProduits,\r\n\tgetVenteDataProduits,\r\n} from \"../../../app/reducers/produit\";\r\nimport { getReqState } from \"../../../app/reducers/vente\";\r\nimport ResultDesplay from \"./ResulutTable\";\r\nimport { SearchInput, ComboBox, LargeDialog } from \"../../../Components\";\r\nimport { Box } from \"@mui/system\";\r\nimport {\r\n\tStyledTableCell as ProduitListStyledCell,\r\n\tStyledTableRow as ProduitListStyledRow,\r\n} from \"./ProduitListStyledComponents\";\r\nimport {\r\n\tStyledTableCell as SelectedProduitTableCell,\r\n\tStyledTableRow as SelectedProduitTableRow,\r\n\tInputQuantite,\r\n} from \"./SelectedProduitStyledComponents\";\r\nimport { validerVente } from \"../utilities/validators\";\r\nimport { calculeFacture, fifo } from \"../utilities/helpers\";\r\nimport { formatNumber } from \"../../../utilities/helpers\";\r\n\r\nexport default function ProduitModal({\r\n\topen,\r\n\tcloseHandler,\r\n\tsubmitHandler,\r\n\tnumFacture,\r\n\tdevise,\r\n\tassujetti,\r\n}) {\r\n\t// Global variables\r\n\tlet produits = useSelector(selectProduits);\r\n\tconst [notSelected, setNotSelected] = useState(produits);\r\n\tconst [selectedProduits, setSelectedProduits] = useState([]);\r\n\tconst [qT, setQT] = useState(0);\r\n\tconst [sT, setST] = useState(0);\r\n\tconst [tva, setTva] = useState(0);\r\n\tconst [nP, setNP] = useState(0);\r\n\tconst [produitVenteStock, setProduitVenteStock] = useState([]);\r\n\tconst [canContinue, setCanContinue] = useState({\r\n\t\talert: false,\r\n\t\tmessage: \"\"\r\n\t});\r\n\tconst [remise, setRemise] = useState(0);\r\n\tconst [validationError, setValidationError] = useState(null);\r\n\tconst saving = useSelector(getReqState) === \"loading\";\r\n\r\n\t// Selected produits states / variables\r\n\tconst [produitValue, setProduitValue] = useState(null);\r\n\tconst [qValue, setQValue] = useState(0);\r\n\tconst [pTotal, setPTotal] = useState(0);\r\n\r\n\tconst handleCloseClick = () => {\r\n\t\tsetSelectedProduits([]);\r\n\t\tcloseHandler();\r\n\t};\r\n\r\n\tconst handleCloseAlert = () => {\r\n\t\tsetCanContinue(true);\r\n\t};\r\n\r\n\tconst onSubmit = () => {\r\n\t\tif (saving) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { valid, error } = validerVente(selectedProduits);\r\n\r\n\t\tsetValidationError(error);\r\n\r\n\t\tif (!valid) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst data = {\r\n\t\t\tfacture: {\r\n\t\t\t\tnet_payer: nP,\r\n\t\t\t\ttva: tva,\r\n\t\t\t},\r\n\t\t\tventes: selectedProduits.map((sP) => ({\r\n\t\t\t\tq_sortie: sP.quantiteSortie,\r\n\t\t\t\tprix_unitaire: sP.prixTot / sP.quantiteSortie,\r\n\t\t\t\ttva: sP.prixTot * 0.16,\r\n\t\t\t\tproduitId: sP.id,\r\n\t\t\t\tventeStock: sP.venteStock,\r\n\t\t\t})),\r\n\t\t};\r\n\r\n\t\tsubmitHandler(data);\r\n\t};\r\n\r\n\t// Product list functions\r\n\tconst handleSelectFromProduitList = (produit) => {\r\n\t\tif (produit.quantite === 0) {\r\n\t\t\tsetCanContinue({\r\n\t\t\t\talert: true,\r\n\t\t\t\tmessage: \"Le stock est épuisé!\"\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst p = { ...produit, quantiteSortie: 0, prixTot: 0, venteStock: [] };\r\n\t\tlet newProds = [...selectedProduits, p];\r\n\t\tconst prod = selectedProduits.find((p) => p.id === produit.id);\r\n\t\tif (prod) {\r\n\t\t\tif (prod.quantiteSortie >= produit.quantite) {\r\n\t\t\t\tsetCanContinue({\r\n\t\t\t\t\talert: true,\r\n\t\t\t\t\tmessage: \"Le stock est épuisé!\"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tprod.quantiteSortie = prod.quantiteSortie + 1;\r\n\t\t\tconst { prixTotal, entreeSortie } = fifo(\r\n\t\t\t\tprod.entrees,\r\n\t\t\t\tprod.quantiteSortie\r\n\t\t\t);\r\n\t\t\tprod.prixTot = prixTotal;\r\n\t\t\tprod.venteStock = entreeSortie;\r\n\t\t\tconst { q, sousTotal, tva, netAPayer } =\r\n\t\t\t\tcalculeFacture(selectedProduits);\r\n\t\t\tsetQT(q);\r\n\t\t\tsetST(sousTotal);\r\n\t\t\tsetTva(tva);\r\n\t\t\tsetNP(netAPayer);\r\n\t\t\tnewProds = [\r\n\t\t\t\t...selectedProduits.filter((p) => p.id !== prod.id),\r\n\t\t\t\t{ ...prod },\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\tsetSelectedProduits(newProds);\r\n\r\n\t\tconst nS = notSelected.filter((p) => p.id !== produit.id);\r\n\t\tsetNotSelected(nS);\r\n\t};\r\n\t\r\n\tconst handleRemoveProduit = (index) => {\r\n\t\tlet newProduitsList = [];\r\n\r\n\t\tif (index || index === 0) {\r\n\t\t\tconst p = selectedProduits.find((_, i) => i === index);\r\n\t\t\tif (p) {\r\n\t\t\t\tsetNotSelected([...notSelected, p]);\r\n\t\t\t}\r\n\t\t\tnewProduitsList = selectedProduits.filter((_, i) => i !== index);\r\n\t\t}\r\n\t\tsetSelectedProduits(newProduitsList);\r\n\t};\r\n\tconst handleProduitValueChange = (produit) => {\r\n\t\tif (produit.quantite === 0 || produit.quantite < produit.q_min) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (produit) {\r\n\t\t\tsetProduitValue({\r\n\t\t\t\t...produit,\r\n\t\t\t\tquantiteSortie: parseFloat(qValue),\r\n\t\t\t\tprixTot: 0,\r\n\t\t\t\tventeStock: [],\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetProduitValue(null);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleQuantiteChange = (produitId, value) => {\r\n\t\tconst produit = produits.find(prod => prod.id === produitId);\r\n\t\tconst v = parseFloat(value);\r\n\t\tif (v > produit.quantite) {\r\n\t\t\tsetCanContinue({\r\n\t\t\t\talert: true,\r\n\t\t\t\tmessage: \"Le stock est épuisé!\"\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst p = selectedProduits.find((prod) => prod.id === produitId);\r\n\t\tif (p) {\r\n\t\t\tp.quantiteSortie = v;\r\n\t\t\tconst { prixTotal, entreeSortie } = fifo(\r\n\t\t\t\tp.entrees,\r\n\t\t\t\tp.quantiteSortie\r\n\t\t\t);\r\n\t\t\tp.prixTot = prixTotal;\r\n\t\t\tp.venteStock = entreeSortie;\r\n\t\t\tconst { q, sousTotal, tva, netAPayer } =\r\n\t\t\t\tcalculeFacture(selectedProduits);\r\n\t\t\tsetQT(q);\r\n\t\t\tsetST(sousTotal);\r\n\t\t\tsetTva(tva);\r\n\t\t\tsetNP(netAPayer);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleAppendProduit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (produitValue) {\r\n\t\t\tif (qValue > 0) {\r\n\t\t\t\tsetSelectedProduits([\r\n\t\t\t\t\t...selectedProduits,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t...produitValue,\r\n\t\t\t\t\t\tquantiteSortie: parseFloat(qValue),\r\n\t\t\t\t\t\tprixTot: pTotal,\r\n\t\t\t\t\t\tventeStock: produitVenteStock,\r\n\t\t\t\t\t},\r\n\t\t\t\t]);\r\n\r\n\t\t\t\tsetProduitValue(null);\r\n\t\t\t\tconst nS = notSelected.filter((p) => p.id !== produitValue.id);\r\n\t\t\t\tsetNotSelected(nS);\r\n\t\t\t\tsetQValue(0);\r\n\t\t\t\tsetPTotal(0);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tif (produits.length === 0 && assujetti) {\r\n\t\t\tdispatch(getVenteDataProduits(assujetti.id));\r\n\t\t\tsetNotSelected(produits);\r\n\t\t}\r\n\t}, [assujetti, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (produitValue) {\r\n\t\t\tconst { prixTotal, entreeSortie } = fifo(\r\n\t\t\t\tproduitValue.entrees,\r\n\t\t\t\tparseFloat(qValue)\r\n\t\t\t);\r\n\t\t\tsetPTotal(prixTotal);\r\n\t\t\tsetProduitVenteStock(entreeSortie);\r\n\t\t}\r\n\t}, [produitValue, qValue]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { q, sousTotal, tva, netAPayer } =\r\n\t\t\tcalculeFacture(selectedProduits);\r\n\t\tsetQT(q);\r\n\t\tsetST(sousTotal);\r\n\t\tsetTva(tva);\r\n\t\tsetNP(netAPayer);\r\n\t}, [selectedProduits]);\r\n\treturn (\r\n\t\t<Modal open={open} onClose={closeHandler}>\r\n\t\t\t<div className=\"content-container\">\r\n\t\t\t\t{canContinue.alert && (\r\n\t\t\t\t\t<LargeDialog\r\n\t\t\t\t\t\topen={canContinue.alert}\r\n\t\t\t\t\t\ttitle=\"Alerte stock\"\r\n\t\t\t\t\t\tmessage={canContinue.message || \"Stock de sécurité déjà atteint. Produit indisponible.\"}\r\n\t\t\t\t\t\tagreeBtnText=\"Ok\"\r\n\t\t\t\t\t\tonClose={handleCloseAlert}\r\n\t\t\t\t\t\tonAgree={handleCloseAlert}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{validationError && (\r\n\t\t\t\t\t<LargeDialog\r\n\t\t\t\t\t\topen={validationError ? true : false}\r\n\t\t\t\t\t\ttitle=\"Erreur\"\r\n\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\tmessage={validationError}\r\n\t\t\t\t\t\tagreeBtnText=\"Ok\"\r\n\t\t\t\t\t\tonClose={() => setValidationError(null)}\r\n\t\t\t\t\t\tonAgree={() => setValidationError(null)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Typography>Facture {numFacture}</Typography>\r\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\tonClick={onSubmit}\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 113.19,\r\n\t\t\t\t\t\t\t\theight: 36.5,\r\n\t\t\t\t\t\t\t\tmr: 2,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{saving ? (\r\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Enregistrer\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\tdisabled={saving}\r\n\t\t\t\t\t\t\tonClick={handleCloseClick}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAnnuler\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className=\"inner-facturation-content\">\r\n\t\t\t\t\t<div className=\"produits-side\">\r\n\t\t\t\t\t\t<SearchInput />\r\n\t\t\t\t\t\t<div className=\"product-list\">\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"small\">\r\n\t\t\t\t\t\t\t\tCes produits se trouvent dans le{\" \"}\r\n\t\t\t\t\t\t\t\t<strong>stock principal</strong>.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Divider sx={{ mt: 2 }} />\r\n\t\t\t\t\t\t\t<div className=\"produits-list\">\r\n\t\t\t\t\t\t\t\t<ProduitListStyledRow className=\"header\">\r\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header\">\r\n\t\t\t\t\t\t\t\t\t\tProduit\r\n\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header\">\r\n\t\t\t\t\t\t\t\t\t\tPrix unitaire\r\n\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header center\">\r\n\t\t\t\t\t\t\t\t\t\tDisponible\r\n\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"header center\"></ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t</ProduitListStyledRow>\r\n\t\t\t\t\t\t\t\t{produits.map((produit) => (\r\n\t\t\t\t\t\t\t\t\t<ProduitListStyledRow\r\n\t\t\t\t\t\t\t\t\t\tkey={produit.id}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleSelectFromProduitList(produit)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.designation}\r\n\t\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body right\"></ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body center\">\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.quantite}\r\n\t\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t\t<ProduitListStyledCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t\t{produit.unite}\r\n\t\t\t\t\t\t\t\t\t\t</ProduitListStyledCell>\r\n\t\t\t\t\t\t\t\t\t</ProduitListStyledRow>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"produits-side\">\r\n\t\t\t\t\t\t<div className=\"selected-products\">\r\n\t\t\t\t\t\t\t<SelectedProduitTableRow className=\"header\">\r\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header\">\r\n\t\t\t\t\t\t\t\t\tProduit\r\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header\">\r\n\t\t\t\t\t\t\t\t\tQuantité\r\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header\">\r\n\t\t\t\t\t\t\t\t\tPrix total\r\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"header center\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={1000}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tminWidth: \"50px\",\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveProduit()}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t</SelectedProduitTableRow>\r\n\t\t\t\t\t\t\t{selectedProduits.map((produit, index) => (\r\n\t\t\t\t\t\t\t\t<SelectedProduitTableRow\r\n\t\t\t\t\t\t\t\t\tclassName=\"body\"\r\n\t\t\t\t\t\t\t\t\tkey={`${produit.id}_${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t{produit.code_produit}\r\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t\t<InputQuantite\r\n\t\t\t\t\t\t\t\t\t\tproduit={produit}\r\n\t\t\t\t\t\t\t\t\t\tproduits={produits}\r\n\t\t\t\t\t\t\t\t\t\tsx={{ m: 0 }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleQuantiteChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t{formatNumber(produit.prixTot)}\r\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={index + produits.length}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth: \"50px\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveProduit(index)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t</SelectedProduitTableRow>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t<form onSubmit={handleAppendProduit}>\r\n\t\t\t\t\t\t\t\t<SelectedProduitTableRow className=\"body new\">\r\n\t\t\t\t\t\t\t\t\t<ComboBox\r\n\t\t\t\t\t\t\t\t\t\tminWidth=\"40%\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={produitValue}\r\n\t\t\t\t\t\t\t\t\t\tsetValue={handleProduitValueChange}\r\n\t\t\t\t\t\t\t\t\t\toptions={notSelected.map((prod) => ({\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: prod.designation,\r\n\t\t\t\t\t\t\t\t\t\t\t...prod,\r\n\t\t\t\t\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\t\t\t\t\ttextFieldXs={{\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<InputQuantite\r\n\t\t\t\t\t\t\t\t\t\tproduit={produitValue}\r\n\t\t\t\t\t\t\t\t\t\tsingleValue={qValue}\r\n\t\t\t\t\t\t\t\t\t\tproduits={produits}\r\n\t\t\t\t\t\t\t\t\t\tonSingleChange={(value) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetQValue(value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsx={{ m: 0 }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t{formatNumber(pTotal)}\r\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t\t<SelectedProduitTableCell className=\"body\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={1000}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth: \"50px\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<CheckIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</SelectedProduitTableCell>\r\n\t\t\t\t\t\t\t\t</SelectedProduitTableRow>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tmt={3}\r\n\t\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\t\talignItems=\"flex-end\"\r\n\t\t\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ResultDesplay\r\n\t\t\t\t\t\t\t\tqT={qT}\r\n\t\t\t\t\t\t\t\tsT={sT}\r\n\t\t\t\t\t\t\t\ttva={tva}\r\n\t\t\t\t\t\t\t\tnP={nP}\r\n\t\t\t\t\t\t\t\tdevise={devise}\r\n\t\t\t\t\t\t\t\tremise={remise}\r\n\t\t\t\t\t\t\t\tsetRemise={setRemise}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst factureEntity = createEntityAdapter({\r\n    selectId: item => item.id\r\n});\r\n\r\nconst initialState = factureEntity.getInitialState({\r\n    error: null,\r\n    status: 'idle',\r\n    currentFacture: null,\r\n    printFacture: null\r\n});\r\n\r\nexport const getFactures = createAsyncThunk(\r\n    'facture/get all',\r\n    async () => {}\r\n);\r\n\r\nexport const getCurrentFacture = createAsyncThunk(\r\n    'facture/get current',\r\n    async () => {\r\n        const res = await axios.get(`/api/ventes/facture_recente`);\r\n        return res.data;\r\n    }\r\n);\r\n\r\nexport const {actions, reducer} = createSlice({\r\n    name: 'facture',\r\n    initialState,\r\n    reducers: {\r\n        setCurrentFacture: (state, action) => {\r\n            const facture = action.payload;\r\n            state.currentFacture = facture;\r\n        },\r\n        setPrintFacture: (state, action) => {\r\n            const facture = action.payload;\r\n            state.printFacture = facture;\r\n        }\r\n    },\r\n    extraReducers: {\r\n        [getCurrentFacture.pending]: (state, action) => {\r\n            state.status = 'idle';\r\n        },\r\n        [getCurrentFacture.fulfilled]: (state, action) => {\r\n            const res = action.payload;\r\n            if (res && res.facture) {\r\n                state.currentFacture = action.payload.facture;\r\n            }\r\n            state.status = 'fulfilled';\r\n        },\r\n        [getCurrentFacture.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n        },\r\n    }\r\n});\r\n\r\nexport const getTodayFactureRecente = state => state.factures.currentFacture;\r\nexport const getPrintFacture = state => state.factures.printFacture;\r\nexport const getError = state => state.factures.error;\r\nexport const getReqStatus = state => state.factures.status;","import {useEffect, useState, useCallback} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {getVenteDataProduits, selectAll as selectAllProduits} from '../../../app/reducers/produit';\r\nimport { getCount, getVenteCount } from '../../../app/reducers/vente';\r\n// import {getAssujetti} from '../../../app/reducers/assujetti';\r\n\r\nexport const useGetVenteData = () => {\r\n    const data = useSelector(selectAllProduits);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    const getData = useCallback(async () => {\r\n        setLoading(true);\r\n        await dispatch(getVenteDataProduits());\r\n        await dispatch(getVenteCount());\r\n        setLoading(false);\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [getData]);\r\n\r\n    return {data, loading}\r\n};\r\n\r\nexport const useGetNumFacture = () => {\r\n    const count = useSelector(getCount);\r\n\r\n    return count + 1;\r\n}","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getTodayFactureRecente } from \"../../../app/reducers/facture\";\r\nimport { Fade, Typography, IconButton } from \"@mui/material\";\r\nimport styled from \"@emotion/styled\";\r\nimport MailIcon from \"@mui/icons-material/Mail\";\r\nimport PrintIcon from \"@mui/icons-material/Print\";\r\n\r\nexport default function FactureRecente() {\r\n\tconst facture = useSelector(getTodayFactureRecente);\r\n\tconst StyledContainer = styled(\"div\")(() => ({\r\n\t\tmarginTop: 30,\r\n\t\t\"& > h2\": {\r\n\t\t\tmarginBottom: 10,\r\n\t\t},\r\n\t}));\r\n\r\n\tconst StyledCard = styled(\"div\")(({ theme }) => ({\r\n\t\tbackgroundColor: \"#fff\",\r\n\t\tborderRadius: 7,\r\n\t\tminWidth: \"200px\",\r\n\t\tmaxWidth: \"350px\",\r\n\t\t\"& > span\": {\r\n\t\t\tpadding: theme.spacing(1, 2),\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t},\r\n\t}));\r\n\tconst StyledCardHeader = styled(\"div\")(({ theme }) => ({\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"cente\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\twidth: \"100%\",\r\n\t\t\"& > span\": {\r\n\t\t\tpadding: theme.spacing(1, 2),\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t},\r\n\t}));\r\n\tconst StyledCardBody = styled(\"div\")(({ theme }) => ({\r\n\t\tfontFamily: [\r\n\t\t\t\"-apple-system\",\r\n\t\t\t\"BlinkMacSystemFont\",\r\n\t\t\t'\"Segoe UI\"',\r\n\t\t\t\"Roboto\",\r\n\t\t\t'\"Helvetica Neue\"',\r\n\t\t\t\"Arial\",\r\n\t\t\t\"sans-serif\",\r\n\t\t\t'\"Apple Color Emoji\"',\r\n\t\t\t'\"Segoe UI Emoji\"',\r\n\t\t\t'\"Segoe UI Symbol\"',\r\n\t\t].join(\",\"),\r\n\t\tpadding: theme.spacing(1, 2),\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\t\"& > ul\": {\r\n\t\t\t\"& > li\": {\r\n\t\t\t\tpadding: theme.spacing(0.7, 0),\r\n\t\t\t\tminHeight: 32.19,\r\n\t\t\t},\r\n\t\t},\r\n\t\t\"& > ul:first-of-type\": {\r\n\t\t\tmarginRight: 20,\r\n\t\t},\r\n\t}));\r\n\treturn (\r\n\t\t<Fade in>\r\n\t\t\t<StyledContainer>\r\n\t\t\t\t<Typography variant=\"h2\">Facture récente</Typography>\r\n\t\t\t\t{facture ? (\r\n\t\t\t\t\t<StyledCard>\r\n\t\t\t\t\t\t<StyledCardHeader>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\t\t#{facture.num_facture}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{new Date(facture.date).getHours()}\r\n\t\t\t\t\t\t\t\t\t</span>{\" \"}\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{new Date(facture.date).getMinutes()}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={`/facture/${facture.num_facture}`}\r\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t\t\t\t<PrintIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t\t\t<MailIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</StyledCardHeader>\r\n\t\t\t\t\t\t<StyledCardBody>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>Client :</li>\r\n\t\t\t\t\t\t\t\t<li>Quantité :</li>\r\n\t\t\t\t\t\t\t\t<li>T.V.A :</li>\r\n\t\t\t\t\t\t\t\t<li>Net à payer :</li>\r\n\t\t\t\t\t\t\t\t<li>Règlement :</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t{facture.clientDef\r\n\t\t\t\t\t\t\t\t\t\t? facture.clientDef\r\n\t\t\t\t\t\t\t\t\t\t: \"Non défini\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>{facture.total_quantite}</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t{facture.total_tva}{\" \"}\r\n\t\t\t\t\t\t\t\t\t{facture.devise === \"USD\" ? \"$\" : \"Fc\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t{facture.total_ht + facture.total_tva}{\" \"}\r\n\t\t\t\t\t\t\t\t\t{facture.devise === \"USD\" ? \"$\" : \"Fc\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>{facture.mode_payement}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</StyledCardBody>\r\n\t\t\t\t\t</StyledCard>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<StyledCard style={{ backgroundColor: \"#f9f9f9\" }}>\r\n\t\t\t\t\t\t<StyledCardBody>\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\tIci s'affichera la facture récemment établie\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</StyledCardBody>\r\n\t\t\t\t\t</StyledCard>\r\n\t\t\t\t)}\r\n\t\t\t</StyledContainer>\r\n\t\t</Fade>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Button, Typography } from \"@mui/material\";\r\nimport Default from \"../components/DefaultValues\";\r\nimport FactureModal from \"../components/FactureModal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAssujetti } from \"../../../app/reducers/assujetti\";\r\nimport { getCurrentFacture, actions } from \"../../../app/reducers/facture\";\r\nimport { useGetNumFacture } from \"../utilities/hooks\";\r\nimport { validerDefaultValues } from \"../utilities/validators\";\r\nimport { nouvelleVente } from \"../../../app/reducers/vente\";\r\nimport FactureRecente from \"../components/FactureRecente\";\r\nimport { getVenteDataProduits } from \"../../../app/reducers/produit\";\r\nimport {getTaux, getDevise} from '../../../app/reducers/config';\r\n\r\n\r\nexport default function FacturationHome() {\r\n\tconst taux = useSelector(getTaux);\r\n\tconst devise = useSelector(getDevise);\r\n\tconst assujetti = useSelector(getAssujetti);\r\n\tconst numFacture = useGetNumFacture();\r\n\tconst [def, setDef] = useState(\"\");\r\n\tconst [client, setClient] = useState({});\r\n\tconst [autreTaxes, setAutreTaxes] = useState(\"\");\r\n\tconst [addProduits, setAddProduits] = useState(false);\r\n\tconst [modePay, setModePay] = useState(\"Cash\");\r\n\tconst [etatFact, setEtatFact] = useState(\"soldé\");\r\n\tconst [searchingClient, setSearchingClient] = useState(false);\r\n\tconst [validationErrors, setValidationErrors] = useState({});\r\n\r\n\tconst toggleProduits = React.useCallback(() => {\r\n\t\tconst { valid, errors } = validerDefaultValues(\r\n\t\t\tclient,\r\n\t\t\tdef,\r\n\t\t\ttaux,\r\n\t\t\tdevise\r\n\t\t);\r\n\r\n\t\tsetValidationErrors(errors);\r\n\r\n\t\tif (!valid || searchingClient) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetAddProduits(!addProduits);\r\n\t}, [addProduits, client, def, devise, searchingClient, taux]);\r\n\r\n\tconst handleChangeClient = React.useCallback((value, loading) => {\r\n\t\tsetClient(value);\r\n\t\tsetSearchingClient(loading);\r\n\t}, []);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst handleSubmitFacture = (data) => {\r\n\t\tconst venteData = { ...data };\r\n\t\tventeData.factureRef = numFacture;\r\n\t\tventeData.clientDef = client.numero_def;\r\n\t\tventeData.etat_facture = etatFact;\r\n\t\tventeData.mode_payement = modePay;\r\n\t\tventeData.taux = taux;\r\n\t\tventeData.devise = devise;\r\n\r\n\t\tdispatch(nouvelleVente(venteData)).then((res) => {\r\n\t\t\tconst d = res.payload;\r\n\t\t\tif (d && d.state === \"success\") {\r\n\t\t\t\tsetAddProduits(false);\r\n\t\t\t\tdispatch(getVenteDataProduits());\r\n\t\t\t\tdispatch(actions.setCurrentFacture(d.facture));\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getCurrentFacture());\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"home-page\"\r\n\t\t\tstyle={{ paddingTop: 55, backgroundColor: \"#ededed\" }}\r\n\t\t>\r\n\t\t\t{addProduits && (\r\n\t\t\t\t<FactureModal\r\n\t\t\t\t\topen={addProduits}\r\n\t\t\t\t\tcloseHandler={toggleProduits}\r\n\t\t\t\t\tsubmitHandler={handleSubmitFacture}\r\n\t\t\t\t\tdevise={devise}\r\n\t\t\t\t\tnumFacture={numFacture}\r\n\t\t\t\t\tassujetti={assujetti}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"facturation\">\r\n\t\t\t\t<Default\r\n\t\t\t\t\thandleChangeClient={handleChangeClient}\r\n\t\t\t\t\tsetDefValue={setDef}\r\n\t\t\t\t\tautreTaxes={autreTaxes}\r\n\t\t\t\t\tsetAutreTaxes={setAutreTaxes}\r\n\t\t\t\t\tclientError={validationErrors.client}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={{ width: \"100%\" }}>\r\n\t\t\t\t\t<div className=\"facture-details\">\r\n\t\t\t\t\t\t<div className=\"facturation-block\">\r\n\t\t\t\t\t\t\t<div className=\"form-header\">\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFacturation\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tN° du document : {numFacture}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\t\tonClick={toggleProduits}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCréer facture\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\r\n\t\t\t\t\t\t\t\t\t\tDate:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{new Date().toLocaleDateString(\"fr\")}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<FactureRecente />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState, useEffect} from \"react\";\r\nimport \"./facturation.style.css\";\r\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport FacturationHome from \"./pages\";\r\nimport { useGetVenteData } from \"./utilities/hooks\";\r\nimport { Chargement, LargeDialog } from \"../../Components\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nexport default function NavigationFacturation() {\r\n\tconst { loading, data } = useGetVenteData();\r\n\tconst [canContinue, setCanContinue] = useState(false);\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst handleContinuer = () => {\r\n\t\tsetCanContinue(true);\r\n\t};\r\n\tconst handleReturn = () => {\r\n\t\tnavigate('/');\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst hasStock = data.some(d => d.quantite > 0);\r\n\t\tsetCanContinue(hasStock);\r\n\t}, [data]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Box height=\"80vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t<Chargement message=\"Chargement des données ...\" />\r\n\t\t\t\t</Box>\r\n\t\t\t) : \r\n\t\t\t!canContinue ? (\r\n\t\t\t<LargeDialog \r\n\t\t\t\topen={!canContinue}\r\n\t\t\t\ttitle=\"Alerte stock\"\r\n\t\t\t\tmessage=\"Vous n'avez aucun produit dans votre stock. Voulez-vous continuer ?\"\r\n\t\t\t\tagreeBtnText=\"Continuer\"\r\n\t\t\t\tdisagreeBtnText=\"Non\"\r\n\t\t\t\tonClose={handleReturn}\r\n\t\t\t\tonAgree={handleContinuer}\r\n\t\t\t\tonDisagree={handleReturn}\r\n\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<Routes>\r\n\t\t\t\t\t<Route path=\"/\" element={<FacturationHome />} />\r\n\t\t\t\t</Routes>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport { Button, Typography } from \"@mui/material\";\r\nimport { ProduitTableau } from \"../../../Components\";\r\nimport { Box } from \"@mui/system\";\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getProduits } from \"../../../app/reducers/produit\";\r\n\r\nexport default function Produits() {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getProduits());\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"module-page\">\r\n\t\t\t<header>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t\tbackground=\"#fff\"\r\n\t\t\t\t\tpadding=\"5px 0\"\r\n\t\t\t\t\tborderRadius=\"5px\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography className=\"module-title\">\r\n\t\t\t\t\t\tProduits\r\n\t\t\t\t\t\t<span className=\"small\">>> Liste des produits</span>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Link to=\"/stock/nouveau_produit\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tstartIcon={<AddIcon />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAjouter un produit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n                </Box>\r\n\t\t\t</header>\r\n\t\t\t<section className=\"produits\">\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\ttransition: \"all 225ms cubic-bezier(0, 0, 0.2, 1) 0ms\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ProduitTableau />\r\n\t\t\t\t</Box>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { ListItemText, ListItemButton, ListItemIcon } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport ApprovIcon from \"@mui/icons-material/FileDownload\";\r\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\r\nimport NotificationImportantIcon from \"@mui/icons-material/NotificationImportant\";\r\nimport KeyBoardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport Inventory2Icon from \"@mui/icons-material/Inventory2\";\r\n\r\nexport default function StockSideBar() {\r\n\tconst [openProduit, setOpenProduit] = useState(true);\r\n\tconst [openApprov, setOpenApprov] = useState(true);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"fleft-sidebar\"\r\n\t\t\tstyle={{\r\n\t\t\t\tcolor: \"#444\",\r\n\t\t\t\tborderRight: \"3px solid #ccc\"\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"inner-sidebar\">\r\n\t\t\t\t<menu>\r\n\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tonClick={() => setOpenProduit(!openProduit)}\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tpr: 2,\r\n\t\t\t\t\t\t\t\"&:hover, &:focus\": {},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tcolor: \"inherit\",\r\n\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\r\n\t\t\t\t\t\t\t\tmarginRight: 1.5,\r\n\t\t\t\t\t\t\t\tmarginTop: 0,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Inventory2Icon fontSize=\"small\" />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={\"Produits\"}\r\n\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\tlineHeight: \"20px\",\r\n\t\t\t\t\t\t\t\tmb: \"2px\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsecondaryTypographyProps={{\r\n\t\t\t\t\t\t\t\tnoWrap: true,\r\n\t\t\t\t\t\t\t\tfontSize: 12,\r\n\t\t\t\t\t\t\t\tlineHeight: \"16px\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsx={{ my: 0 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<KeyBoardArrowDownIcon\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\topacity: openProduit ? 1 : 0,\r\n\t\t\t\t\t\t\t\ttransform: openProduit\r\n\t\t\t\t\t\t\t\t\t? \"rotate(-180deg)\"\r\n\t\t\t\t\t\t\t\t\t: \"rotate(0)\",\r\n\t\t\t\t\t\t\t\ttransition: \"0.2s\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t{openProduit && (\r\n\t\t\t\t\t\t<Box pl={4.5}>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tto=\"produits\"\r\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary=\"Nos produits\"\r\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\r\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\tmb: 0,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tto=\"nouveau_produit\"\r\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary=\"Nouveau produit\"\r\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\r\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tonClick={() => setOpenApprov(!openApprov)}\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tpr: 2,\r\n\t\t\t\t\t\t\t\"&:hover, &:focus\": {},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tcolor: \"inherit\",\r\n\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\r\n\t\t\t\t\t\t\t\tmarginRight: 1.5,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ApprovIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={\"Approvisionnement\"}\r\n\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\tlineHeight: \"20px\",\r\n\t\t\t\t\t\t\t\tmb: \"2px\",\r\n\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t\t\t\toverflow: openApprov ? 'hidden' : 'initial'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsecondaryTypographyProps={{\r\n\t\t\t\t\t\t\t\tnoWrap: true,\r\n\t\t\t\t\t\t\t\tfontSize: 12,\r\n\t\t\t\t\t\t\t\tlineHeight: \"16px\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsx={{ my: 0 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<KeyBoardArrowDownIcon\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\topacity: openApprov ? 1 : 0,\r\n\t\t\t\t\t\t\t\ttransform: openApprov\r\n\t\t\t\t\t\t\t\t\t? \"rotate(-180deg)\"\r\n\t\t\t\t\t\t\t\t\t: \"rotate(0)\",\r\n\t\t\t\t\t\t\t\ttransition: \"0.2s\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t{openApprov && (\r\n\t\t\t\t\t\t<Box pl={4.5}>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tto=\"approvisionnement\"\r\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary=\"Nouvel approvisionnement\"\r\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\r\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\tmb: 0\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tto=\"historique_approvisionnement\"\r\n\t\t\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary=\"Historique\"\r\n\t\t\t\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\r\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto=\"fiche_de_stock\"\r\n\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\tsx={{ py: 0, minHeight: 40, color: \"inherit\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tcolor: \"inherit\",\r\n\t\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\r\n\t\t\t\t\t\t\t\t\tmarginRight: 1.5,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListAltIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={\"Fiche de stock\"}\r\n\t\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto=\"alertes\"\r\n\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\tsx={{ py: 0, minHeight: 40, color: \"inherit\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tcolor: \"inherit\",\r\n\t\t\t\t\t\t\t\t\tminWidth: \"fit-content\",\r\n\t\t\t\t\t\t\t\t\tmarginRight: 1.5,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<NotificationImportantIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={\"Alertes\"}\r\n\t\t\t\t\t\t\t\tprimaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\t\t\t\tfontWeight: \"medium\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</menu>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport {\r\n\tTypography,\r\n\tTextField,\r\n\tButton,\r\n\tIconButton,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { ComboBox, DateMaskInput } from \"../../../Components\";\r\nimport { Close } from \"@mui/icons-material\";\r\n\r\nexport default function MultipleFormApprov({ open, onClose }) {\r\n\treturn (\r\n\t\t<Modal onClose={onClose} open={open}>\r\n\t\t\t<form className=\"multiple-form\">\r\n\t\t\t\t<div className=\"form-header\">\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tborderBottom=\"1px solid #eaeaea\"\r\n\t\t\t\t\t\tmb={2}\r\n\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n                        justifyContent=\"space-between\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\t\t\tEntée des produits/marchandises en stock\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<IconButton onClick={onClose}>\r\n\t\t\t\t\t\t\t<Close fontSize=\"small\" />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Button variant=\"contained\" disableElevation type=\"submit\">\r\n\t\t\t\t\t\tEnregistrer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-rows\">\r\n\t\t\t\t\t<div className=\"form-row rows-header\">\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel=\"Num\"\r\n\t\t\t\t\t\t\tid=\"quantite_si\"\r\n\t\t\t\t\t\t\tname=\"quantite_si\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"right\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 60,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"produit\"\r\n\t\t\t\t\t\t\tname=\"produit\"\r\n\t\t\t\t\t\t\tlabel=\"Produit\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tsx={{ minWidth: 300 }}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"quantite\"\r\n\t\t\t\t\t\t\tname=\"quantite\"\r\n\t\t\t\t\t\t\tlabel=\"Quantité\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"cu\"\r\n\t\t\t\t\t\t\tname=\"cu\"\r\n\t\t\t\t\t\t\tlabel=\"C.U.\"\r\n\t\t\t\t\t\t\tplaceholder=\"C.U.\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DateMaskInput\r\n\t\t\t\t\t\t\tid=\"exp\"\r\n\t\t\t\t\t\t\tname=\"exp\"\r\n\t\t\t\t\t\t\tlabel=\"Date d'expiration\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{new Array(10).fill(0).map((arr, index) => (\r\n\t\t\t\t\t\t<Row key={index} num={index + 1} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nconst Row = ({ setRowsHandler, num }) => {\r\n\t// const [produit, setProduit] = useState(\"\");\r\n\tconst [quantite, setQuantite] = useState(0);\r\n\tconst [cu, setCu] = useState(0);\r\n\t// const [marge, setMarge] = useState(0);\r\n\tconst [dateExp, setDateExp] = useState();\r\n\r\n\tconst dateExpChange = (event) => {\r\n\t\tsetDateExp(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"form-row\">\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"quantite_si\"\r\n\t\t\t\tname=\"quantite_si\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tdefaultValue={num}\r\n\t\t\t\tdisabled\r\n\t\t\t\tinputProps={{\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\ttextAlign: \"right\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 60,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<ComboBox label={false} />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"quantite_si\"\r\n\t\t\t\tname=\"quantite_si\"\r\n\t\t\t\tplaceholder=\"Quantité stock initial\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tvalue={quantite}\r\n\t\t\t\tonChange={(e) => setQuantite(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"cu\"\r\n\t\t\t\tname=\"cu\"\r\n\t\t\t\tplaceholder=\"Coût unitaire du produit\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tvalue={cu}\r\n\t\t\t\tonChange={(e) => setCu(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<DateMaskInput\r\n\t\t\t\tvalue={dateExp}\r\n\t\t\t\tonChange={dateExpChange}\r\n\t\t\t\tid=\"exp\"\r\n\t\t\t\tname=\"exp\"\r\n\t\t\t\tplaceholder=\"_ _ /_ _ /20_ _\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tfullWidth\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport {dateCompare} from '../../utilities/helpers';\r\n\r\nconst factureAchatEntity = createEntityAdapter({\r\n    selectId: item => item.id,\r\n    sortComparer: (a, b) => dateCompare(a.date_emission, b.date_emission)\r\n});\r\n\r\nconst initialState = factureAchatEntity.getInitialState({\r\n    error: null,\r\n    status: 'idle',\r\n});\r\n\r\nexport const getFacturesAchat = createAsyncThunk(\r\n    'facture/get all',\r\n    async () => {\r\n        const {data} = await axios.get('/api/entrees/factures');\r\n        return data;\r\n    }\r\n);\r\n\r\nexport const {actions, reducer} = createSlice({\r\n    name: 'facture_achat',\r\n    initialState,\r\n    reducers: {\r\n        updateteOne: (state, action) => {\r\n            const {id, attribute, value} = action.payload;\r\n            if (id) {\r\n                const found = state.entities[id];\r\n                if (!found) return;\r\n                found[attribute] = value;\r\n            }\r\n        }\r\n    },\r\n    extraReducers: {\r\n        [getFacturesAchat.pending]: (state, action) => {\r\n            state.status = 'loading';\r\n        },\r\n        [getFacturesAchat.fulfilled]: (state, action) => {\r\n            const res = action.payload;\r\n            if (res) {\r\n                factureAchatEntity.upsertMany(state, res);\r\n            }\r\n            state.status = 'fulfilled';\r\n        },\r\n        [getFacturesAchat.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n        },\r\n    }\r\n});\r\n\r\nexport const {\r\n    selectAll,\r\n    selectById\r\n} = factureAchatEntity.getSelectors(state => state.facturesAchat);\r\n\r\nexport const getError = state => state.facturesAchat.error;\r\nexport const getReqStatus = state => state.facturesAchat.status;","import React from \"react\";\r\nimport { Box, IconButton, Tooltip } from \"@mui/material\";\r\nimport { styled } from \"@mui/styles\";\r\nimport DownloadIcon from \"@mui/icons-material/Download\";\r\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\r\nimport { formatNumber } from \"../../../utilities/helpers\";\r\n\r\nexport default function ApprovProduitList({\r\n\tapprovProduits = [],\r\n\tnumApprov = 0,\r\n\tremoveProduit,\r\n}) {\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<Box>\r\n\t\t\t\t<StyledHeader>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DownloadIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t<span>{approvProduits.length} produits</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>N° {numApprov}</span>\r\n\t\t\t\t</StyledHeader>\r\n\t\t\t\t<StyledList>\r\n\t\t\t\t\t{approvProduits.map((pApprov, i) => (\r\n\t\t\t\t\t\t<StyledRow key={i}>\r\n\t\t\t\t\t\t\t<StyledCol className=\"action\">\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Enlever\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => removeProduit(pApprov)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</StyledCol>\r\n\t\t\t\t\t\t\t<StyledCol className=\"fill\">\r\n\t\t\t\t\t\t\t\t{pApprov.designation}\r\n\t\t\t\t\t\t\t</StyledCol>\r\n\t\t\t\t\t\t\t<StyledCol className=\"right\">\r\n\t\t\t\t\t\t\t\t{pApprov.quantite}\r\n\t\t\t\t\t\t\t</StyledCol>\r\n\t\t\t\t\t\t\t<StyledCol className=\"right\">\r\n\t\t\t\t\t\t\t\t{formatNumber(pApprov.cout_u)}\r\n\t\t\t\t\t\t\t</StyledCol>\r\n\t\t\t\t\t\t</StyledRow>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</StyledList>\r\n\t\t\t</Box>\r\n\t\t</StyledContainer>\r\n\t);\r\n}\r\n\r\nconst StyledContainer = styled(\"div\")(() => ({\r\n\tfontFamily: [\r\n\t\t\"-apple-system\",\r\n\t\t\"BlinkMacSystemFont\",\r\n\t\t'\"Segoe UI\"',\r\n\t\t\"Roboto\",\r\n\t\t'\"Helvetica Neue\"',\r\n\t\t\"Arial\",\r\n\t\t\"sans-serif\",\r\n\t\t'\"Apple Color Emoji\"',\r\n\t\t'\"Segoe UI Emoji\"',\r\n\t\t'\"Segoe UI Symbol\"',\r\n\t].join(\",\"),\r\n\tborder: \"1px solid #d9d9d9\",\r\n\tborderRadius: 5,\r\n\tmargin: \"15px 0\",\r\n\toverflow: \"hidden\",\r\n}));\r\n\r\nconst StyledHeader = styled(\"div\")(() => ({\r\n\tpadding: \"8px 16px\",\r\n\tbackgroundColor: \"#f6f8fa\",\r\n\tborderTopLeftRadius: 6,\r\n\tborderTopRightRadius: 6,\r\n\tdisplay: \"flex\",\r\n\tjustifyContent: \"space-between\",\r\n\talignItems: \"center\",\r\n\t\"&>div\": {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\t\"&>*:first-of-type\": {\r\n\t\t\tmarginRight: 10,\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst StyledList = styled(\"div\")(() => ({}));\r\n\r\nconst StyledCol = styled(\"div\")(() => ({\r\n\twidth: \"25%\",\r\n\tpadding: \"8px 10px\",\r\n\t\"&.fill\": {\r\n\t\twidth: \"35%\",\r\n\t},\r\n\t\"&.right\": {\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\t\"&.action\": {\r\n\t\twidth: \"15%\",\r\n\t\tpadding: \"0 10px\",\r\n\t},\r\n}));\r\n\r\nconst StyledRow = styled(\"div\")(({ theme }) => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"baseline\",\r\n\tborderTop: \"1px solid #d0d7de\",\r\n}));\r\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst entreeEntity = createEntityAdapter({\r\n    selectId: item => item.id,\r\n})\r\n\r\nconst initialState = entreeEntity.getInitialState({\r\n    status: 'idle',\r\n    errors: null,\r\n    count: 0,\r\n    numeros: []\r\n});\r\n\r\n// Effectue une entrée en stock pour un seul produit\r\nexport const creerEntree = createAsyncThunk(\r\n    'entree/creer',\r\n    async ({produitId, data}) => {\r\n        const res = await axios.post(`/api/entrees/${produitId}`, data);\r\n        return res.data;\r\n    }\r\n    );\r\n    \r\n    // Effectue une entrée en stock pour plusieurs produits\r\n    export const creerEntreeMultiple = createAsyncThunk(\r\n        'entree/creation multiple',\r\n        async ({data, factureId}) => {\r\n            const res = await axios.post(`/api/entrees/facture/${factureId}`, data);\r\n            return res.data;\r\n        }\r\n    );\r\n\r\nexport const getEntreeCount = createAsyncThunk(\r\n    'entree/count',\r\n    async () => {\r\n        const res = await axios.get(`/api/entrees/count`);\r\n        return res.data;\r\n    }\r\n);\r\n\r\nexport const getEntreeNumeros = createAsyncThunk(\r\n    'entree/liste des numéro',\r\n    async () => {\r\n        const res = await axios.get(`/api/entrees/numeros`);\r\n        return res.data;\r\n    }\r\n);\r\n\r\n\r\nexport const {reducer, actions} = createSlice({\r\n    name: 'entrees',\r\n    initialState,\r\n    extraReducers: {\r\n        [creerEntree.pending]: (state) => {\r\n            state.status = 'loading';\r\n        },\r\n        [creerEntree.fulfilled]: (state, action) => {\r\n            if (action.payload.state === \"success\") {\r\n                state.status = 'fulfilled';\r\n                entreeEntity.upsertOne(state, action.payload.entree);\r\n            } else {\r\n                state.status = 'fulfilled';\r\n                state.errors = action.payload;\r\n            }\r\n        },\r\n        [creerEntree.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n            state.errors = action.payload;\r\n        },\r\n        [creerEntreeMultiple.pending]: (state) => {\r\n            state.status = 'loading';\r\n        },\r\n        [creerEntreeMultiple.fulfilled]: (state, action) => {\r\n            if (action.payload.state === \"success\") {\r\n                state.status = 'fulfilled';\r\n                entreeEntity.addMany(state, action.payload.entrees);\r\n            } else {\r\n                state.status = 'fulfilled';\r\n                state.errors = action.payload;\r\n            }\r\n        },\r\n        [creerEntreeMultiple.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n            state.errors = action.payload;\r\n        },\r\n        [getEntreeCount.pending]: (state) => {\r\n            state.status = 'loading';\r\n        },\r\n        [getEntreeCount.fulfilled]: (state, action) => {\r\n            if (action.payload) {\r\n                state.status = 'fulfilled';\r\n                if (action.payload.count) {\r\n                    state.count = action.payload.count;\r\n                }\r\n            } \r\n        },\r\n        [getEntreeCount.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n            state.errors = action.payload;\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    selectAll,\r\n    selectById,\r\n} = entreeEntity.getSelectors(state => state.entrees);\r\n\r\nexport const getReqState = state => state.entrees.status;\r\nexport const getErrors = state => state.entrees.errors;\r\nexport const getCount = state => state.entrees.count;","import React, { useState, useContext } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { Circle as CircleIcon } from \"@mui/icons-material\";\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectAll as selectAllProduits } from \"../../../app/reducers/produit\";\r\nimport { ComboBox, LargeDialog, MenuPoppover } from \"../../../Components\";\r\nimport {\r\n\tCheckbox,\r\n\tTypography,\r\n\tTextField,\r\n\tButton,\r\n\tDivider,\r\n\tChip,\r\n\tFade,\r\n\tCircularProgress,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { formatNumber, getPrixUnitaire } from \"../../../utilities/helpers\";\r\nimport ApprovProduitList from \"./ApprovProduitList\";\r\nimport {\r\n\tcreerEntreeMultiple,\r\n\tgetReqState as getSavingState,\r\n} from \"../../../app/reducers/entree\";\r\nimport { getTaux, getDevise } from \"../../../app/reducers/config\";\r\nimport { actions } from \"../../../app/reducers/factureAchat\";\r\nimport { FeedbackContext } from \"../../../App\";\r\n\r\nexport default function SelectedFacture({\r\n\tfacture,\r\n\thandleAppendProduits,\r\n\thandleRemoveProduct,\r\n\thandleClearSelection,\r\n\tproduistApprovisionnes,\r\n\tclearSelectedFacture\r\n}) {\r\n\tconst devise = useSelector(getDevise);\r\n\tconst taux = useSelector(getTaux);\r\n\tconst produits = useSelector(selectAllProduits);\r\n\tconst [anchorEl, setAnchorEl] = useState(null);\r\n\tconst [produitAchete, setProduitAchete] = useState(null);\r\n\tconst [produitApprov, setProduitApprov] = useState(null);\r\n\tconst open = Boolean(anchorEl);\r\n\tconst containerRef = React.useRef();\r\n\tconst dispatch = useDispatch();\r\n\tconst saving = useSelector(getSavingState) === \"loading\";\r\n\tconst { createFeedback } = useContext(FeedbackContext);\r\n\tconst [submitError, setSubmitError] = useState(null);\r\n\r\n\tconst handleSelectProduitApprovisionne = (value) => {\r\n\t\tif (!produitAchete) {\r\n\t\t\tsetProduitApprov(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\t// Calcul du coût unitaire et du prix unitaire de vente\r\n\t\t\tconst cu = getPrixUnitaire(\r\n\t\t\t\tproduitAchete.prix_ht,\r\n\t\t\t\tproduitAchete.quantite,\r\n\t\t\t\t\"number\"\r\n\t\t\t);\r\n\t\t\tconst pV_u = cu * (1 + value.marge / 100);\r\n\t\t\t// Ajout du prix de vente unitaire et de la quantité et du coût unitaire au produit à aprovisionner\r\n\t\t\tconst pA = {\r\n\t\t\t\t...value,\r\n\t\t\t\tpv_unitaire: pV_u,\r\n\t\t\t\tquantite: produitAchete.quantite,\r\n\t\t\t\tcout_u: cu,\r\n\t\t\t\tid_achete: produitAchete.id,\r\n\t\t\t};\r\n\t\t\tsetProduitApprov(pA);\r\n\t\t} else {\r\n\t\t\tsetProduitApprov(value);\r\n\t\t}\r\n\t};\r\n\r\n\t// Valider les produits approvisionnés\r\n\t// Tous les produits de la facture doivent etre sélectionnés avant l'enregistrement\r\n\t// 1. Verification si les deux tableau des produits ne sont pas vide ou null\r\n\t// 2. Verification si tous les produits sont sélectionnés\r\n\tconst canSubmit = () => {\r\n\t\tconst pAchetes = facture.produitAchetes;\r\n\t\tif (\r\n\t\t\t!produistApprovisionnes ||\r\n\t\t\tproduistApprovisionnes.length < 0 ||\r\n\t\t\t!pAchetes ||\r\n\t\t\tpAchetes.length === 0\r\n\t\t) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet submit = true;\r\n\t\tpAchetes.forEach((p) => {\r\n\t\t\tif (\r\n\t\t\t\t!produistApprovisionnes.some((pApp) => pApp.id_achete === p.id)\r\n\t\t\t) {\r\n\t\t\t\tsubmit = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn submit;\r\n\t};\r\n\r\n\t// Fonction appelée lors de la confirmation de l'enregistrement du produit\r\n\t// 1. Verification de la validité des données\r\n\t// 2. Envoie de la requête, initialisation, et notification de l'enregistrement\r\n\tconst handleSubmitSelection = () => {\r\n\t\tconst valid = canSubmit();\r\n\t\tif (valid) {\r\n\t\t\tdispatch(\r\n\t\t\t\tcreerEntreeMultiple({ data: {\r\n\t\t\t\t\tdevise: devise,\r\n\t\t\t\t\tprovenance: \"facture\",\r\n\t\t\t\t\ttaux: taux,\r\n\t\t\t\t\tproduits: produistApprovisionnes,\r\n\t\t\t\t}, factureId: facture.id})\r\n\t\t\t).then(({ payload }) => {\r\n\t\t\t\tif (payload && payload.state === \"success\") {\r\n\t\t\t\t\tdispatch(actions.updateteOne({id: facture.id, attribute: 'approvisionnee', value: true}));\r\n\t\t\t\t\thandleClearSelection();\r\n\t\t\t\t\tclearSelectedFacture();\r\n\t\t\t\t\t// Notification \r\n\t\t\t\t\tcreateFeedback(\r\n\t\t\t\t\t\t\"Enregistrement fait avec succès !\",\r\n\t\t\t\t\t\t\"enregistrement-entrees-facture-multiple\",\r\n\t\t\t\t\t\t\"success\"\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetSubmitError(\r\n\t\t\t\t\"Verifiez que tous les produits de la facture sont bien sélectionnés.\"\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancelSelection = () => {\r\n\t\thandleClearSelection();\r\n\t};\r\n\r\n\tconst handleConfirm = () => {\r\n\t\thandleAppendProduits(produitApprov);\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tconst handleOpenDialog = (event, produit) => {\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t\tsetProduitAchete(produit);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t\tsetProduitAchete(null);\r\n\t\tsetProduitApprov(null);\r\n\t};\r\n\treturn (\r\n\t\t<div style={{ width: \"100%\", display: \"flex\" }} ref={containerRef}>\r\n\t\t\t{submitError && (\r\n\t\t\t\t<LargeDialog\r\n\t\t\t\t\ttitle=\"Erreur\"\r\n\t\t\t\t\topen={submitError ? true : false}\r\n\t\t\t\t\tmessage={submitError}\r\n\t\t\t\t\tonClose={() => setSubmitError(null)}\r\n\t\t\t\t\tagreeBtnText=\"Ok\"\r\n\t\t\t\t\tonAgree={() => setSubmitError(null)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Fade in>\r\n\t\t\t\t<StyledFacture>\r\n\t\t\t\t\t<Typography variant=\"h2\">\r\n\t\t\t\t\t\tFacture #{facture.reference_facture}\r\n\t\t\t\t\t\t<span style={{ float: \"right\" }}>\r\n\t\t\t\t\t\t\t{new Date(facture.createdAt).toLocaleDateString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<StyledFactureHeader>\r\n\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t<span>Fournisseur : </span>\r\n\t\t\t\t\t\t\t<span>{facture.raison_sociale_fournisseur}</span>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t<span>Bon decommande : </span>\r\n\t\t\t\t\t\t\t<span>{facture.bon_commande || \"Non définit\"}</span>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t<span>Nombre produits : </span>\r\n\t\t\t\t\t\t\t<span>{facture.produitAchetes.length}</span>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t<span>Autres Frais : </span>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{facture.total_charge || 0} {facture.devise}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</StyledFactureHeader>\r\n\t\t\t\t\t<Box height={\"calc(100vh - 265px)\"} minHeight={400}>\r\n\t\t\t\t\t\t<StyledRow className=\"header\" in>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<IconButton color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t<CircleIcon\r\n\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\thtmlColor=\"#fff\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"fill\">\r\n\t\t\t\t\t\t\t\t\tProduit\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"right\">\r\n\t\t\t\t\t\t\t\t\tQuantité\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"right\">\r\n\t\t\t\t\t\t\t\t\tCoût U.\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</StyledRow>\r\n\t\t\t\t\t\t<StyledFactureBody>\r\n\t\t\t\t\t\t\t{facture.produitAchetes.map((pAchete, i) => {\r\n\t\t\t\t\t\t\t\tconst isSelected = produistApprovisionnes.some(\r\n\t\t\t\t\t\t\t\t\t(pApp) => pApp.id_achete === pAchete.id\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Row\r\n\t\t\t\t\t\t\t\t\t\tkey={`${pAchete.designation}_${i}`}\r\n\t\t\t\t\t\t\t\t\t\tproduit={pAchete}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleOpenDialog}\r\n\t\t\t\t\t\t\t\t\t\tdevise={facture.devise}\r\n\t\t\t\t\t\t\t\t\t\tselected={isSelected}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</StyledFactureBody>\r\n\t\t\t\t\t\t{open && (\r\n\t\t\t\t\t\t\t<MenuPoppover\r\n\t\t\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\t\t\thandleClose={handleClose}\r\n\t\t\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\t\t\tvertical: \"center\",\r\n\t\t\t\t\t\t\t\t\thorizontal: \"center\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\t\t\tvertical: \"center\",\r\n\t\t\t\t\t\t\t\t\thorizontal: \"center\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<StyledMenu>\r\n\t\t\t\t\t\t\t\t\t<Box pb={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ mb: 1, display: \"block\" }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tProduit Acheté\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={produitAchete.designation}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t<Box pt={2} pb={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ mb: 1, display: \"block\" }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tProduit Approvisionné\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<ComboBox\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={produitApprov}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Produit *\"\r\n\t\t\t\t\t\t\t\t\t\t\tfilterSelectedOptions={true}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Produit\"\r\n\t\t\t\t\t\t\t\t\t\t\tsetValue={\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectProduitApprovisionne\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={produits.map((prod) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: prod.designation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prod,\r\n\t\t\t\t\t\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ mb: 1 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMarge:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\tsx={{ minWidth: 40 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduitApprov\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? produitApprov.marge +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \"%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Prix de vente unitaire *\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"pv\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"pv\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduitApprov\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? formatNumber(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduitApprov.pv_unitaire\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ) + facture.devise\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Coût unitaire du produit\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\thelperText=\"Ce prix sera utilisé lors de la vente.\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={produitApprov ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleConfirm}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tConfirmer\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tAnnuler\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</StyledMenu>\r\n\t\t\t\t\t\t\t</MenuPoppover>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<StyledMessage>\r\n\t\t\t\t\t\t<InfoIcon\r\n\t\t\t\t\t\t\tcolor=\"info\"\r\n\t\t\t\t\t\t\tfontSize=\"medium\"\r\n\t\t\t\t\t\t\tsx={{ mr: 2 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Typography sx={{ fontSize: 14 }} variant=\"caption\">\r\n\t\t\t\t\t\t\tPour sélectionner un produit cliquez sa ligne dans\r\n\t\t\t\t\t\t\tle tableaux des produits achetés et puis choisissez\r\n\t\t\t\t\t\t\tle produit à approvisionner dans la boite de\r\n\t\t\t\t\t\t\tdialogue.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</StyledMessage>\r\n\t\t\t\t</StyledFacture>\r\n\t\t\t</Fade>\r\n\t\t\t<StyledProduitApprov>\r\n\t\t\t\t<Typography variant=\"h2\">Produits Approvisionnés</Typography>\r\n\t\t\t\t{produistApprovisionnes.length === 0 ? (\r\n\t\t\t\t\t<></>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"flex-end\",\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tonClick={handleCancelSelection}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAnnuler\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\tonClick={handleSubmitSelection}\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tml: 2,\r\n\t\t\t\t\t\t\t\t\tminWidth: 84,\r\n\t\t\t\t\t\t\t\t\theight: 30.75,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{saving ? (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={12}\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\"Enregistrer\"\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<ApprovProduitList\r\n\t\t\t\t\t\t\tremoveProduit={handleRemoveProduct}\r\n\t\t\t\t\t\t\tapprovProduits={produistApprovisionnes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</StyledProduitApprov>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst StyledMessage = styled(\"div\")(({ theme }) => ({\r\n\tposition: \"absolute\",\r\n\tbottom: 0,\r\n\tleft: 0,\r\n\tright: 0,\r\n\tbackgroundColor: \"#fff\",\r\n\tpadding: \"10px 20px\",\r\n\tborderTop: \"1px solid #eaeaea\",\r\n\tdisplay: \"flex\",\r\n\talignItems: \"baseline\",\r\n}));\r\n\r\nconst StyledFacture = styled(\"div\")(() => ({\r\n\tposition: \"relative\",\r\n\tflex: 2,\r\n\twidth: \"100%\",\r\n\tminWidth: 400,\r\n\tmaxWidth: 530,\r\n\tpadding: \"30px 20px\",\r\n}));\r\nconst StyledFactureHeader = styled(\"div\")(({ theme }) => ({\r\n\tmarginBottom: 20,\r\n\t\"& > p\": {\r\n\t\tfontSize: 15,\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > span\": {\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t},\r\n}));\r\nconst StyledFactureBody = styled(\"div\")(() => ({\r\n\tborder: \"1px solid rgb(208, 215, 222)\",\r\n\tmaxHeight: \"calc(100% - 35px)\",\r\n\toverflowY: \"auto\",\r\n}));\r\nconst StyledRow = styled(Fade)(({ theme }) => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\t\"&.header\": {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: theme.palette.common.white,\r\n\t},\r\n\t\"&.body\": {\r\n\t\tcursor: \"pointer\",\r\n\t\ttransition: \"background .2s\",\r\n\t\t\"&:hover\": {\r\n\t\t\tbackgroundColor: \"#dbdbdb\",\r\n\t\t},\r\n\t},\r\n\t\"& > *\": {\r\n\t\tpadding: \"5px 10px\",\r\n\t},\r\n\t\"& > *:first-of-type\": {\r\n\t\twidth: \"10%\",\r\n\t},\r\n\t\"& > .fill\": {\r\n\t\twidth: \"30%\",\r\n\t\tflex: 1,\r\n\t},\r\n\t\"& .right\": {\r\n\t\twidth: \"25%\",\r\n\t\ttextAlign: \"right\",\r\n\t},\r\n\t\"&.body:nth-of-type(2n)\": {\r\n\t\tbackgroundColor: \"#eaeaea\",\r\n\t},\r\n}));\r\n\r\nconst StyledProduitApprov = styled(\"div\")(() => ({\r\n\tflex: 1,\r\n\tborderLeft: \"2px solid #eaeaea\",\r\n\tpadding: \"30px 15px\",\r\n}));\r\n\r\nconst StyledMenu = styled(\"div\")(() => ({\r\n\tbackgroundColor: \"#fff\",\r\n\tpadding: 10,\r\n}));\r\n\r\nconst Row = ({ produit, devise, onClick, selected }) => {\r\n\treturn (\r\n\t\t<StyledRow\r\n\t\t\tin\r\n\t\t\tclassName=\"body\"\r\n\t\t\tonClick={(e) => (selected ? {} : onClick(e, produit))}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tchecked={selected}\r\n\t\t\t\t\tonChange={(e) => {}}\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\"aria-label\": \"select one\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Typography variant=\"caption\" className=\"fill\">\r\n\t\t\t\t\t{produit.designation}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant=\"caption\" className=\"right\">\r\n\t\t\t\t\t{produit.quantite.toLocaleString(\"de-DE\")}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant=\"caption\" className=\"right\">\r\n\t\t\t\t\t{getPrixUnitaire(produit.prix_ht, produit.quantite)}{\" \"}\r\n\t\t\t\t\t{devise}\r\n\t\t\t\t</Typography>\r\n\t\t\t</div>\r\n\t\t</StyledRow>\r\n\t);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { Close as CloseIcon } from \"@mui/icons-material\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tgetFacturesAchat,\r\n\tgetReqStatus,\r\n\tselectAll,\r\n} from \"../../../app/reducers/factureAchat\";\r\nimport { Button, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport noSelectedImage from \"../../../assets/nodata.svg\";\r\nimport noData from \"../../../assets/void.svg\";\r\nimport SelectedFacture from \"./SelectedApprovFacture\";\r\nimport { Chargement } from \"../../../Components\";\r\n\r\nexport default function ListeFacturesAchat({ open, onClose }) {\r\n\tconst loading = useSelector(getReqStatus) === \"loading\";\r\n\tconst factures = useSelector(selectAll).filter((fA) => !fA.approvisionnee);\r\n\tconst [active, setActive] = useState(null);\r\n\tconst [produistApprovisionnes, setProduitsApprovisionnes] = useState([]);\r\n\r\n\tconst handleSelectFacture = (facture) => {\r\n\t\tsetActive(facture);\r\n\t};\r\n\r\n\tconst clearSelectedFacture = () => {\r\n\t\tsetActive(null);\r\n\t};\r\n\r\n\tconst handleSetProduitsApprovisionnes = (produit) => {\r\n\t\tsetProduitsApprovisionnes([...produistApprovisionnes, produit]);\r\n\t};\r\n\r\n\tconst handleRemoveProduct = (produit) => {\r\n\t\tconst prods = produistApprovisionnes.filter(\r\n\t\t\t(prod) => prod.id_achete !== produit.id_achete\r\n\t\t);\r\n\t\tsetProduitsApprovisionnes(prods);\r\n\t};\r\n\r\n\tconst handleClearSelection = () => {\r\n\t\tsetProduitsApprovisionnes([]);\r\n\t};\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getFacturesAchat());\r\n\t}, [dispatch]);\r\n\treturn (\r\n\t\t<Modal open={open} onClose={onClose}>\r\n\t\t\t<StyledContainer>\r\n\t\t\t\t{factures.length === 0 ? (\r\n\t\t\t\t\t<StyledNoContent>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\talignSelf={\"center\"}\r\n\t\t\t\t\t\t\tjustifySelf={\"center\"}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant=\"h1\" sx={{ mb: 7, fontSize: 22 }}>\r\n\t\t\t\t\t\t\t\tFactures d'achat non approvisionnée\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<img style={{height: 100, width: 'auto'}} src={noData} alt=\"Aucune facture\" />\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ mt: 2 }}>\r\n\t\t\t\t\t\t\t\tAucune facture d'achat non approvisionnée\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\tsx={{ mt: 4 }}\r\n\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tFermer\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</StyledNoContent>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<StyledContentContainer>\r\n\t\t\t\t\t\t<StyledAside>\r\n\t\t\t\t\t\t\t<StyledHorizontal\r\n\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t\t\t\t\tpl={2.5}\r\n\t\t\t\t\t\t\t\tpr={1}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h2\">\r\n\t\t\t\t\t\t\t\t\tFactures d'achat non approvisionnée\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<IconButton onClick={onClose}>\r\n\t\t\t\t\t\t\t\t\t<CloseIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</StyledHorizontal>\r\n\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t<Chargement\r\n\t\t\t\t\t\t\t\t\tmessage=\"Chargement...\"\r\n\t\t\t\t\t\t\t\t\tsx={{ height: \"70%\" }}\r\n\t\t\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<StyledList>\r\n\t\t\t\t\t\t\t\t\t{factures.map((facture, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<FactureCard\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={handleSelectFacture}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${facture.reference_facture}_${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\tfacture={facture}\r\n\t\t\t\t\t\t\t\t\t\t\tactiveId={active && active.id}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</StyledList>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</StyledAside>\r\n\t\t\t\t\t\t<StyledDisplaySelected\r\n\t\t\t\t\t\t\tclassName={active ? \"active\" : \"\"}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{!active ? (\r\n\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={130}\r\n\t\t\t\t\t\t\t\t\talignSelf={\"center\"}\r\n\t\t\t\t\t\t\t\t\tjustifySelf={\"center\"}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={noSelectedImage}\r\n\t\t\t\t\t\t\t\t\t\talt=\"Aucune Selection\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\t\tsx={{ mt: 2 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSélectionnez une facture !\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<SelectedFacture\r\n\t\t\t\t\t\t\t\t\tfacture={active}\r\n\t\t\t\t\t\t\t\t\tproduistApprovisionnes={\r\n\t\t\t\t\t\t\t\t\t\tproduistApprovisionnes\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\thandleClearSelection={handleClearSelection}\r\n\t\t\t\t\t\t\t\t\thandleRemoveProduct={handleRemoveProduct}\r\n\t\t\t\t\t\t\t\t\tclearSelectedFacture={clearSelectedFacture}\r\n\t\t\t\t\t\t\t\t\thandleAppendProduits={\r\n\t\t\t\t\t\t\t\t\t\thandleSetProduitsApprovisionnes\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</StyledDisplaySelected>\r\n\t\t\t\t\t</StyledContentContainer>\r\n\t\t\t\t)}\r\n\t\t\t</StyledContainer>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nconst FactureCard = ({ facture, activeId, onSelect }) => {\r\n\treturn (\r\n\t\t<StyledFactureCard\r\n\t\t\tclassName={activeId === facture.id ? \"active\" : \"\"}\r\n\t\t\tonClick={() => onSelect(facture)}\r\n\t\t>\r\n\t\t\t<span className=\"activeBar\" />\r\n\t\t\t<Typography\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tfontWeight: \"600\",\r\n\t\t\t\t\tfontSize: 15,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<span>Facture : </span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{facture.reference_facture} {facture.sigle_fournisseur}\r\n\t\t\t\t</span>\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant=\"body2\"\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<span>Qunatité : {facture.quantite_total}</span>\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant=\"caption\"\r\n\t\t\t\tcolor=\"GrayText\"\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tfontSize: 12,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{facture.produitAchetes.map((pA) => (\r\n\t\t\t\t\t<span key={pA.designation}>\r\n\t\t\t\t\t\t{pA.quantite} {pA.designation},{\" \"}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t))}\r\n\t\t\t</Typography>\r\n\t\t</StyledFactureCard>\r\n\t);\r\n};\r\n\r\nconst StyledContainer = styled(\"div\")(() => ({\r\n\t// height: '100vh',\r\n\twidth: \"100%\",\r\n\tbackgroundColor: \"#faf8ff\",\r\n\toverflowY: \"auto\",\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"column\",\r\n\theight: \"100%\",\r\n\tflex: \"1 0 auto\",\r\n\tzIndex: 1200,\r\n\tposition: \"fixed\",\r\n\ttop: 0,\r\n\toutline: \"currentcolor none 0px\",\r\n\tleft: 0,\r\n\tcolor: \"#444\",\r\n}));\r\nconst StyledHorizontal = styled(Box)(() => ({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n}));\r\nconst StyledContentContainer = styled(\"div\")(() => ({\r\n\tdisplay: \"flex\",\r\n}));\r\nconst StyledAside = styled(Box)(() => ({\r\n\t// borderBottom: \"1px solid #eaeaea\",\r\n\twidth: \"300px\",\r\n\tpadding: \"15px 0 15px 20px\",\r\n\tbackgroundColor: \"#f0f0f0\",\r\n\theight: \"100vh\",\r\n\toverflowY: \"auto\",\r\n}));\r\nconst StyledList = styled(\"div\")(() => ({\r\n\tmarginTop: 10,\r\n}));\r\n\r\nconst StyledDisplaySelected = styled(\"div\")(() => ({\r\n\tmaxWidth: 1200,\r\n\tflex: 1,\r\n\tdisplay: \"flex\",\r\n\t\"&.active\": {\r\n\t\tboxShadow: \"-2px 0px 5px #2020200f\",\r\n\t},\r\n}));\r\nconst StyledNoContent = styled(\"div\")(() => ({\r\n\twidth: \"100%\",\r\n\theight: \"100%\",\r\n\tdisplay: \"flex\",\r\n\talignItems: \"center\",\r\n\tjustifyContent: \"center\",\r\n}));\r\nconst StyledFactureCard = styled(\"div\")(({ theme }) => ({\r\n\tpadding: \"5px 10px 5px 25px\",\r\n\tmarginBottom: 10,\r\n\tborderRadius: 5,\r\n\tbackgroundColor: \"#bbbbbb45\",\r\n\tmarginRight: 20,\r\n\tcursor: \"pointer\",\r\n\ttransition: \"background .1s\",\r\n\tposition: \"relative\",\r\n\toverflow: \"hidden\",\r\n\t\"& > p\": {\r\n\t\toverflow: \"hidden\",\r\n\t\ttextOverflow: \"ellipsis\",\r\n\t\twhiteSpace: \"nowrap\",\r\n\t\tdisplay: \"block\",\r\n\t},\r\n\t\"& > span\": {\r\n\t\toverflow: \"hidden\",\r\n\t\ttextOverflow: \"ellipsis\",\r\n\t\twhiteSpace: \"nowrap\",\r\n\t\tdisplay: \"block\",\r\n\t},\r\n\t\"&:hover\": {\r\n\t\tbackgroundColor: \"#faf8ff\",\r\n\t},\r\n\t\"&.active\": {\r\n\t\tbackgroundColor: \"#faf8ff\",\r\n\t\tmarginRight: 0,\r\n\t\tborderTopRightRadius: 0,\r\n\t\tborderBottomRightRadius: 0,\r\n\t\tboxShadow:\r\n\t\t\t\"-1px 0px 0px rgba(0, 0, 0, 0.12),-1px 0px 0px rgba(0,0,0,0.14),-5px 0px 5px rgba(0,0,0,0.12)\",\r\n\t},\r\n\t\"&.active > .activeBar\": {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 0,\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\twidth: 5,\r\n\t},\r\n}));\r\n","/**\r\n * Valide les données pour la création d'un nouveau produit\r\n * @param {string} designation Désignation du produit\r\n * @param {string} unite Nature du produit\r\n * @param {number} marge Marge bénéficiaire\r\n * @param {number} stockSecurite Stock de sécurité\r\n * @returns Object of {boolean valid value and an objet of errrors}\r\n */\r\nexport const validerNouveauProduit = (\r\n\tdesignation,\r\n\tunite,\r\n\tmarge,\r\n\tqMin,\r\n\tcode,\r\n\tnumCompte\r\n) => {\r\n\tlet valid = true;\r\n\tconst errors = {};\r\n\r\n\tif (!numCompte || numCompte === \"\" || numCompte[0] !== \"3\") {\r\n\t\tvalid = false;\r\n\t\terrors[\"numCompte\"] =\r\n\t\t\t\"Le numéro de compte stock commence par 3\";\r\n\t}\r\n\r\n\tif (designation === \"\" || !designation) {\r\n\t\terrors[\"designation\"] = \"La désignation du produit est réquise.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (unite === \"\" || !unite) {\r\n\t\terrors[\"unite\"] = \"La nature du produit est réquise.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (marge === null || marge === undefined || marge <= 0) {\r\n\t\terrors[\"marge\"] = \"La marge bénéficiaire du produit est réquise.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (!qMin || qMin < 0) {\r\n\t\terrors[\"qMin\"] = \"Le stock de sécurité du produit est réquis.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (!code || code === \"\") {\r\n\t\terrors[\"code\"] = \"Le code du produit est réquis.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\treturn {\r\n\t\tvalid,\r\n\t\terrors,\r\n\t};\r\n};\r\n\r\n\r\n/**\r\n * Valide les données de la création du stock initial\r\n * @returns Object of {boolean valid value and an objet of errrors}\r\n */\r\nexport const validerEntree = ({\r\n\tdateExp,\r\n\tquantite,\r\n\tcout_unitaire,\r\n\ttaux,\r\n\tpv_unitaire,\r\n\tdevise,\r\n\tprovenance,\r\n\tlicence_url,\r\n\tfactureId,\r\n\tproduit,\r\n}) => {\r\n\tlet valid = true;\r\n\tconst errors = {};\r\n\tconst defaultValueErrors = [];\r\n\r\n\tif (!produit) {\r\n\t\terrors[\"produit\"] = \"Séléctionnez un produit.\";\r\n\t\tvalid = false;\r\n\t} else if (!produit.id) {\r\n\t\terrors[\"produit\"] = \"Séléctionnez un produit.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (quantite < 0 || !quantite) {\r\n\t\terrors[\"quantite\"] = \"La quantité du produit est réquise.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (cout_unitaire < 0 || !cout_unitaire) {\r\n\t\terrors[\"cu\"] = \"Le coût unitaire du produit est réquis.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (pv_unitaire < 0 || !pv_unitaire) {\r\n\t\terrors[\"pv\"] = \"Le prix de vente unitaire du produit est réquis.\";\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (taux < 0 || !taux) {\r\n\t\tdefaultValueErrors.push(\"Le taux est réquis.\");\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (provenance < 0 || !provenance) {\r\n\t\tdefaultValueErrors.push(\r\n\t\t\t\"Veillez spécifier la source de l'entrée en stock\"\r\n\t\t);\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (provenance === \"licence\" && (!licence_url || licence_url === \"\")) {\r\n\t\tdefaultValueErrors.push(\"Ajouter l'image de la licence d'importation\");\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (provenance === \"facture\" && (!factureId || factureId === \"\")) {\r\n\t\tdefaultValueErrors.push(\r\n\t\t\t\"Veillez séléctionner la facture d'achat pour ce produit.\"\r\n\t\t);\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (devise === \"\" || !devise) {\r\n\t\tdefaultValueErrors.push(\"Veillez séléctionner la devise utilisée.\");\r\n\t\tvalid = false;\r\n\t}\r\n\r\n\tif (dateExp !== \"\" && dateExp) {\r\n\t\tif (\r\n\t\t\t!/^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]|(?:Jan|Mar|May|Jul|Aug|Oct|Dec)))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[1,3-9]|1[0-2]|(?:Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)(?:0?2|(?:Feb))\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9]|(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep))|(?:1[0-2]|(?:Oct|Nov|Dec)))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/.test(\r\n\t\t\t\tdateExp\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\terrors[\"dateExp\"] = \"Mauvaise date\";\r\n\t\t\tvalid = false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tvalid,\r\n\t\terrors,\r\n\t\tdefaultValueErrors,\r\n\t};\r\n};\r\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n\tTypography,\r\n\tFormControl,\r\n\tRadioGroup,\r\n\tTextField,\r\n\tButton,\r\n\tuseTheme,\r\n\tAlert,\r\n\tCircularProgress,\r\n} from \"@mui/material\";\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport HistoriqueIcon from \"@mui/icons-material/History\";\r\nimport { ComboBox, DateMaskInput, InputRadio, TauxDevise } from \"../../../Components\";\r\nimport MultipleFormApprov from \"./MultipleFormApprov\";\r\nimport ListeFacturesAchat from \"./ListeFacturesAchat\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tgetProduits,\r\n\tselectAll as selectAllProduits,\r\n} from \"../../../app/reducers/produit\";\r\nimport { creerEntree } from \"../../../app/reducers/entree\";\r\nimport { validerEntree } from \"../utilities/validators/produit\";\r\nimport { Box } from \"@mui/system\";\r\nimport {FeedbackContext} from '../../../App';\r\nimport {getTaux, getDevise} from '../../../app/reducers/config';\r\n\r\nexport default function FormApprovisionnement() {\r\n\tconst taux = useSelector(getTaux);\r\n\tconst devise = useSelector(getDevise);\r\n\tconst {createFeedback} = useContext(FeedbackContext);\r\n\tconst produits = useSelector(selectAllProduits);\r\n\tconst [provenance, setProvenance] = useState(\"interne\");\r\n\tconst [produit, setProduit] = useState(null);\r\n\tconst [quantite, setQuantite] = useState(\"\");\r\n\tconst [cu, setCu] = useState(\"\");\r\n\tconst [marge, setMarge] = useState(0);\r\n\tconst [dateExp, setDateExp] = useState();\r\n\tconst [licence, setLicence] = useState(\"\");\r\n\tconst [openFactureList, setOpenFactureList] = useState(false);\r\n\tconst [multiple, setMultiple] = useState(false);\r\n\tconst [errors, setErrors] = useState({});\r\n\tconst [defaultValueErrors, setDefaultValueErrors] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [pv, setPv] = useState(\"\");\r\n\tconst numEntree = \"\";\r\n\tconst theme = useTheme();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst dateExpChange = (event) => {\r\n\t\tsetDateExp(event.target.value);\r\n\t};\r\n\r\n\tconst initAll = useCallback(() => {\r\n\t\tsetProduit(null);\r\n\t\tsetQuantite(\"\");\r\n\t\tsetCu(\"\");\r\n\t\tsetMarge(\"\");\r\n\t\tsetPv(\"\");\r\n\t\tsetErrors({});\r\n\t\tsetDefaultValueErrors([]);\r\n\t}, []);\r\n\r\n\tconst handleChangeCU = (e) => {\r\n\t\tlet val = e.target.value;\r\n\t\tsetCu(val);\r\n\t\tval = +val;\r\n\t\tif (val) {\r\n\t\t\tsetPv(Math.floor(val * (1 + produit.marge / 100)));\r\n\t\t} else {\r\n\t\t\tsetPv(\"\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleFactureList = () => {\r\n\t\tsetOpenFactureList(!openFactureList);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (loading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst data = {\r\n\t\t\tdate_exp: dateExp,\r\n\t\t\tnum_entree: numEntree,\r\n\t\t\tquantite: +quantite,\r\n\t\t\tcout_unitaire: +cu,\r\n\t\t\tpv_unitaire: pv,\r\n\t\t\ttaux: +taux,\r\n\t\t\tdevise,\r\n\t\t\tprovenance,\r\n\t\t\tlicence_url: licence,\r\n\t\t};\r\n\r\n\t\tconst { errors, defaultValueErrors, valid } = validerEntree({\r\n\t\t\t...data,\r\n\t\t\tproduit,\r\n\t\t});\r\n\r\n\t\tif (!valid) {\r\n\t\t\tsetErrors(errors);\r\n\t\t\tsetDefaultValueErrors(defaultValueErrors);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\tdispatch(\r\n\t\t\tcreerEntree({\r\n\t\t\t\tproduitId: produit.id,\r\n\t\t\t\tdata,\r\n\t\t\t})\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.payload) {\r\n\t\t\t\t\tif (res.payload.state === \"success\") {\r\n\t\t\t\t\t\tinitAll();\r\n\t\t\t\t\t\tcreateFeedback(\r\n\t\t\t\t\t\t\t\"Enregistrement fait avec succès !\",\r\n\t\t\t\t\t\t\t\"enregistrement-entrees\",\r\n\t\t\t\t\t\t\t\"success\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.finally(() => setLoading(false));\r\n\t};\r\n\r\n\tconst toggleMultiple = useCallback(() => {\r\n\t\tsetMultiple(!multiple);\r\n\t}, [multiple]);\r\n\r\n\tconst handleChangeProduit = useCallback((newValue) => {\r\n\t\tsetProduit(newValue);\r\n\t\tif (newValue) {\r\n\t\t\tsetMarge(newValue.marge);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (produits.length === 0) {\r\n\t\t\tdispatch(getProduits());\r\n\t\t}\r\n\t}, [dispatch, produits]);\r\n\treturn (\r\n\t\t<form className=\"form-approv\" onSubmit={handleSubmit}>\r\n\t\t\t<header>\r\n\t\t\t\t<Typography className=\"module-title\">\r\n\t\t\t\t\tApprovisionnement{\" \"}\r\n\t\t\t\t\t<span className=\"small\">\r\n\t\t\t\t\t\t>> Entrée des produits en stock\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Link to=\"/stock/historique_approvisionnement\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\tstartIcon={<HistoriqueIcon />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVoir l'historique des entrées\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>\r\n\t\t\t</header>\r\n\t\t\t{multiple && (\r\n\t\t\t\t<MultipleFormApprov open={multiple} onClose={toggleMultiple} />\r\n\t\t\t)}\r\n\t\t\t{openFactureList && (\r\n\t\t\t\t<ListeFacturesAchat\r\n\t\t\t\t\topen={openFactureList}\r\n\t\t\t\t\tonClose={toggleFactureList}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"form-body horizontal-align\">\r\n\t\t\t\t<div className=\"form-block\">\r\n\t\t\t\t\t{defaultValueErrors.length > 0 && (\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tseverity=\"error\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tsx={{ fontSize: 13 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{defaultValueErrors.map((error, i) => (\r\n\t\t\t\t\t\t\t\t<span key={i}>\r\n\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\t\tProvenance\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"caption\" className=\"small helper-text\">\r\n\t\t\t\t\t\tSpécifiez la provenance des produits/articles\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\tcomponent=\"fieldset\"\r\n\t\t\t\t\t\tstyle={{ display: \"block\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\taria-label=\"provenance\"\r\n\t\t\t\t\t\t\tname=\"provenance des produits ou marchandises\"\r\n\t\t\t\t\t\t\tvalue={provenance}\r\n\t\t\t\t\t\t\tonChange={(event) =>\r\n\t\t\t\t\t\t\t\tsetProvenance(event.target.value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{ margin: theme.spacing(0, 0, 1.5, 0) }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InputRadio\r\n\t\t\t\t\t\t\t\t\tvalue=\"licence\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"A partir d'une licence d'importation\"\r\n\t\t\t\t\t\t\t\t\tsx={{ fontSize: 15 }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"licence\"\r\n\t\t\t\t\t\t\t\t\tclassName={`file-input decale-20 ${\r\n\t\t\t\t\t\t\t\t\t\tprovenance !== \"licence\" && \"disabled\"\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={provenance !== \"licence\"}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tid=\"licence\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"licence\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={provenance !== \"licence\"}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tvisibility: \"hidden\",\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\tShoisir un fichier\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{ margin: theme.spacing(0, 0, 1.5, 0) }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InputRadio\r\n\t\t\t\t\t\t\t\t\tvalue=\"facture\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"A partir d'une facture d'achat\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"decale-20\"\r\n\t\t\t\t\t\t\t\t\tdisabled={provenance !== \"facture\"}\r\n\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t\t\t\t\t\t\tmt: 1,\r\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={toggleFactureList}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSélectionnez la facture\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<InputRadio\r\n\t\t\t\t\t\t\t\tvalue=\"interne\"\r\n\t\t\t\t\t\t\t\tlabel=\"Productions internes\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t<TauxDevise />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-block\">\r\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"baseline\" mb={2}>\r\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\" sx={{mb: '0!important'}}>\r\n\t\t\t\t\t\t\tProduits/Articles <span className=\"small helper-text\">>> Production interne</span>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Link to=\"/stock/nouveau_produit\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tstartIcon={<AddIcon />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tNouveau produit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\t\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"horizontal-align\"\r\n\t\t\t\t\t\t\tstyle={{ marginBottom: 15 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ComboBox\r\n\t\t\t\t\t\t\t\tvalue={produit}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Produit\"\r\n\t\t\t\t\t\t\t\tfilterSelectedOptions={true}\r\n\t\t\t\t\t\t\t\tlabel=\"Produit\"\r\n\t\t\t\t\t\t\t\tsetValue={handleChangeProduit}\r\n\t\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\r\n\t\t\t\t\t\t\t\toptions={produits.map((prod) => ({\r\n\t\t\t\t\t\t\t\t\tid: prod.id,\r\n\t\t\t\t\t\t\t\t\tlabel: prod.designation,\r\n\t\t\t\t\t\t\t\t\tmarge: prod.marge,\r\n\t\t\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\t\t\terror={errors.produit ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.produit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel=\"Marge *\"\r\n\t\t\t\t\t\t\t\tid=\"marge\"\r\n\t\t\t\t\t\t\t\tname=\"marge\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Marge de bénéfice sur une unité\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: 100 }}\r\n\t\t\t\t\t\t\t\tvalue={`${marge}%`}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setMarge(e.target.value)}\r\n\t\t\t\t\t\t\t\terror={errors.marge ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.marge}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"horizontal-align\"\r\n\t\t\t\t\t\t\tstyle={{ marginBottom: 15 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel=\"Quantité *\"\r\n\t\t\t\t\t\t\t\tid=\"quantite_si\"\r\n\t\t\t\t\t\t\t\tname=\"quantite_si\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Quantité stock initial\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={quantite}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setQuantite(e.target.value)}\r\n\t\t\t\t\t\t\t\terror={errors.quantite ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.quantite}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel=\"Coût unitaire *\"\r\n\t\t\t\t\t\t\t\tid=\"cu\"\r\n\t\t\t\t\t\t\t\tname=\"cu\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Coût unitaire du produit\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tdisabled={!produit}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={cu}\r\n\t\t\t\t\t\t\t\tonChange={handleChangeCU}\r\n\t\t\t\t\t\t\t\terror={errors.cu ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.cu}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"horizontal-align\"\r\n\t\t\t\t\t\t\tstyle={{ marginBottom: 15 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel=\"Prix de vente unitaire *\"\r\n\t\t\t\t\t\t\t\tid=\"pv\"\r\n\t\t\t\t\t\t\t\tname=\"pv\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Coût unitaire du produit\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tdisabled={!produit}\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={pv}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPv(e.target.value)}\r\n\t\t\t\t\t\t\t\terror={errors.pv ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.pv}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DateMaskInput\r\n\t\t\t\t\t\t\t\tlabel=\"Date d'expiration\"\r\n\t\t\t\t\t\t\t\tvalue={dateExp}\r\n\t\t\t\t\t\t\t\tonChange={dateExpChange}\r\n\t\t\t\t\t\t\t\tid=\"exp\"\r\n\t\t\t\t\t\t\t\tname=\"exp\"\r\n\t\t\t\t\t\t\t\tdisabled={!produit}\r\n\t\t\t\t\t\t\t\tplaceholder=\"jj/mm/aaaa\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.dateExp ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.dateExp}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-actions\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 113.19,\r\n\t\t\t\t\t\t\t\theight: 36.5,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Enregistrer\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\tsx={{ ml: 1 }}\r\n\t\t\t\t\t\t\tonClick={toggleMultiple}\r\n\t\t\t\t\t\t\tdisabled={provenance !== 'interne'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEnregistrement multiple\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ marginTop: 15 }}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tmarginBottom: 1.5,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InfoIcon\r\n\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\" className=\"small\">\r\n\t\t\t\t\t\t\t\tUtilisez la touche tabulation pour passer de\r\n\t\t\t\t\t\t\t\tchamps à champs.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Typography variant=\"caption\" className=\"small\">\r\n\t\t\t\t\t\t\t(*) veut dire que le champs est réquis.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import * as React from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell, { tableCellClasses } from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport {useSelector} from 'react-redux';\r\nimport {selectAll as selectEntrees} from '../../../app/reducers/entree';\r\n\r\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n\t[`&.${tableCellClasses.head}`]: {\r\n\t\tbackgroundColor: '#307ecc',\r\n\t\tcolor: theme.palette.common.white,\r\n\t\tfontSize: 15,\r\n\t\tpadding: \"7px 10px\"\r\n\t},\r\n\t[`&.${tableCellClasses.body}`]: {\r\n\t\tfontSize: 14,\r\n\t\tpadding: \"7px 10px\"\r\n\t},\r\n}));\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n\t\"&:nth-of-type(odd)\": {\r\n\t\tbackgroundColor: theme.palette.action.hover,\r\n\t},\r\n\t// hide last border\r\n\t\"&:last-child td, &:last-child th\": {\r\n\t\tborder: 0,\r\n\t},\r\n}));\r\n\r\nexport default function ApprovisionnementTableau() {\r\n\tconst theme = useTheme();\r\n\tconst donnees = useSelector(selectEntrees);\r\n\treturn (\r\n\t\t<TableContainer\r\n\t\t\tcomponent={Paper}\r\n\t\t\tstyle={{\r\n\t\t\t\tboxShadow:\r\n\t\t\t\t\t\"rgb(0 0 0 / 20%) 0px 1px 3px -2px, rgb(0 0 0 / 14%) 0px 1px 2px 0px, rgb(213 213 213 / 12%) 0px -1px 1px 0px\",\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\r\n\t\t\t\t<TableHead>\r\n\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\"aria-label\": \"select all desserts\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\">N°</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell>entree/marchandises</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell>Code</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell>Nature</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\tQuantité\r\n\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\tC.U.\r\n\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\">C.T.</StyledTableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t</TableHead>\r\n\t\t\t\t<TableBody>\r\n\t\t\t\t\t{donnees &&\r\n\t\t\t\t\t\tdonnees.map((entree, i) => (\r\n\t\t\t\t\t\t\t<StyledTableRow key={entree.id}>\r\n\t\t\t\t\t\t\t\t<StyledTableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\"aria-label\": \"select all desserts\",\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t{i + 1}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tcomponent=\"th\"\r\n\t\t\t\t\t\t\t\t\tscope=\"row\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{entree.produit.designation}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t{entree.produit.code_produit}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t{entree.produit.unite}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell\r\n\t\t\t\t\t\t\t\t\talign=\"right\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{entree.quantite_entree}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t{entree.cout_unitaire}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t{parseFloat(entree.cout_unitaire) * parseFloat(entree.quantite_entree)}\r\n\t\t\t\t\t\t\t\t</StyledTableCell>\r\n\t\t\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t<StyledTableRow style={{ height: 35 }}>\r\n\t\t\t\t\t\t<StyledTableCell align=\"left\"></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t\t<StyledTableCell align=\"right\"></StyledTableCell>\r\n\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</TableContainer>\r\n\t);\r\n}\r\n","import {createSlice, createAsyncThunk, createEntityAdapter} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst stockEntity = createEntityAdapter({\r\n    selectId: item => item.id,\r\n})\r\n\r\nconst initialState = stockEntity.getInitialState({\r\n    status: 'idle',\r\n    errors: null,\r\n    currentStock: null,\r\n    stockPrincipal: null\r\n});\r\n\r\nexport const getStocks = createAsyncThunk(\r\n    'stocks/get-for-entreprise',\r\n    async (eseId) => {\r\n        const res = await axios.get('/api/stock/' + eseId);\r\n        return res.data;\r\n    }\r\n);\r\n\r\nexport const getOneStock = createAsyncThunk(\r\n    'stocks/get-one',\r\n    async (eseId, stockId) => {\r\n        const res = await axios.get('/api/stock/' + eseId + '/' + stockId);\r\n        return res.data;\r\n    }\r\n);\r\n\r\nexport const creerStock = createAsyncThunk(\r\n    'stocks/creer',\r\n    async ({eseId, data}) => {\r\n        const res = await axios.post('/api/stock/' + eseId, data);\r\n        return res.data;\r\n    }\r\n);\r\n\r\n\r\nexport const {reducer, actions} = createSlice({\r\n    name: 'stock',\r\n    initialState,\r\n    reducers: {\r\n        ajouterProduit: (state, action) => {\r\n            const produit = action.payload;\r\n            state.produits = [...state.produits, {id: state.produits.length + 1, ...produit}];\r\n        }\r\n    },\r\n    extraReducers: {\r\n        [getStocks.pending]: (state) => {\r\n            state.status = 'loading';\r\n        },\r\n        [getStocks.fulfilled]: (state, action) => {\r\n            state.status = 'fulfilled';\r\n            stockEntity.upsertMany(state, action.payload);\r\n            const sP = action.payload.find(stock => stock.num_stock === '1');\r\n            state.stockPrincipal = sP;\r\n        },\r\n        [getStocks.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n            state.errors = action.payload;\r\n        },\r\n        \r\n        [getOneStock.pending]: (state, action) => {\r\n            state.status = 'loading';\r\n        },\r\n        [getOneStock.fulfilled]: (state, action) => {\r\n            state.status = 'fulfilled';\r\n            state.currentStock = action.payload;\r\n        },\r\n        [getOneStock.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n            state.errors = action.payload;\r\n        },\r\n        [creerStock.pending]: (state) => {\r\n            state.status = 'loading';\r\n        },\r\n\r\n        [creerStock.fulfilled]: (state, action) => {\r\n            if (action.payload.state === \"success\") {\r\n                state.status = 'fulfilled';\r\n                stockEntity.upsertOne(state, action.payload.stock);\r\n            } else {\r\n                state.status = 'fulfilled';\r\n                state.errors = action.payload;\r\n            }\r\n        },\r\n        [creerStock.rejected]: (state, action) => {\r\n            state.status = 'failed';\r\n            state.errors = action.payload;\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    selectAll,\r\n    selectById,\r\n} = stockEntity.getSelectors(state => state.stocks);\r\n\r\nexport const getReqState = state => state.stocks.status;\r\nexport const getErrors = state => state.stocks.errors;\r\nexport const getStockPrincipal = state => state.stocks.stockPrincipal;","import React, {useEffect} from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport FormApprovisionnement from \"../components/FormApprovisionnement\";\r\nimport ApprovisionnementTableau from \"../components/TableApprovisionnement\";\r\nimport {getEntreeNumeros} from \"../../../app/reducers/entree\";\r\nimport {getStockPrincipal} from '../../../app/reducers/stock';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\nexport default function Approvisionnement() {\r\n\tconst stock = useSelector(getStockPrincipal);\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tif (stock) {\r\n\t\t\tdispatch(getEntreeNumeros());\r\n\t\t}\r\n\t}, [dispatch, stock]);\r\n\treturn (\r\n\t\t<div className=\"approv-container\">\r\n\t\t\t<FormApprovisionnement />\r\n\t\t\t<Box mt={2} p=\"0 10px\">\r\n\t\t\t\t<ApprovisionnementTableau />\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport {Typography} from '@mui/material';\r\n\r\nexport default function FicheStock() {\r\n    return (\r\n        <div className=\"module-page\">\r\n            <header>\r\n                <Typography className=\"module-title\">Fiche de stock <span className=\"small\">>> Les mouvement de stock</span></Typography>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n\tBox,\r\n\tButton,\r\n\tTextField,\r\n\tTypography,\r\n\tCircularProgress,\r\n\tModal,\r\n\tIconButton,\r\n    Alert,\r\n} from \"@mui/material\";\r\nimport {useDispatch} from 'react-redux';\r\nimport { styled } from \"@mui/material/styles\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport axios from \"axios\";\r\nimport {actions} from '../../../app/reducers/produit';\r\n\r\n// Creation des quelques composants \r\nconst StyledContainer = styled(\"form\")(() => ({\r\n\tbackgroundColor: \"#fff\",\r\n\theight: \"100%\",\r\n\twidth: 300,\r\n\tpadding: 20,\r\n}));\r\nconst StyledHeader = styled(\"div\")(() => ({\r\n\tdisplay: \"flex\",\r\n\tjustifyContent: \"space-between\",\r\n\talignItems: \"center\",\r\n\tmarginBottom: 15,\r\n\t\"& > h1\": {\r\n\t\tfontSize: 17,\r\n\t},\r\n}));\r\n\r\n/**\r\n * Componsant Formulaire de création des catégories des produits\r\n */\r\nexport default function CategorieForm({ open, onClose }) {\r\n\t// Declaration des variable états du composant\r\n\tconst [nom, setNom] = useState(\"\");\r\n\tconst [code, setCode] = useState(\"\");\r\n\tconst [description, setDescription] = useState(\"\");\r\n\tconst [errors, setErrors] = useState({});\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\t// Référence au premier champs du formulaire\r\n\tconst nomRef = React.useRef();\r\n\r\n\t// Fonction d'initialisation\r\n\tconst initAll = () => {\r\n\t\tsetNom(\"\");\r\n\t\tsetCode(\"\");\r\n\t\tsetDescription(\"\");\r\n\t\tsetErrors({});\r\n        setLoading(false);\r\n\t};\r\n\r\n\t// Recuperation des valeurs des champs du formulaire\r\n\tconst handleInputChange = (value, label) => {\r\n\t\t// Reinitialisation des eureurs\r\n\t\tsetErrors({ ...errors, [label]: null });\r\n\r\n\t\tswitch (label) {\r\n\t\t\tcase \"nom\":\r\n\t\t\t\tsetNom(value);\r\n\t\t\t\tif (value !== \"\") {\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"code\":\r\n\t\t\t\tsetCode(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"description\":\r\n\t\t\t\tsetDescription(value);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t// Fermeture du formulaire\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tinitAll();\r\n\t};\r\n\r\n\t// Validation des valeurs\r\n\tconst validateData = (nom, code) => {\r\n\t\tlet valid = true;\r\n\t\tif (nom === \"\") {\r\n\t\t\tvalid = false;\r\n\t\t\tsetErrors({ ...errors, nom: \"La valeur est réquise\" });\r\n\t\t}\r\n\t\tif (code === \"\") {\r\n\t\t\tvalid = false;\r\n\t\t\tsetErrors({ ...errors, nom: \"La valeur est réquise\" });\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\t};\r\n\r\n\t// Fonction d'enregistrement\r\n    const dispatch = useDispatch();\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Test de la validation des valeurs avant l'envoie de la requête\r\n\t\tconst valid = validateData(nom, code);\r\n\t\tif (!valid) return;\r\n\r\n\t\t// Envoie de la requête\r\n\t\ttry {\r\n            setLoading(true);\r\n\t\t\tconst res = await axios.post(\"/api/produits/categories\", {nom, code, description});\r\n\r\n\t\t\tconst data = res.data;\r\n\r\n            console.log(data);\r\n\r\n\t\t\tif (data.state === \"success\") {\r\n                dispatch(actions.appendCategorie(data.categorie));\r\n                initAll();\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n            setLoading(false);\r\n\t\t\terrors[\"server\"] =\r\n\t\t\t\t\"Une erreur s'est produite lors de l'enregistrement\";\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal open={open} onClose={handleClose}>\r\n\t\t\t<StyledContainer onSubmit={handleSubmit}>\r\n            {errors.server > 0 &&\r\n\t\t\t\t\t<Alert severity=\"error\" color=\"error\" variant=\"standard\" sx={{fontSize: 13}}>\r\n\t\t\t\t\t\t{errors.server}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t}\r\n\t\t\t\t<StyledHeader>\r\n\t\t\t\t\t<Typography variant=\"h1\">\r\n\t\t\t\t\t\tNouvelle catégorie de produit\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<IconButton onClick={handleClose}>\r\n\t\t\t\t\t\t<CloseIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</StyledHeader>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputRef={nomRef}\r\n\t\t\t\t\tlabel=\"Nom de la catégorie *\"\r\n\t\t\t\t\tid=\"categorie\"\r\n\t\t\t\t\tname=\"categorie\"\r\n\t\t\t\t\tplaceholder=\"Catégorie des produits\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={nom}\r\n\t\t\t\t\tonChange={(e) => handleInputChange(e.target.value, \"nom\")}\r\n\t\t\t\t\terror={errors.nom ? true : false}\r\n\t\t\t\t\thelperText={errors.nom}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputRef={nomRef}\r\n\t\t\t\t\tlabel=\"Code de la catégorie *\"\r\n\t\t\t\t\tid=\"categorie\"\r\n\t\t\t\t\tname=\"categorie\"\r\n\t\t\t\t\tplaceholder=\"Code des produits\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={code}\r\n\t\t\t\t\tonChange={(e) => handleInputChange(e.target.value, \"code\")}\r\n\t\t\t\t\terror={errors.code ? true : false}\r\n\t\t\t\t\thelperText={errors.code}\r\n\t\t\t\t/>\r\n\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\t\tDéscripton\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"description\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\tplaceholder=\"Une petite description du produit\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\thandleInputChange(e.target.value, \"description\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\terror={errors.description ? true : false}\r\n\t\t\t\t\t\thelperText={errors.description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<div className=\"form-actions\">\r\n\t\t\t\t\t<div className=\"horizontal-align\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\tsx={{ mr: 2 }}\r\n\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAnnuler\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\ttype=\"sumbit\"\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 124.78,\r\n\t\t\t\t\t\t\t\theight: 36.5,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Enregistrer\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</StyledContainer>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n\tBox,\r\n\tButton,\r\n\tTextField,\r\n\tTypography,\r\n\tCircularProgress,\r\n} from \"@mui/material\";\r\nimport {\r\n\tAdd,\r\n\tFormatListBulleted as FormatListBulletedIcon,\r\n} from \"@mui/icons-material\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n\tactions,\r\n\tcreerProduit,\r\n\tgetErrors,\r\n} from \"../../../app/reducers/produit\";\r\nimport { ComboBox } from \"../../../Components\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { validerNouveauProduit } from \"../utilities/validators/produit\";\r\nimport CategorieForm from \"../components/CategorieForm\";\r\nimport { LargeDialog } from \"../../../Components\";\r\nimport {\r\n\tgetCategories,\r\n\tgetCategoriesProduit,\r\n} from \"../../../app/reducers/produit\";\r\n\r\nfunction AutresTaxes({ taxes = [], handleDelete }) {\r\n\treturn (\r\n\t\t<Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\r\n\t\t\t{taxes.map((taxe) => (\r\n\t\t\t\t<Chip\r\n\t\t\t\t\tkey={taxe.label}\r\n\t\t\t\t\tlabel={`${taxe.label} : ${taxe.pourcentage}%`}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonDelete={() => handleDelete(taxe.label)}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</Stack>\r\n\t);\r\n}\r\n\r\nexport default function NouveauProduit() {\r\n\t// Création des états\r\n\tconst [designation, setDesignation] = useState(\"\");\r\n\tconst [unite, setUnite] = useState(\"\");\r\n\tconst [marge, setMarge] = useState(0);\r\n\tconst [qMin, setQMin] = useState(0);\r\n\tconst [code, setCode] = useState(\"\");\r\n\tconst [description, setDescription] = useState(\"\");\r\n\tconst [emballage, setEmballage] = useState(\"\");\r\n\tconst [categorie, setCategorie] = useState(null);\r\n\tconst [numCompte, setNumCompte] = useState(\"31\");\r\n\tconst [taxeNom, setTaxeNom] = useState(\"\");\r\n\tconst [taxeValue, setTaxeValue] = useState(\"\");\r\n\tconst [taxes, setTaxes] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [errors, setErrors] = useState({});\r\n\tconst [addCategory, setAddCategory] = useState(false);\r\n\tconst serverError = useSelector(getErrors);\r\n\r\n\t// recuperation des categorie des produit (redux store)\r\n\tconst categories = useSelector(getCategories);\r\n\r\n\tconst designRef = useRef();\r\n\r\n\tconst toggleAddCategory = () => {\r\n\t\tsetAddCategory(!addCategory);\r\n\t};\r\n\r\n\tconst handleInputChange = (value, label) => {\r\n\t\tswitch (label) {\r\n\t\t\tcase \"designation\":\r\n\t\t\t\tsetDesignation(value);\r\n\t\t\t\tsetErrors({ ...errors, designation: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"code\":\r\n\t\t\t\tsetCode(value);\r\n\t\t\t\tsetErrors({ ...errors, code: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"qMin\":\r\n\t\t\t\tsetQMin(value);\r\n\t\t\t\tif (qMin !== null || qMin !== \"\") {\r\n\t\t\t\t\tsetErrors({ ...errors, qMin: null });\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"unite\":\r\n\t\t\t\tsetUnite(value);\r\n\t\t\t\tsetErrors({ ...errors, unite: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"marge\":\r\n\t\t\t\tsetMarge(value);\r\n\t\t\t\tsetErrors({ ...errors, marge: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"emballage\":\r\n\t\t\t\tsetMarge(value);\r\n\t\t\t\tsetErrors({ ...errors, marge: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"taxeNom\":\r\n\t\t\t\tsetTaxeNom(value);\r\n\t\t\t\tsetErrors({ ...errors, taxeNom: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"taxeValue\":\r\n\t\t\t\tsetTaxeValue(value);\r\n\t\t\t\tsetErrors({ ...errors, taxeValue: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"numCompte\":\r\n\t\t\t\tsetNumCompte(value);\r\n\t\t\t\tsetErrors({ ...errors, numCompte: null });\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"categorie\":\r\n\t\t\t\tsetCategorie(value);\r\n\t\t\t\tsetErrors({ ...errors, categorie: null });\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tconst appendTaxe = () => {\r\n\t\tlet valid = true;\r\n\t\tlet errs = { ...errors };\r\n\t\tif (taxeNom === \"\") {\r\n\t\t\tvalid = false;\r\n\t\t\terrs[\"taxeNom\"] = \"Valeure réquise.\";\r\n\t\t}\r\n\t\tif (taxeValue === \"\") {\r\n\t\t\tvalid = false;\r\n\t\t\terrs[\"taxeValue\"] = \"Valeure réquise.\";\r\n\t\t}\r\n\r\n\t\tif (taxes.some((t) => t.label === taxeNom)) {\r\n\t\t\tvalid = false;\r\n\t\t}\r\n\r\n\t\tif (!valid) {\r\n\t\t\tsetErrors(errs);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetTaxes([...taxes, { label: taxeNom, pourcentage: taxeValue }]);\r\n\r\n\t\tsetTaxeNom(\"\");\r\n\t\tsetTaxeValue(\"\");\r\n\t};\r\n\r\n\tconst handleRemoveTaxe = (label) => {\r\n\t\tconst t = taxes.filter((t) => t.label !== label);\r\n\r\n\t\tsetTaxes(t);\r\n\t};\r\n\r\n\t// Fonction d'initialisation des champs du formulaire\r\n\tconst initAll = () => {\r\n\t\tsetDesignation(\"\");\r\n\t\tsetUnite(\"\");\r\n\t\tsetQMin(\"\");\r\n\t\tsetMarge(0);\r\n\t\tsetCode(\"\");\r\n\t\tsetDescription(\"\");\r\n\t\tsetCategorie(null);\r\n\t\tsetTaxes([]);\r\n\t\tsetTaxeNom(\"\");\r\n\t\tsetTaxeValue(\"\");\r\n\t\tsetNumCompte(\"31\");\r\n\t\tsetEmballage(\"\");\r\n\r\n\t\tif (designRef.current) {\r\n\t\t\tdesignRef.current.focus();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCompteChange = (e) => {\r\n\t\tconst val = e.target.value;\r\n\t\tif (val === \"\" || val[0] !== \"3\") {\r\n\t\t\tsetErrors({\r\n\t\t\t\t...errors,\r\n\t\t\t\tnumCompte: \"Mauvais numéro de compte\",\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrors({\r\n\t\t\t\t...errors,\r\n\t\t\t\tnumCompte: null,\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetNumCompte(val);\r\n\t};\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (loading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { valid: valid1, errors: errors1 } = validerNouveauProduit(\r\n\t\t\tdesignation,\r\n\t\t\tunite,\r\n\t\t\tmarge,\r\n\t\t\tqMin,\r\n\t\t\tcode,\r\n\t\t\tnumCompte\r\n\t\t);\r\n\r\n\t\tif (!valid1) {\r\n\t\t\tsetErrors(errors1);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\t\tconst prod = {\r\n\t\t\tdesignation,\r\n\t\t\tcode_produit: code,\r\n\t\t\tdescription,\r\n\t\t\temballage,\r\n\t\t\tunite,\r\n\t\t\tmarge,\r\n\t\t\ttaxes,\r\n\t\t\tquantite: 0,\r\n\t\t\tq_min: qMin,\r\n\t\t\tcategorieId: categorie ? categorie.id : null,\r\n\t\t};\r\n\r\n\t\tdispatch(\r\n\t\t\tcreerProduit({\r\n\t\t\t\tdata: prod,\r\n\t\t\t})\r\n\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.payload.state === \"success\") {\r\n\t\t\t\t\tinitAll();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.finally(() => setLoading(false));\r\n\t};\r\n\r\n\tconst handleClearServerErrors = () => {\r\n\t\tsetErrors({ ...errors, server: null });\r\n\t\tdispatch(actions.initError());\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetErrors({ ...errors, server: serverError });\r\n\t}, [serverError]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getCategoriesProduit());\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{addCategory && (\r\n\t\t\t\t<CategorieForm onClose={toggleAddCategory} open={addCategory} />\r\n\t\t\t)}\r\n\t\t\t<form className=\"produit-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t{errors.server && (\r\n\t\t\t\t\t<LargeDialog\r\n\t\t\t\t\t\ttitle=\"Erreur\"\r\n\t\t\t\t\t\topen={serverError ? true : false}\r\n\t\t\t\t\t\tmessage={errors.server}\r\n\t\t\t\t\t\tonAgree={handleClearServerErrors}\r\n\t\t\t\t\t\tonClose={handleClearServerErrors}\r\n\t\t\t\t\t\tagreeBtnText=\"Ok\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Typography variant=\"h1\">\r\n\t\t\t\t\t\tAjout des nouveaux produits/Articles\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto=\"/stock/produits\"\r\n\t\t\t\t\t\tclassName={({ isActive }) =>\r\n\t\t\t\t\t\t\tisActive ? \"active-navlink\" : \"navlink\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\tstartIcon={<FormatListBulletedIcon />}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tListe des produits\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"form-block\">\r\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\t\t\t1. Généralités\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tinputRef={designRef}\r\n\t\t\t\t\t\t\t\tlabel=\"Désignation du produit *\"\r\n\t\t\t\t\t\t\t\tid=\"designation\"\r\n\t\t\t\t\t\t\t\tname=\"designation\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Désignation du produit\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={designation}\r\n\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\"designation\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={errors.designation ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.designation}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"horizontal-align\">\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tlabel=\"Code Produit *\"\r\n\t\t\t\t\t\t\t\t\tid=\"code\"\r\n\t\t\t\t\t\t\t\t\tname=\"code\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Code du produit\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={code}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\"code\"\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errors.code ? true : false}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.code}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tlabel=\"Quantité minimale *\"\r\n\t\t\t\t\t\t\t\t\tid=\"q_min\"\r\n\t\t\t\t\t\t\t\t\tname=\"q_min\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Quantité minimale\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tvalue={qMin}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\"qMin\"\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errors.qMin ? true : false}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.qMin}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"horizontal-align\">\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tlabel=\"Unité de mésure du produit *\"\r\n\t\t\t\t\t\t\t\t\tid=\"unite\"\r\n\t\t\t\t\t\t\t\t\tname=\"unite\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Unité de mésure du produit\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvalue={unite}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\"unite\"\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errors.unite ? true : false}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.unite}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tlabel=\"Marge de bénéfice sur une unité (%) *\"\r\n\t\t\t\t\t\t\t\t\tid=\"marge\"\r\n\t\t\t\t\t\t\t\t\tname=\"marge\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Marge de bénéfice sur une unité\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tvalue={marge}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\"marge\"\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errors.marge ? true : false}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.marge}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel=\"L'emballage du produit (Conteneur)\"\r\n\t\t\t\t\t\t\t\tid=\"emballage\"\r\n\t\t\t\t\t\t\t\tname=\"emballage\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"L'emballage du produit\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={emballage}\r\n\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\"emballage\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDéscripton\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tid=\"description\"\r\n\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Une petite description du produit\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\"description\"\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\t\terror={errors.description ? true : false}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.description}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-block\">\r\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\t\t\t2. Catégorie du produit (gamme)\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ComboBox\r\n\t\t\t\t\t\t\t\tlabel=\"Catégorie *\"\r\n\t\t\t\t\t\t\t\tid=\"Catégorie\"\r\n\t\t\t\t\t\t\t\tname=\"Catégorie\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Catégorie\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\toptions={\r\n\t\t\t\t\t\t\t\t\tcategories.map((cat) => ({\r\n\t\t\t\t\t\t\t\t\t\tlabel: cat.nom_categorie,\r\n\t\t\t\t\t\t\t\t\t\t...cat,\r\n\t\t\t\t\t\t\t\t\t})) || []\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue={categorie}\r\n\t\t\t\t\t\t\t\tsetValue={(value) => setCategorie(value)}\r\n\t\t\t\t\t\t\t\tsx={{ display: \"block\" }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\tonClick={toggleAddCategory}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNouvelle catégorie\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-block\">\r\n\t\t\t\t\t\t<Typography variant=\"h2\" className=\"block-title\">\r\n\t\t\t\t\t\t\t3. Autres données\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel=\"Numéro de compte stock *\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Numéro de compte stock\"\r\n\t\t\t\t\t\t\t\tname=\"compte\"\r\n\t\t\t\t\t\t\t\tid=\"compte\"\r\n\t\t\t\t\t\t\t\tinputProps={{ maxLength: 8 }}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tvalue={numCompte}\r\n\t\t\t\t\t\t\t\tonChange={handleCompteChange}\r\n\t\t\t\t\t\t\t\terror={errors.numCompte ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.numCompte}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block-title\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAutres taxes liées\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t{taxes.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t<AutresTaxes\r\n\t\t\t\t\t\t\t\t\t\ttaxes={taxes}\r\n\t\t\t\t\t\t\t\t\t\thandleDelete={handleRemoveTaxe}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"flex-start\">\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nom de la taxe\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"nom_taxe\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"nom_taxe\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Taxe\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tsx={{ display: \"block\", mr: 1, my: 0 }}\r\n\t\t\t\t\t\t\t\t\t\tvalue={taxeNom}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"taxeNom\"\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\terror={errors.taxeNom ? true : false}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errors.taxeNom}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Valeur (%)\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"taxe\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"taxe\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Taxe\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength: 5,\r\n\t\t\t\t\t\t\t\t\t\t\tminLength: 0,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tsx={{ display: \"block\", mr: 1, my: 0 }}\r\n\t\t\t\t\t\t\t\t\t\tvalue={taxeValue}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleInputChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"taxeValue\"\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\terror={errors.taxeValue ? true : false}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errors.taxeValue}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<Add />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={appendTaxe}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tAjouter\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-actions\">\r\n\t\t\t\t\t<div className=\"horizontal-align\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\tsx={{ mr: 2 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAnnuler\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\ttype=\"sumbit\"\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tminWidth: 124.78,\r\n\t\t\t\t\t\t\t\theight: 36.5,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t<CircularProgress size={12} color=\"inherit\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Enregistrer\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n}\r\n","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Box from '@mui/material/Box';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\n\r\nfunction createData(name, calories, fat, carbs, protein, price) {\r\n  return {\r\n    name,\r\n    calories,\r\n    fat,\r\n    carbs,\r\n    protein,\r\n    price,\r\n    history: [\r\n      {\r\n        date: '2020-01-05',\r\n        customerId: '11091700',\r\n        amount: 3,\r\n      },\r\n      {\r\n        date: '2020-01-02',\r\n        customerId: 'Anonymous',\r\n        amount: 1,\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nfunction Row(props) {\r\n  const { row } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\r\n        <TableCell>\r\n          <IconButton\r\n            aria-label=\"expand row\"\r\n            size=\"small\"\r\n            onClick={() => setOpen(!open)}\r\n          >\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {row.name}\r\n        </TableCell>\r\n        <TableCell align=\"right\">{row.calories}</TableCell>\r\n        <TableCell align=\"right\">{row.fat}</TableCell>\r\n        <TableCell align=\"right\">{row.carbs}</TableCell>\r\n        <TableCell align=\"right\">{row.protein}</TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box sx={{ margin: 1 }}>\r\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                History\r\n              </Typography>\r\n              <Table size=\"small\" aria-label=\"purchases\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Date</TableCell>\r\n                    <TableCell>Customer</TableCell>\r\n                    <TableCell align=\"right\">Amount</TableCell>\r\n                    <TableCell align=\"right\">Total price ($)</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {row.history.map((historyRow) => (\r\n                    <TableRow key={historyRow.date}>\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                        {historyRow.date}\r\n                      </TableCell>\r\n                      <TableCell>{historyRow.customerId}</TableCell>\r\n                      <TableCell align=\"right\">{historyRow.amount}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {Math.round(historyRow.amount * row.price * 100) / 100}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nRow.propTypes = {\r\n  row: PropTypes.shape({\r\n    calories: PropTypes.number.isRequired,\r\n    carbs: PropTypes.number.isRequired,\r\n    fat: PropTypes.number.isRequired,\r\n    history: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        amount: PropTypes.number.isRequired,\r\n        customerId: PropTypes.string.isRequired,\r\n        date: PropTypes.string.isRequired,\r\n      }),\r\n    ).isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    protein: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nconst rows = [\r\n  createData('Frozen yoghurt', 159, 6.0, 24, 4.0, 3.99),\r\n  createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99),\r\n  createData('Eclair', 262, 16.0, 24, 6.0, 3.79),\r\n  createData('Cupcake', 305, 3.7, 67, 4.3, 2.5),\r\n  createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5),\r\n];\r\n\r\nexport default function CollapsibleTable() {\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table aria-label=\"collapsible table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell />\r\n            <TableCell>Dessert (100g serving)</TableCell>\r\n            <TableCell align=\"right\">Calories</TableCell>\r\n            <TableCell align=\"right\">Fat&nbsp;(g)</TableCell>\r\n            <TableCell align=\"right\">Carbs&nbsp;(g)</TableCell>\r\n            <TableCell align=\"right\">Protein&nbsp;(g)</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <Row key={row.name} row={row} />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}","import { Box, Button, Typography } from '@mui/material';\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport ApprovHistoryTable from '../components/ApprovHistoryTable';\r\nimport TimeRangePicker from '../components/TimeRangePicker';\r\n\r\nexport default function Historique() {\r\n    return (\r\n        <div className=\"historique-page\">\r\n            <header>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t\tbackground=\"#fff\"\r\n\t\t\t\t\tpadding=\"5px 15px\"\r\n\t\t\t\t\tborderRadius=\"5px\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography className=\"module-title\">\r\n\t\t\t\t\t\tHistorique des entrées\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Link to=\"/stock/nouveau_produit\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAjouter un produit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n                </Box>\r\n\t\t\t</header>\r\n            <div>\r\n                {/* <TimeRangePicker value={[null, null]} /> */}\r\n                <ApprovHistoryTable />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport \"./stock.styles.css\";\r\nimport \"./components/component.style.css\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport PageProduit from \"./pages/Produit\";\r\nimport StockSideBar from './components/SideBar';\r\nimport ApprovisionnementPage from './pages/Approvisionnement';\r\nimport FicheStockPage from \"./pages/FicheStock\";\r\nimport NouveauProduit from \"./pages/NouveauProduit\";\r\nimport Historique from './pages/Historique';\r\n\r\nexport default function NavigationStock() {\r\n\treturn (\r\n        <div>\r\n            <StockSideBar />\r\n            <main className=\"main-stock\">\r\n                <Routes>\r\n                    <Route path=\"/produits\" element={<PageProduit />} />\r\n                    <Route path=\"/nouveau_produit\" element={<NouveauProduit />} />\r\n                    <Route path=\"approvisionnement\" element={<ApprovisionnementPage />} />\r\n                    <Route path=\"/historique_approvisionnement\" element={<Historique />} />\r\n                    <Route path=\"fiche_de_stock\" element={<FicheStockPage />} />\r\n                    <Route path=\"/\" element={<PageProduit />} />\r\n                </Routes>\r\n            </main>\r\n        </div>\r\n\t);\r\n}\r\n","import React, { useEffect, createContext, useState } from \"react\";\nimport \"./App.css\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport { FacturePDF, Topbar, Feedback } from \"./Components\";\nimport NavigationFacturation from \"./modules/Facturation/navigation\";\nimport NavigationStock from \"./modules/Stock/navigation\";\nimport { getUserData, getreqState, getAuth } from \"./app/reducers/assujetti\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Chargement } from \"./Components\";\nimport { getLoginRedirectUrl } from \"./utilities/helpers\";\n\nexport const FeedbackContext = createContext({});\n\nfunction App() {\n\tconst loading = useSelector(getreqState) === \"loading\";\n\tconst isAuth = useSelector(getAuth);\n\tconst dispatch = useDispatch();\n\n\t// Feedback context value\n\tconst [openState, setOpenState] = useState(false);\n\tconst [messageState, setMessageState] = useState(\"\");\n\tconst [typeState, setTypeState] = useState();\n\tconst [idState, setIdState] = useState(\"global-feed-back\");\n\n\tconst feedbackContextValue = {\n\t\tonClose: () => {\n\t\t\tsetOpenState(false);\n\t\t\tsetMessageState(\"\");\n\t\t},\n\t\tcreateFeedback: (message, id, type) => {\n\t\t\tsetOpenState(true);\n\t\t\tsetMessageState(message);\n\t\t\tsetIdState(id);\n\t\t\tsetTypeState(type);\n\t\t},\n\t\tgetFeedback: () => {\n\t\t\treturn {\n\t\t\t\tmessageState,\n\t\t\t\topenState,\n\t\t\t\tidState,\n\t\t\t\ttypeState\n\t\t\t};\n\t\t},\n\t};\n\n\tuseEffect(() => {\n\t\t// Recuperation des données de l'utilisateur\n\t\tdispatch(getUserData()).then((res) => {\n\t\t\tconst data = res.payload;\n\t\t\t// Verification si l'utilisateur est connecté.\n\t\t\t// Si oui il accède à l'application\n\t\t\t// Sinon il est redirigé vers le login\n\t\t\tif (!data || !data.connected) {\n\t\t\t\tconst href = getLoginRedirectUrl();\n\t\t\t\twindow.location.href = href;\n\t\t\t}\n\t\t});\n\t}, [dispatch]);\n\n\treturn (\n\t\t<>\n\t\t\t{loading || !isAuth ? (\n\t\t\t\t<Chargement\n\t\t\t\t\tmessage=\"Chargement...\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tminHeight: \"100vh\",\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<FeedbackContext.Provider value={feedbackContextValue}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Topbar />\n\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/stock/*\"\n\t\t\t\t\t\t\t\telement={<NavigationStock />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/facturation/*\"\n\t\t\t\t\t\t\t\telement={<NavigationFacturation />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/facture/:numFacture\"\n\t\t\t\t\t\t\t\telement={<FacturePDF />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"*\"\n\t\t\t\t\t\t\t\telement={<Navigate to=\"/stock\" />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Routes>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Feedback />\n\t\t\t\t</FeedbackContext.Provider>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport {reducer as productReducer} from './reducers/produit';\nimport {reducer as entreeReducer} from './reducers/entree';\nimport {reducer as stockReducer} from './reducers/stock';\nimport {reducer as venteReducer} from './reducers/vente';\nimport {reducer as assujettiReducer} from './reducers/assujetti';\nimport {reducer as factureReducer} from './reducers/facture';\nimport {reducer as ConfigReducer} from './reducers/config';\nimport {reducer as factureAchatReducer} from './reducers/factureAchat';\n\nexport const store = configureStore({\n  reducer: {\n    produits: productReducer,\n    entrees: entreeReducer,\n    stocks: stockReducer,\n    ventes: venteReducer,\n    assujetti: assujettiReducer,\n    factures: factureReducer,\n    facturesAchat: factureAchatReducer,\n    configs: ConfigReducer\n  },\n});\n","import { createTheme } from '@mui/material';\r\n\r\nconst typographyTheme = createTheme({\r\n    typography: {\r\n        fontFamily: [\r\n            '-apple-system',\r\n            'BlinkMacSystemFont',\r\n            '\"Segoe UI\"',\r\n            'Roboto',\r\n            '\"Helvetica Neue\"',\r\n            'Arial',\r\n            'sans-serif',\r\n            '\"Apple Color Emoji\"',\r\n            '\"Segoe UI Emoji\"',\r\n            '\"Segoe UI Symbol\"',\r\n        ].join(','),\r\n        title: {\r\n            fontSize: 'clamp(3.625rem, 1.2857rem + 3.5714vw, 4rem)',\r\n        },\r\n        h1: {\r\n            fontSize: '1.3rem',\r\n            fontWeight: '400'\r\n        },\r\n        h2: {\r\n            fontSize: '1rem',\r\n            fontWeight: '400',\r\n            marginBottom: '10px!important'\r\n        },\r\n        h3: {\r\n            fontSize: 28\r\n        },\r\n        h4: {\r\n            fontSize: 26\r\n        },\r\n        h5: {\r\n            fontSize: 24\r\n        },\r\n        h6: {\r\n            fontSize: 22\r\n        },\r\n        body1: {\r\n            fontSize: 20,\r\n        },\r\n        body2: {\r\n            fontSize: 18,\r\n        },\r\n        caption: {\r\n            fontSize: 16\r\n        },\r\n    }\r\n});\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: '#307ECC',\r\n            light: \"#6FAED9\",\r\n            dark: \"#0b222f\"\r\n        },\r\n        secondary: {\r\n            main: \"#fd7e14\",\r\n        },\r\n        default: {\r\n            main: '#555',\r\n            light: '#B6B6B6',\r\n            dark: '#333',\r\n        },\r\n        blackish: {\r\n            main: \"#001320\",\r\n            light: \"#00406c\"\r\n        },\r\n        background: {\r\n            main: '#E4E6E9'\r\n        },\r\n    },\r\n    typography: typographyTheme.typography,\r\n    components: {\r\n        MuiButton: {\r\n            defaultProps: {\r\n                size: 'medium',\r\n            },\r\n            styleOverrides: {\r\n                root: {\r\n                    borderRadius: 5,\r\n                    textTransform: 'initial',\r\n                }\r\n            }\r\n        },\r\n        MuiTextField: {\r\n            defaultProps: {\r\n                size: 'small'\r\n            },\r\n            styleOverrides: {\r\n                root: {\r\n                    fontSize: 14,\r\n                    borderRadius: 0,\r\n                    margin: '5px 0 10px 0'\r\n                },\r\n            }\r\n        },\r\n        MuiInputLabel: {\r\n            styleOverrides: {\r\n                root: {\r\n                    fontSize: 15\r\n                }\r\n            }\r\n        },\r\n        MuiOutlinedInput: {\r\n            styleOverrides: {\r\n                root: {\r\n                    borderRadius: 3\r\n                },\r\n                input: {\r\n                    fontSize: 15\r\n                },\r\n            }\r\n        },\r\n        MuiPaper: {\r\n            defaultProps: {\r\n                elevation: 3\r\n            }\r\n        },\r\n        MuiTableContainer: {\r\n            styleOverrides: {\r\n                root: {\r\n                    borderRadius: 3,\r\n                    boxShadow: \"none\",\r\n                }\r\n            }\r\n        },\r\n        MuiFormHelperText: {\r\n            styleOverrides: {\r\n                root: {\r\n                    fontSize: 10\r\n                }\r\n            }\r\n        },\r\n        MuiCheckbox: {\r\n            defaultProps: {\r\n                size: 'small',\r\n            },\r\n            styleOverrides: {\r\n                root: {\r\n                    padding: 0\r\n                }\r\n            }\r\n        }, \r\n        MuiRadio: {\r\n            defaultProps: {\r\n                size: 'small',\r\n            },\r\n            styleOverrides: {\r\n                root: {\r\n                    padding: 0\r\n                }\r\n            }\r\n        },\r\n        MuiFormControlLabel: {\r\n            styleOverrides: {\r\n                root: {\r\n                    marginLeft: 0,\r\n                },\r\n                label: {\r\n                    fontSize: 16,\r\n                    marginLeft: 5\r\n                }\r\n            }\r\n        },\r\n        MuiBackdrop: {\r\n            styleOverrides: {\r\n                root: {\r\n                    background: '#00000042',\r\n                },                \r\n            },\r\n        }\r\n    }\r\n});\r\n\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport theme from  './app/theme';\nimport {ThemeProvider} from '@mui/material';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n          <BrowserRouter>\n            <App />\n          </BrowserRouter>\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}